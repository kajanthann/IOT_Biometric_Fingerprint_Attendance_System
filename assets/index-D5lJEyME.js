(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function US(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qf={exports:{}},Oa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function jS(){if(w_)return Oa;w_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Oa.Fragment=e,Oa.jsx=i,Oa.jsxs=i,Oa}var x_;function zS(){return x_||(x_=1,qf.exports=jS()),qf.exports}var b=zS(),Vf={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function HS(){if(R_)return _e;R_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Q={};function G(S,I,q){this.props=S,this.context=I,this.refs=Q,this.updater=q||k}G.prototype.isReactComponent={},G.prototype.setState=function(S,I){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,I,"setState")},G.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function J(){}J.prototype=G.prototype;function $(S,I,q){this.props=S,this.context=I,this.refs=Q,this.updater=q||k}var se=$.prototype=new J;se.constructor=$,z(se,G.prototype),se.isPureReactComponent=!0;var ye=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function ee(S,I,q,j,Z,ue){return q=ue.ref,{$$typeof:s,type:S,key:I,ref:q!==void 0?q:null,props:ue}}function w(S,I){return ee(S.type,I,void 0,void 0,void 0,S.props)}function T(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function U(S){var I={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(q){return I[q]})}var Y=/\/+/g;function F(S,I){return typeof S=="object"&&S!==null&&S.key!=null?U(""+S.key):I.toString(36)}function re(){}function ve(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(re,re):(S.status="pending",S.then(function(I){S.status==="pending"&&(S.status="fulfilled",S.value=I)},function(I){S.status==="pending"&&(S.status="rejected",S.reason=I)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function pe(S,I,q,j,Z){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var ie=!1;if(S===null)ie=!0;else switch(ue){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(S.$$typeof){case s:case e:ie=!0;break;case y:return ie=S._init,pe(ie(S._payload),I,q,j,Z)}}if(ie)return Z=Z(S),ie=j===""?"."+F(S,0):j,ye(Z)?(q="",ie!=null&&(q=ie.replace(Y,"$&/")+"/"),pe(Z,I,q,"",function(be){return be})):Z!=null&&(T(Z)&&(Z=w(Z,q+(Z.key==null||S&&S.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+ie)),I.push(Z)),1;ie=0;var Qe=j===""?".":j+":";if(ye(S))for(var ae=0;ae<S.length;ae++)j=S[ae],ue=Qe+F(j,ae),ie+=pe(j,I,q,ue,Z);else if(ae=C(S),typeof ae=="function")for(S=ae.call(S),ae=0;!(j=S.next()).done;)j=j.value,ue=Qe+F(j,ae++),ie+=pe(j,I,q,ue,Z);else if(ue==="object"){if(typeof S.then=="function")return pe(ve(S),I,q,j,Z);throw I=String(S),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ie}function N(S,I,q){if(S==null)return S;var j=[],Z=0;return pe(S,j,"","",function(ue){return I.call(q,ue,Z++)}),j}function H(S){if(S._status===-1){var I=S._result;I=I(),I.then(function(q){(S._status===0||S._status===-1)&&(S._status=1,S._result=q)},function(q){(S._status===0||S._status===-1)&&(S._status=2,S._result=q)}),S._status===-1&&(S._status=0,S._result=I)}if(S._status===1)return S._result.default;throw S._result}var K=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function X(){}return _e.Children={map:N,forEach:function(S,I,q){N(S,function(){I.apply(this,arguments)},q)},count:function(S){var I=0;return N(S,function(){I++}),I},toArray:function(S){return N(S,function(I){return I})||[]},only:function(S){if(!T(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},_e.Component=G,_e.Fragment=i,_e.Profiler=o,_e.PureComponent=$,_e.StrictMode=a,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,_e.__COMPILER_RUNTIME={__proto__:null,c:function(S){return te.H.useMemoCache(S)}},_e.cache=function(S){return function(){return S.apply(null,arguments)}},_e.cloneElement=function(S,I,q){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var j=z({},S.props),Z=S.key,ue=void 0;if(I!=null)for(ie in I.ref!==void 0&&(ue=void 0),I.key!==void 0&&(Z=""+I.key),I)!le.call(I,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&I.ref===void 0||(j[ie]=I[ie]);var ie=arguments.length-2;if(ie===1)j.children=q;else if(1<ie){for(var Qe=Array(ie),ae=0;ae<ie;ae++)Qe[ae]=arguments[ae+2];j.children=Qe}return ee(S.type,Z,void 0,void 0,ue,j)},_e.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},_e.createElement=function(S,I,q){var j,Z={},ue=null;if(I!=null)for(j in I.key!==void 0&&(ue=""+I.key),I)le.call(I,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(Z[j]=I[j]);var ie=arguments.length-2;if(ie===1)Z.children=q;else if(1<ie){for(var Qe=Array(ie),ae=0;ae<ie;ae++)Qe[ae]=arguments[ae+2];Z.children=Qe}if(S&&S.defaultProps)for(j in ie=S.defaultProps,ie)Z[j]===void 0&&(Z[j]=ie[j]);return ee(S,ue,void 0,void 0,null,Z)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(S){return{$$typeof:m,render:S}},_e.isValidElement=T,_e.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:H}},_e.memo=function(S,I){return{$$typeof:h,type:S,compare:I===void 0?null:I}},_e.startTransition=function(S){var I=te.T,q={};te.T=q;try{var j=S(),Z=te.S;Z!==null&&Z(q,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(X,K)}catch(ue){K(ue)}finally{te.T=I}},_e.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},_e.use=function(S){return te.H.use(S)},_e.useActionState=function(S,I,q){return te.H.useActionState(S,I,q)},_e.useCallback=function(S,I){return te.H.useCallback(S,I)},_e.useContext=function(S){return te.H.useContext(S)},_e.useDebugValue=function(){},_e.useDeferredValue=function(S,I){return te.H.useDeferredValue(S,I)},_e.useEffect=function(S,I,q){var j=te.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(S,I)},_e.useId=function(){return te.H.useId()},_e.useImperativeHandle=function(S,I,q){return te.H.useImperativeHandle(S,I,q)},_e.useInsertionEffect=function(S,I){return te.H.useInsertionEffect(S,I)},_e.useLayoutEffect=function(S,I){return te.H.useLayoutEffect(S,I)},_e.useMemo=function(S,I){return te.H.useMemo(S,I)},_e.useOptimistic=function(S,I){return te.H.useOptimistic(S,I)},_e.useReducer=function(S,I,q){return te.H.useReducer(S,I,q)},_e.useRef=function(S){return te.H.useRef(S)},_e.useState=function(S){return te.H.useState(S)},_e.useSyncExternalStore=function(S,I,q){return te.H.useSyncExternalStore(S,I,q)},_e.useTransition=function(){return te.H.useTransition()},_e.version="19.1.1",_e}var N_;function kd(){return N_||(N_=1,Vf.exports=HS()),Vf.exports}var D=kd(),Gf={exports:{}},Da={},Yf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function BS(){return A_||(A_=1,(function(s){function e(N,H){var K=N.length;N.push(H);e:for(;0<K;){var X=K-1>>>1,S=N[X];if(0<o(S,H))N[X]=H,N[K]=S,K=X;else break e}}function i(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var H=N[0],K=N.pop();if(K!==H){N[0]=K;e:for(var X=0,S=N.length,I=S>>>1;X<I;){var q=2*(X+1)-1,j=N[q],Z=q+1,ue=N[Z];if(0>o(j,K))Z<S&&0>o(ue,j)?(N[X]=ue,N[Z]=K,X=Z):(N[X]=j,N[q]=K,X=q);else if(Z<S&&0>o(ue,K))N[X]=ue,N[Z]=K,X=Z;else break e}}return H}function o(N,H){var K=N.sortIndex-H.sortIndex;return K!==0?K:N.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var p=[],h=[],y=1,v=null,C=3,k=!1,z=!1,Q=!1,G=!1,J=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ye(N){for(var H=i(h);H!==null;){if(H.callback===null)a(h);else if(H.startTime<=N)a(h),H.sortIndex=H.expirationTime,e(p,H);else break;H=i(h)}}function te(N){if(Q=!1,ye(N),!z)if(i(p)!==null)z=!0,le||(le=!0,F());else{var H=i(h);H!==null&&pe(te,H.startTime-N)}}var le=!1,ee=-1,w=5,T=-1;function U(){return G?!0:!(s.unstable_now()-T<w)}function Y(){if(G=!1,le){var N=s.unstable_now();T=N;var H=!0;try{e:{z=!1,Q&&(Q=!1,$(ee),ee=-1),k=!0;var K=C;try{t:{for(ye(N),v=i(p);v!==null&&!(v.expirationTime>N&&U());){var X=v.callback;if(typeof X=="function"){v.callback=null,C=v.priorityLevel;var S=X(v.expirationTime<=N);if(N=s.unstable_now(),typeof S=="function"){v.callback=S,ye(N),H=!0;break t}v===i(p)&&a(p),ye(N)}else a(p);v=i(p)}if(v!==null)H=!0;else{var I=i(h);I!==null&&pe(te,I.startTime-N),H=!1}}break e}finally{v=null,C=K,k=!1}H=void 0}}finally{H?F():le=!1}}}var F;if(typeof se=="function")F=function(){se(Y)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ve=re.port2;re.port1.onmessage=Y,F=function(){ve.postMessage(null)}}else F=function(){J(Y,0)};function pe(N,H){ee=J(function(){N(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(N){N.callback=null},s.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<N?Math.floor(1e3/N):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(N){switch(C){case 1:case 2:case 3:var H=3;break;default:H=C}var K=C;C=H;try{return N()}finally{C=K}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var K=C;C=N;try{return H()}finally{C=K}},s.unstable_scheduleCallback=function(N,H,K){var X=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?X+K:X):K=X,N){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=K+S,N={id:y++,callback:H,priorityLevel:N,startTime:K,expirationTime:S,sortIndex:-1},K>X?(N.sortIndex=K,e(h,N),i(p)===null&&N===i(h)&&(Q?($(ee),ee=-1):Q=!0,pe(te,K-X))):(N.sortIndex=S,e(p,N),z||k||(z=!0,le||(le=!0,F()))),N},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(N){var H=C;return function(){var K=C;C=H;try{return N.apply(this,arguments)}finally{C=K}}}})(Ff)),Ff}var O_;function PS(){return O_||(O_=1,Yf.exports=BS()),Yf.exports}var Kf={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function qS(){if(D_)return Dt;D_=1;var s=kd();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,h,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:h,implementation:y}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Dt.createPortal=function(p,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(p,h,null,y)},Dt.flushSync=function(p){var h=d.T,y=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=h,a.p=y,a.d.f()}},Dt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(p,h))},Dt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Dt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var y=h.as,v=m(y,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,k=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?a.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:C,fetchPriority:k}):y==="script"&&a.d.X(p,{crossOrigin:v,integrity:C,fetchPriority:k,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=m(h.as,h.crossOrigin);a.d.M(p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(p)},Dt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,v=m(y,h.crossOrigin);a.d.L(p,y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dt.preloadModule=function(p,h){if(typeof p=="string")if(h){var y=m(h.as,h.crossOrigin);a.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(p)},Dt.requestFormReset=function(p){a.d.r(p)},Dt.unstable_batchedUpdates=function(p,h){return p(h)},Dt.useFormState=function(p,h,y){return d.H.useFormState(p,h,y)},Dt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Dt.version="19.1.1",Dt}var I_;function VS(){if(I_)return Kf.exports;I_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kf.exports=qS(),Kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function GS(){if(M_)return Da;M_=1;var s=PS(),e=kd(),i=VS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return m(u),t;if(f===l)return m(u),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=u,l=f;else{for(var g=!1,_=u.child;_;){if(_===r){g=!0,r=u,l=f;break}if(_===l){g=!0,l=u,r=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===r){g=!0,r=f,l=u;break}if(_===l){g=!0,l=f,r=u;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function h(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=h(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var re=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===re?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case G:return"Profiler";case Q:return"StrictMode";case te:return"Suspense";case le:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case se:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var pe=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},X=[],S=-1;function I(t){return{current:t}}function q(t){0>S||(t.current=X[S],X[S]=null,S--)}function j(t,n){S++,X[S]=t.current,t.current=n}var Z=I(null),ue=I(null),ie=I(null),Qe=I(null);function ae(t,n){switch(j(ie,n),j(ue,t),j(Z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jg(n),t=e_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(Z),j(Z,t)}function be(){q(Z),q(ue),q(ie)}function Xe(t){t.memoizedState!==null&&j(Qe,t);var n=Z.current,r=e_(n,t.type);n!==r&&(j(ue,t),j(Z,r))}function ge(t){ue.current===t&&(q(Z),q(ue)),Qe.current===t&&(q(Qe),wa._currentValue=K)}var je=Object.prototype.hasOwnProperty,it=s.unstable_scheduleCallback,ze=s.unstable_cancelCallback,ke=s.unstable_shouldYield,Ee=s.unstable_requestPaint,Ge=s.unstable_now,Oe=s.unstable_getCurrentPriorityLevel,Ye=s.unstable_ImmediatePriority,st=s.unstable_UserBlockingPriority,dn=s.unstable_NormalPriority,$t=s.unstable_LowPriority,ri=s.unstable_IdlePriority,pt=s.log,Jt=s.unstable_setDisableYieldValue,Je=null,He=null;function gt(t){if(typeof pt=="function"&&Jt(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Je,t)}catch{}}var Ct=Math.clz32?Math.clz32:en,gl=Math.log,ai=Math.LN2;function en(t){return t>>>=0,t===0?32:31-(gl(t)/ai|0)|0}var Cn=256,Gi=4194304;function Yi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _l(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?u=Yi(l):(g&=_,g!==0?u=Yi(g):r||(r=_&~t,r!==0&&(u=Yi(r))))):(_=l&~f,_!==0?u=Yi(_):g!==0?u=Yi(g):r||(r=l&~t,r!==0&&(u=Yi(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function kr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Tb(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uh(){var t=Cn;return Cn<<=1,(Cn&4194048)===0&&(Cn=256),t}function jh(){var t=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),t}function Ou(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Lr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cb(t,n,r,l,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,E=t.expirationTimes,O=t.hiddenUpdates;for(r=g&~r;0<r;){var B=31-Ct(r),V=1<<B;_[B]=0,E[B]=-1;var M=O[B];if(M!==null)for(O[B]=null,B=0;B<M.length;B++){var L=M[B];L!==null&&(L.lane&=-536870913)}r&=~V}l!==0&&zh(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function zh(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ct(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Hh(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ct(r),u=1<<l;u&n|t[l]&n&&(t[l]|=n),r&=~u}}function Du(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Iu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bh(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:v_(t.type))}function wb(t,n){var r=H.p;try{return H.p=t,n()}finally{H.p=r}}var li=Math.random().toString(36).slice(2),At="__reactFiber$"+li,Lt="__reactProps$"+li,Ss="__reactContainer$"+li,Mu="__reactEvents$"+li,xb="__reactListeners$"+li,Rb="__reactHandles$"+li,Ph="__reactResources$"+li,Ur="__reactMarker$"+li;function ku(t){delete t[At],delete t[Lt],delete t[Mu],delete t[xb],delete t[Rb]}function Ts(t){var n=t[At];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ss]||r[At]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=s_(t);t!==null;){if(r=t[At])return r;t=s_(t)}return n}t=r,r=t.parentNode}return null}function Cs(t){if(t=t[At]||t[Ss]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ws(t){var n=t[Ph];return n||(n=t[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(t){t[Ur]=!0}var qh=new Set,Vh={};function Fi(t,n){xs(t,n),xs(t+"Capture",n)}function xs(t,n){for(Vh[t]=n,t=0;t<n.length;t++)qh.add(n[t])}var Nb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gh={},Yh={};function Ab(t){return je.call(Yh,t)?!0:je.call(Gh,t)?!1:Nb.test(t)?Yh[t]=!0:(Gh[t]=!0,!1)}function yl(t,n,r){if(Ab(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function vl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function In(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Lu,Fh;function Rs(t){if(Lu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Lu=n&&n[1]||"",Fh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lu+t+Fh}var Uu=!1;function ju(t,n){if(!t||Uu)return"";Uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var M=L}Reflect.construct(t,[],V)}else{try{V.call()}catch(L){M=L}t.call(V.prototype)}}else{try{throw Error()}catch(L){M=L}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],_=f[1];if(g&&_){var E=g.split(`
`),O=_.split(`
`);for(u=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(l===E.length||u===O.length)for(l=E.length-1,u=O.length-1;1<=l&&0<=u&&E[l]!==O[u];)u--;for(;1<=l&&0<=u;l--,u--)if(E[l]!==O[u]){if(l!==1||u!==1)do if(l--,u--,0>u||E[l]!==O[u]){var B=`
`+E[l].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=l&&0<=u);break}}}finally{Uu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Rs(r):""}function Ob(t){switch(t.tag){case 26:case 27:case 5:return Rs(t.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 15:return ju(t.type,!1);case 11:return ju(t.type.render,!1);case 1:return ju(t.type,!0);case 31:return Rs("Activity");default:return""}}function Kh(t){try{var n="";do n+=Ob(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Db(t){var n=Qh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function bl(t){t._valueTracker||(t._valueTracker=Db(t))}function Xh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Qh(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function El(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ib=/[\n"\\]/g;function nn(t){return t.replace(Ib,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zu(t,n,r,l,u,f,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Hu(t,g,tn(n)):r!=null?Hu(t,g,tn(r)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+tn(_):t.removeAttribute("name")}function Wh(t,n,r,l,u,f,g,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Hu(t,n,r){n==="number"&&El(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ns(t,n,r,l){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&l&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Zh(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function $h(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(pe(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function As(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Mb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jh(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Mb.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function em(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&Jh(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&Jh(t,f,n[f])}function Bu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(t){return Lb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pu=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ds=null;function tm(t){var n=Cs(t);if(n&&(t=n.stateNode)){var r=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(zu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var u=l[Lt]||null;if(!u)throw Error(a(90));zu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Xh(l)}break e;case"textarea":Zh(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ns(t,!!r.multiple,n,!1)}}}var Vu=!1;function nm(t,n,r){if(Vu)return t(n,r);Vu=!0;try{var l=t(n);return l}finally{if(Vu=!1,(Os!==null||Ds!==null)&&(lo(),Os&&(n=Os,t=Ds,Ds=Os=null,tm(n),t)))for(n=0;n<t.length;n++)tm(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Lt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=!1;if(Mn)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{Gu=!1}var oi=null,Yu=null,Tl=null;function im(){if(Tl)return Tl;var t,n=Yu,r=n.length,l,u="value"in oi?oi.value:oi.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===u[f-l];l++);return Tl=u.slice(t,1<l?1-l:void 0)}function Cl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function wl(){return!0}function sm(){return!1}function Ut(t){function n(r,l,u,f,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wl:sm,this.isPropagationStopped=sm,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=Ut(Ki),Br=y({},Ki,{view:0,detail:0}),Ub=Ut(Br),Fu,Ku,Pr,Rl=y({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pr&&(Pr&&t.type==="mousemove"?(Fu=t.screenX-Pr.screenX,Ku=t.screenY-Pr.screenY):Ku=Fu=0,Pr=t),Fu)},movementY:function(t){return"movementY"in t?t.movementY:Ku}}),rm=Ut(Rl),jb=y({},Rl,{dataTransfer:0}),zb=Ut(jb),Hb=y({},Br,{relatedTarget:0}),Qu=Ut(Hb),Bb=y({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Pb=Ut(Bb),qb=y({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vb=Ut(qb),Gb=y({},Ki,{data:0}),am=Ut(Gb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qb(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Kb[t])?!!n[t]:!1}function Xu(){return Qb}var Xb=y({},Br,{key:function(t){if(t.key){var n=Yb[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(t){return t.type==="keypress"?Cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wb=Ut(Xb),Zb=y({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=Ut(Zb),$b=y({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Jb=Ut($b),eE=y({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),tE=Ut(eE),nE=y({},Rl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iE=Ut(nE),sE=y({},Ki,{newState:0,oldState:0}),rE=Ut(sE),aE=[9,13,27,32],Wu=Mn&&"CompositionEvent"in window,qr=null;Mn&&"documentMode"in document&&(qr=document.documentMode);var lE=Mn&&"TextEvent"in window&&!qr,om=Mn&&(!Wu||qr&&8<qr&&11>=qr),um=" ",cm=!1;function fm(t,n){switch(t){case"keyup":return aE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function oE(t,n){switch(t){case"compositionend":return dm(n);case"keypress":return n.which!==32?null:(cm=!0,um);case"textInput":return t=n.data,t===um&&cm?null:t;default:return null}}function uE(t,n){if(Is)return t==="compositionend"||!Wu&&fm(t,n)?(t=im(),Tl=Yu=oi=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return om&&n.locale!=="ko"?null:n.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!cE[t.type]:n==="textarea"}function mm(t,n,r,l){Os?Ds?Ds.push(l):Ds=[l]:Os=l,n=mo(n,"onChange"),0<n.length&&(r=new xl("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Vr=null,Gr=null;function fE(t){Qg(t,0)}function Nl(t){var n=jr(t);if(Xh(n))return t}function pm(t,n){if(t==="change")return n}var gm=!1;if(Mn){var Zu;if(Mn){var $u="oninput"in document;if(!$u){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),$u=typeof _m.oninput=="function"}Zu=$u}else Zu=!1;gm=Zu&&(!document.documentMode||9<document.documentMode)}function ym(){Vr&&(Vr.detachEvent("onpropertychange",vm),Gr=Vr=null)}function vm(t){if(t.propertyName==="value"&&Nl(Gr)){var n=[];mm(n,Gr,t,qu(t)),nm(fE,n)}}function dE(t,n,r){t==="focusin"?(ym(),Vr=n,Gr=r,Vr.attachEvent("onpropertychange",vm)):t==="focusout"&&ym()}function hE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nl(Gr)}function mE(t,n){if(t==="click")return Nl(n)}function pE(t,n){if(t==="input"||t==="change")return Nl(n)}function gE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Yt=typeof Object.is=="function"?Object.is:gE;function Yr(t,n){if(Yt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!je.call(n,u)||!Yt(t[u],n[u]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Em(t,n){var r=bm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bm(r)}}function Sm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=El(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=El(t.document)}return n}function Ju(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _E=Mn&&"documentMode"in document&&11>=document.documentMode,Ms=null,ec=null,Fr=null,tc=!1;function Cm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tc||Ms==null||Ms!==El(l)||(l=Ms,"selectionStart"in l&&Ju(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fr&&Yr(Fr,l)||(Fr=l,l=mo(ec,"onSelect"),0<l.length&&(n=new xl("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ms)))}function Qi(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ks={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},nc={},wm={};Mn&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Xi(t){if(nc[t])return nc[t];if(!ks[t])return t;var n=ks[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in wm)return nc[t]=n[r];return t}var xm=Xi("animationend"),Rm=Xi("animationiteration"),Nm=Xi("animationstart"),yE=Xi("transitionrun"),vE=Xi("transitionstart"),bE=Xi("transitioncancel"),Am=Xi("transitionend"),Om=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function hn(t,n){Om.set(t,n),Fi(n,[t])}var Dm=new WeakMap;function sn(t,n){if(typeof t=="object"&&t!==null){var r=Dm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Kh(n)},Dm.set(t,n),n)}return{value:t,source:n,stack:Kh(n)}}var rn=[],Ls=0,sc=0;function Al(){for(var t=Ls,n=sc=Ls=0;n<t;){var r=rn[n];rn[n++]=null;var l=rn[n];rn[n++]=null;var u=rn[n];rn[n++]=null;var f=rn[n];if(rn[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Im(r,u,f)}}function Ol(t,n,r,l){rn[Ls++]=t,rn[Ls++]=n,rn[Ls++]=r,rn[Ls++]=l,sc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rc(t,n,r,l){return Ol(t,n,r,l),Dl(t)}function Us(t,n){return Ol(t,null,null,n),Dl(t)}function Im(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Ct(r),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=r|536870912),f):null}function Dl(t){if(50<_a)throw _a=0,df=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var js={};function EE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,n,r,l){return new EE(t,n,r,l)}function ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kn(t,n){var r=t.alternate;return r===null?(r=Ft(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Mm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Il(t,n,r,l,u,f){var g=0;if(l=t,typeof t=="function")ac(t)&&(g=1);else if(typeof t=="string")g=TS(t,r,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=Ft(31,r,n,u),t.elementType=T,t.lanes=f,t;case z:return Wi(r.children,u,f,n);case Q:g=8,u|=24;break;case G:return t=Ft(12,r,n,u|2),t.elementType=G,t.lanes=f,t;case te:return t=Ft(13,r,n,u),t.elementType=te,t.lanes=f,t;case le:return t=Ft(19,r,n,u),t.elementType=le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case se:g=10;break e;case $:g=9;break e;case ye:g=11;break e;case ee:g=14;break e;case w:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Ft(g,r,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function Wi(t,n,r,l){return t=Ft(7,t,l,n),t.lanes=r,t}function lc(t,n,r){return t=Ft(6,t,null,n),t.lanes=r,t}function oc(t,n,r){return n=Ft(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zs=[],Hs=0,Ml=null,kl=0,an=[],ln=0,Zi=null,Ln=1,Un="";function $i(t,n){zs[Hs++]=kl,zs[Hs++]=Ml,Ml=t,kl=n}function km(t,n,r){an[ln++]=Ln,an[ln++]=Un,an[ln++]=Zi,Zi=t;var l=Ln;t=Un;var u=32-Ct(l)-1;l&=~(1<<u),r+=1;var f=32-Ct(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,Ln=1<<32-Ct(n)+u|r<<u|l,Un=f+t}else Ln=1<<f|r<<u|l,Un=t}function uc(t){t.return!==null&&($i(t,1),km(t,1,0))}function cc(t){for(;t===Ml;)Ml=zs[--Hs],zs[Hs]=null,kl=zs[--Hs],zs[Hs]=null;for(;t===Zi;)Zi=an[--ln],an[ln]=null,Un=an[--ln],an[ln]=null,Ln=an[--ln],an[ln]=null}var kt=null,rt=null,Ie=!1,Ji=null,wn=!1,fc=Error(a(519));function es(t){var n=Error(a(418,""));throw Xr(sn(n,t)),fc}function Lm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[At]=t,n[Lt]=l,r){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(r=0;r<va.length;r++)Re(va[r],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),Wh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),bl(n);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),$h(n,l.value,l.defaultValue,l.children),bl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||$g(n.textContent,r)?(l.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),l.onScroll!=null&&Re("scroll",n),l.onScrollEnd!=null&&Re("scrollend",n),l.onClick!=null&&(n.onclick=po),n=!0):n=!1,n||es(t)}function Um(t){for(kt=t.return;kt;)switch(kt.tag){case 5:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:kt=kt.return}}function Kr(t){if(t!==kt)return!1;if(!Ie)return Um(t),Ie=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Nf(t.type,t.memoizedProps)),r=!r),r&&rt&&es(t),Um(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){rt=pn(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}rt=null}}else n===27?(n=rt,Ci(t.type)?(t=If,If=null,rt=t):rt=n):rt=kt?pn(t.stateNode.nextSibling):null;return!0}function Qr(){rt=kt=null,Ie=!1}function jm(){var t=Ji;return t!==null&&(Ht===null?Ht=t:Ht.push.apply(Ht,t),Ji=null),t}function Xr(t){Ji===null?Ji=[t]:Ji.push(t)}var dc=I(null),ts=null,jn=null;function ui(t,n,r){j(dc,n._currentValue),n._currentValue=r}function zn(t){t._currentValue=dc.current,q(dc)}function hc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function mc(t,n,r,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var E=0;E<n.length;E++)if(_.context===n[E]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),hc(f.return,r,t),l||(g=null);break e}f=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),hc(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Wr(t,n,r,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=u.type;Yt(u.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(u===Qe.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(wa):t=[wa])}u=u.return}t!==null&&mc(n,t,r,l),n.flags|=262144}function Ll(t){for(t=t.firstContext;t!==null;){if(!Yt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){ts=t,jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ot(t){return zm(ts,t)}function Ul(t,n){return ts===null&&ns(t),zm(t,n)}function zm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},jn===null){if(t===null)throw Error(a(308));jn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else jn=jn.next=n;return r}var SE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},TE=s.unstable_scheduleCallback,CE=s.unstable_NormalPriority,dt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new SE,data:new Map,refCount:0}}function Zr(t){t.refCount--,t.refCount===0&&TE(CE,function(){t.controller.abort()})}var $r=null,gc=0,Bs=0,Ps=null;function wE(t,n){if($r===null){var r=$r=[];gc=0,Bs=vf(),Ps={status:"pending",value:void 0,then:function(l){r.push(l)}}}return gc++,n.then(Hm,Hm),n}function Hm(){if(--gc===0&&$r!==null){Ps!==null&&(Ps.status="fulfilled");var t=$r;$r=null,Bs=0,Ps=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var Bm=N.S;N.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&wE(t,n),Bm!==null&&Bm(t,n)};var is=I(null);function _c(){var t=is.current;return t!==null?t:We.pooledCache}function jl(t,n){n===null?j(is,is.current):j(is,n.pool)}function Pm(){var t=_c();return t===null?null:{parent:dt._currentValue,pool:t}}var Jr=Error(a(460)),qm=Error(a(474)),zl=Error(a(542)),yc={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hl(){}function Gm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Hl,Hl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t;default:if(typeof n.status=="string")n.then(Hl,Hl);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fm(t),t}throw ea=n,Jr}}var ea=null;function Ym(){if(ea===null)throw Error(a(459));var t=ea;return ea=null,t}function Fm(t){if(t===Jr||t===zl)throw Error(a(483))}var ci=!1;function vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Dl(t),Im(t,null,r),n}return Ol(t,l,n,r),Dl(t)}function ta(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hh(t,r)}}function Ec(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Sc=!1;function na(){if(Sc){var t=Ps;if(t!==null)throw t}}function ia(t,n,r,l){Sc=!1;var u=t.updateQueue;ci=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var E=_,O=E.next;E.next=null,g===null?f=O:g.next=O,g=E;var B=t.alternate;B!==null&&(B=B.updateQueue,_=B.lastBaseUpdate,_!==g&&(_===null?B.firstBaseUpdate=O:_.next=O,B.lastBaseUpdate=E))}if(f!==null){var V=u.baseState;g=0,B=O=E=null,_=f;do{var M=_.lane&-536870913,L=M!==_.lane;if(L?(Ae&M)===M:(l&M)===M){M!==0&&M===Bs&&(Sc=!0),B!==null&&(B=B.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var de=t,ce=_;M=n;var qe=r;switch(ce.tag){case 1:if(de=ce.payload,typeof de=="function"){V=de.call(qe,V,M);break e}V=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ce.payload,M=typeof de=="function"?de.call(qe,V,M):de,M==null)break e;V=y({},V,M);break e;case 2:ci=!0}}M=_.callback,M!==null&&(t.flags|=64,L&&(t.flags|=8192),L=u.callbacks,L===null?u.callbacks=[M]:L.push(M))}else L={lane:M,tag:_.tag,payload:_.payload,callback:_.callback,next:null},B===null?(O=B=L,E=V):B=B.next=L,g|=M;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;L=_,_=L.next,L.next=null,u.lastBaseUpdate=L,u.shared.pending=null}}while(!0);B===null&&(E=V),u.baseState=E,u.firstBaseUpdate=O,u.lastBaseUpdate=B,f===null&&(u.shared.lanes=0),bi|=g,t.lanes=g,t.memoizedState=V}}function Km(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Qm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Km(r[t],n)}var qs=I(null),Bl=I(0);function Xm(t,n){t=Yn,j(Bl,t),j(qs,n),Yn=t|n.baseLanes}function Tc(){j(Bl,Yn),j(qs,qs.current)}function Cc(){Yn=Bl.current,q(qs),q(Bl)}var hi=0,Se=null,Be=null,ct=null,Pl=!1,Vs=!1,ss=!1,ql=0,sa=0,Gs=null,RE=0;function ot(){throw Error(a(321))}function wc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Yt(t[r],n[r]))return!1;return!0}function xc(t,n,r,l,u,f){return hi=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,N.H=t===null||t.memoizedState===null?Ip:Mp,ss=!1,f=r(l,u),ss=!1,Vs&&(f=Zm(n,r,l,u)),Wm(t),f}function Wm(t){N.H=Ql;var n=Be!==null&&Be.next!==null;if(hi=0,ct=Be=Se=null,Pl=!1,sa=0,Gs=null,n)throw Error(a(300));t===null||yt||(t=t.dependencies,t!==null&&Ll(t)&&(yt=!0))}function Zm(t,n,r,l){Se=t;var u=0;do{if(Vs&&(Gs=null),sa=0,Vs=!1,25<=u)throw Error(a(301));if(u+=1,ct=Be=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}N.H=kE,f=n(r,l)}while(Vs);return f}function NE(){var t=N.H,n=t.useState()[0];return n=typeof n.then=="function"?ra(n):n,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(Se.flags|=1024),n}function Rc(){var t=ql!==0;return ql=0,t}function Nc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ac(t){if(Pl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pl=!1}hi=0,ct=Be=Se=null,Vs=!1,sa=ql=0,Gs=null}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Se.memoizedState=ct=t:ct=ct.next=t,ct}function ft(){if(Be===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var n=ct===null?Se.memoizedState:ct.next;if(n!==null)ct=n,Be=t;else{if(t===null)throw Se.alternate===null?Error(a(467)):Error(a(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ct===null?Se.memoizedState=ct=t:ct=ct.next=t}return ct}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ra(t){var n=sa;return sa+=1,Gs===null&&(Gs=[]),t=Gm(Gs,t,n),n=Se,(ct===null?n.memoizedState:ct.next)===null&&(n=n.alternate,N.H=n===null||n.memoizedState===null?Ip:Mp),t}function Vl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ra(t);if(t.$$typeof===se)return Ot(t)}throw Error(a(438,String(t)))}function Dc(t){var n=null,r=Se.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Oc(),Se.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=U;return n.index++,r}function Hn(t,n){return typeof n=="function"?n(t):n}function Gl(t){var n=ft();return Ic(n,Be,t)}function Ic(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var _=g=null,E=null,O=n,B=!1;do{var V=O.lane&-536870913;if(V!==O.lane?(Ae&V)===V:(hi&V)===V){var M=O.revertLane;if(M===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),V===Bs&&(B=!0);else if((hi&M)===M){O=O.next,M===Bs&&(B=!0);continue}else V={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(_=E=V,g=f):E=E.next=V,Se.lanes|=M,bi|=M;V=O.action,ss&&r(f,V),f=O.hasEagerState?O.eagerState:r(f,V)}else M={lane:V,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(_=E=M,g=f):E=E.next=M,Se.lanes|=V,bi|=V;O=O.next}while(O!==null&&O!==n);if(E===null?g=f:E.next=_,!Yt(f,t.memoizedState)&&(yt=!0,B&&(r=Ps,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=E,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mc(t){var n=ft(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Yt(f,n.memoizedState)||(yt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function $m(t,n,r){var l=Se,u=ft(),f=Ie;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Yt((Be||u).memoizedState,r);g&&(u.memoizedState=r,yt=!0),u=u.queue;var _=tp.bind(null,l,u,t);if(aa(2048,8,_,[t]),u.getSnapshot!==n||g||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,Ys(9,Yl(),ep.bind(null,l,u,r,n),null),We===null)throw Error(a(349));f||(hi&124)!==0||Jm(l,n,r)}return r}function Jm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Se.updateQueue,n===null?(n=Oc(),Se.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ep(t,n,r,l){n.value=r,n.getSnapshot=l,np(n)&&ip(t)}function tp(t,n,r){return r(function(){np(n)&&ip(t)})}function np(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Yt(t,r)}catch{return!0}}function ip(t){var n=Us(t,2);n!==null&&Zt(n,t,2)}function kc(t){var n=jt();if(typeof t=="function"){var r=t;if(t=r(),ss){gt(!0);try{r()}finally{gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:t},n}function sp(t,n,r,l){return t.baseState=r,Ic(t,Be,typeof l=="function"?l:Hn)}function AE(t,n,r,l,u){if(Kl(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};N.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,rp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function rp(t,n){var r=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=N.T,g={};N.T=g;try{var _=r(u,l),E=N.S;E!==null&&E(g,_),ap(t,n,_)}catch(O){Lc(t,n,O)}finally{N.T=f}}else try{f=r(u,l),ap(t,n,f)}catch(O){Lc(t,n,O)}}function ap(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){lp(t,n,l)},function(l){return Lc(t,n,l)}):lp(t,n,r)}function lp(t,n,r){n.status="fulfilled",n.value=r,op(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,rp(t,r)))}function Lc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,op(n),n=n.next;while(n!==l)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function cp(t,n){if(Ie){var r=We.formState;if(r!==null){e:{var l=Se;if(Ie){if(rt){t:{for(var u=rt,f=wn;u.nodeType!==8;){if(!f){u=null;break t}if(u=pn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){rt=pn(u.nextSibling),l=u.data==="F!";break e}}es(l)}l=!1}l&&(n=r[0])}}return r=jt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},r.queue=l,r=Ap.bind(null,Se,l),l.dispatch=r,l=kc(!1),f=Bc.bind(null,Se,!1,l.queue),l=jt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,r=AE.bind(null,Se,u,f,r),u.dispatch=r,l.memoizedState=t,[n,r,!1]}function fp(t){var n=ft();return dp(n,Be,t)}function dp(t,n,r){if(n=Ic(t,n,up)[0],t=Gl(Hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ra(n)}catch(g){throw g===Jr?zl:g}else l=n;n=ft();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(Se.flags|=2048,Ys(9,Yl(),OE.bind(null,u,r),null)),[l,f,t]}function OE(t,n){t.action=n}function hp(t){var n=ft(),r=Be;if(r!==null)return dp(n,r,t);ft(),n=n.memoizedState,r=ft();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ys(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Oc(),Se.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Yl(){return{destroy:void 0,resource:void 0}}function mp(){return ft().memoizedState}function Fl(t,n,r,l){var u=jt();l=l===void 0?null:l,Se.flags|=t,u.memoizedState=Ys(1|n,Yl(),r,l)}function aa(t,n,r,l){var u=ft();l=l===void 0?null:l;var f=u.memoizedState.inst;Be!==null&&l!==null&&wc(l,Be.memoizedState.deps)?u.memoizedState=Ys(n,f,r,l):(Se.flags|=t,u.memoizedState=Ys(1|n,f,r,l))}function pp(t,n){Fl(8390656,8,t,n)}function gp(t,n){aa(2048,8,t,n)}function _p(t,n){return aa(4,2,t,n)}function yp(t,n){return aa(4,4,t,n)}function vp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bp(t,n,r){r=r!=null?r.concat([t]):null,aa(4,4,vp.bind(null,n,t),r)}function Uc(){}function Ep(t,n){var r=ft();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Sp(t,n){var r=ft();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wc(n,l[1]))return l[0];if(l=t(),ss){gt(!0);try{t()}finally{gt(!1)}}return r.memoizedState=[l,n],l}function jc(t,n,r){return r===void 0||(hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=wg(),Se.lanes|=t,bi|=t,r)}function Tp(t,n,r,l){return Yt(r,n)?r:qs.current!==null?(t=jc(t,r,l),Yt(t,n)||(yt=!0),t):(hi&42)===0?(yt=!0,t.memoizedState=r):(t=wg(),Se.lanes|=t,bi|=t,n)}function Cp(t,n,r,l,u){var f=H.p;H.p=f!==0&&8>f?f:8;var g=N.T,_={};N.T=_,Bc(t,!1,n,r);try{var E=u(),O=N.S;if(O!==null&&O(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=xE(E,l);la(t,n,B,Wt(t))}else la(t,n,l,Wt(t))}catch(V){la(t,n,{then:function(){},status:"rejected",reason:V},Wt())}finally{H.p=f,N.T=g}}function DE(){}function zc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var u=wp(t).queue;Cp(t,u,n,K,r===null?DE:function(){return xp(t),r(l)})}function wp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:K},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xp(t){var n=wp(t).next.queue;la(t,n,{},Wt())}function Hc(){return Ot(wa)}function Rp(){return ft().memoizedState}function Np(){return ft().memoizedState}function IE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Wt();t=fi(r);var l=di(n,t,r);l!==null&&(Zt(l,n,r),ta(l,n,r)),n={cache:pc()},t.payload=n;return}n=n.return}}function ME(t,n,r){var l=Wt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Kl(t)?Op(n,r):(r=rc(t,n,r,l),r!==null&&(Zt(r,t,l),Dp(r,n,l)))}function Ap(t,n,r){var l=Wt();la(t,n,r,l)}function la(t,n,r,l){var u={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kl(t))Op(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,r);if(u.hasEagerState=!0,u.eagerState=_,Yt(_,g))return Ol(t,n,u,0),We===null&&Al(),!1}catch{}finally{}if(r=rc(t,n,u,l),r!==null)return Zt(r,t,l),Dp(r,n,l),!0}return!1}function Bc(t,n,r,l){if(l={lane:2,revertLane:vf(),action:l,hasEagerState:!1,eagerState:null,next:null},Kl(t)){if(n)throw Error(a(479))}else n=rc(t,r,l,2),n!==null&&Zt(n,t,2)}function Kl(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function Op(t,n){Vs=Pl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Dp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hh(t,r)}}var Ql={readContext:Ot,use:Vl,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},Ip={readContext:Ot,use:Vl,useCallback:function(t,n){return jt().memoizedState=[t,n===void 0?null:n],t},useContext:Ot,useEffect:pp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fl(4194308,4,vp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fl(4194308,4,t,n)},useInsertionEffect:function(t,n){Fl(4,2,t,n)},useMemo:function(t,n){var r=jt();n=n===void 0?null:n;var l=t();if(ss){gt(!0);try{t()}finally{gt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=jt();if(r!==void 0){var u=r(n);if(ss){gt(!0);try{r(n)}finally{gt(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=ME.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var n=jt();return t={current:t},n.memoizedState=t},useState:function(t){t=kc(t);var n=t.queue,r=Ap.bind(null,Se,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Uc,useDeferredValue:function(t,n){var r=jt();return jc(r,t,n)},useTransition:function(){var t=kc(!1);return t=Cp.bind(null,Se,t.queue,!0,!1),jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Se,u=jt();if(Ie){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),We===null)throw Error(a(349));(Ae&124)!==0||Jm(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,pp(tp.bind(null,l,f,t),[t]),l.flags|=2048,Ys(9,Yl(),ep.bind(null,l,f,r,n),null),r},useId:function(){var t=jt(),n=We.identifierPrefix;if(Ie){var r=Un,l=Ln;r=(l&~(1<<32-Ct(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=ql++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=RE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Hc,useFormState:cp,useActionState:cp,useOptimistic:function(t){var n=jt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Bc.bind(null,Se,!0,r),r.dispatch=n,[t,n]},useMemoCache:Dc,useCacheRefresh:function(){return jt().memoizedState=IE.bind(null,Se)}},Mp={readContext:Ot,use:Vl,useCallback:Ep,useContext:Ot,useEffect:gp,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:Sp,useReducer:Gl,useRef:mp,useState:function(){return Gl(Hn)},useDebugValue:Uc,useDeferredValue:function(t,n){var r=ft();return Tp(r,Be.memoizedState,t,n)},useTransition:function(){var t=Gl(Hn)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:ra(t),n]},useSyncExternalStore:$m,useId:Rp,useHostTransitionStatus:Hc,useFormState:fp,useActionState:fp,useOptimistic:function(t,n){var r=ft();return sp(r,Be,t,n)},useMemoCache:Dc,useCacheRefresh:Np},kE={readContext:Ot,use:Vl,useCallback:Ep,useContext:Ot,useEffect:gp,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:Sp,useReducer:Mc,useRef:mp,useState:function(){return Mc(Hn)},useDebugValue:Uc,useDeferredValue:function(t,n){var r=ft();return Be===null?jc(r,t,n):Tp(r,Be.memoizedState,t,n)},useTransition:function(){var t=Mc(Hn)[0],n=ft().memoizedState;return[typeof t=="boolean"?t:ra(t),n]},useSyncExternalStore:$m,useId:Rp,useHostTransitionStatus:Hc,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var r=ft();return Be!==null?sp(r,Be,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Dc,useCacheRefresh:Np},Fs=null,oa=0;function Xl(t){var n=oa;return oa+=1,Fs===null&&(Fs=[]),Gm(Fs,t,n)}function ua(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wl(t,n){throw n.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function kp(t){var n=t._init;return n(t._payload)}function Lp(t){function n(R,x){if(t){var A=R.deletions;A===null?(R.deletions=[x],R.flags|=16):A.push(x)}}function r(R,x){if(!t)return null;for(;x!==null;)n(R,x),x=x.sibling;return null}function l(R){for(var x=new Map;R!==null;)R.key!==null?x.set(R.key,R):x.set(R.index,R),R=R.sibling;return x}function u(R,x){return R=kn(R,x),R.index=0,R.sibling=null,R}function f(R,x,A){return R.index=A,t?(A=R.alternate,A!==null?(A=A.index,A<x?(R.flags|=67108866,x):A):(R.flags|=67108866,x)):(R.flags|=1048576,x)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function _(R,x,A,P){return x===null||x.tag!==6?(x=lc(A,R.mode,P),x.return=R,x):(x=u(x,A),x.return=R,x)}function E(R,x,A,P){var ne=A.type;return ne===z?B(R,x,A.props.children,P,A.key):x!==null&&(x.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===w&&kp(ne)===x.type)?(x=u(x,A.props),ua(x,A),x.return=R,x):(x=Il(A.type,A.key,A.props,null,R.mode,P),ua(x,A),x.return=R,x)}function O(R,x,A,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=oc(A,R.mode,P),x.return=R,x):(x=u(x,A.children||[]),x.return=R,x)}function B(R,x,A,P,ne){return x===null||x.tag!==7?(x=Wi(A,R.mode,P,ne),x.return=R,x):(x=u(x,A),x.return=R,x)}function V(R,x,A){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=lc(""+x,R.mode,A),x.return=R,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return A=Il(x.type,x.key,x.props,null,R.mode,A),ua(A,x),A.return=R,A;case k:return x=oc(x,R.mode,A),x.return=R,x;case w:var P=x._init;return x=P(x._payload),V(R,x,A)}if(pe(x)||F(x))return x=Wi(x,R.mode,A,null),x.return=R,x;if(typeof x.then=="function")return V(R,Xl(x),A);if(x.$$typeof===se)return V(R,Ul(R,x),A);Wl(R,x)}return null}function M(R,x,A,P){var ne=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ne!==null?null:_(R,x,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return A.key===ne?E(R,x,A,P):null;case k:return A.key===ne?O(R,x,A,P):null;case w:return ne=A._init,A=ne(A._payload),M(R,x,A,P)}if(pe(A)||F(A))return ne!==null?null:B(R,x,A,P,null);if(typeof A.then=="function")return M(R,x,Xl(A),P);if(A.$$typeof===se)return M(R,x,Ul(R,A),P);Wl(R,A)}return null}function L(R,x,A,P,ne){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(A)||null,_(x,R,""+P,ne);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return R=R.get(P.key===null?A:P.key)||null,E(x,R,P,ne);case k:return R=R.get(P.key===null?A:P.key)||null,O(x,R,P,ne);case w:var Te=P._init;return P=Te(P._payload),L(R,x,A,P,ne)}if(pe(P)||F(P))return R=R.get(A)||null,B(x,R,P,ne,null);if(typeof P.then=="function")return L(R,x,A,Xl(P),ne);if(P.$$typeof===se)return L(R,x,A,Ul(x,P),ne);Wl(x,P)}return null}function de(R,x,A,P){for(var ne=null,Te=null,oe=x,fe=x=0,bt=null;oe!==null&&fe<A.length;fe++){oe.index>fe?(bt=oe,oe=null):bt=oe.sibling;var De=M(R,oe,A[fe],P);if(De===null){oe===null&&(oe=bt);break}t&&oe&&De.alternate===null&&n(R,oe),x=f(De,x,fe),Te===null?ne=De:Te.sibling=De,Te=De,oe=bt}if(fe===A.length)return r(R,oe),Ie&&$i(R,fe),ne;if(oe===null){for(;fe<A.length;fe++)oe=V(R,A[fe],P),oe!==null&&(x=f(oe,x,fe),Te===null?ne=oe:Te.sibling=oe,Te=oe);return Ie&&$i(R,fe),ne}for(oe=l(oe);fe<A.length;fe++)bt=L(oe,R,fe,A[fe],P),bt!==null&&(t&&bt.alternate!==null&&oe.delete(bt.key===null?fe:bt.key),x=f(bt,x,fe),Te===null?ne=bt:Te.sibling=bt,Te=bt);return t&&oe.forEach(function(Ai){return n(R,Ai)}),Ie&&$i(R,fe),ne}function ce(R,x,A,P){if(A==null)throw Error(a(151));for(var ne=null,Te=null,oe=x,fe=x=0,bt=null,De=A.next();oe!==null&&!De.done;fe++,De=A.next()){oe.index>fe?(bt=oe,oe=null):bt=oe.sibling;var Ai=M(R,oe,De.value,P);if(Ai===null){oe===null&&(oe=bt);break}t&&oe&&Ai.alternate===null&&n(R,oe),x=f(Ai,x,fe),Te===null?ne=Ai:Te.sibling=Ai,Te=Ai,oe=bt}if(De.done)return r(R,oe),Ie&&$i(R,fe),ne;if(oe===null){for(;!De.done;fe++,De=A.next())De=V(R,De.value,P),De!==null&&(x=f(De,x,fe),Te===null?ne=De:Te.sibling=De,Te=De);return Ie&&$i(R,fe),ne}for(oe=l(oe);!De.done;fe++,De=A.next())De=L(oe,R,fe,De.value,P),De!==null&&(t&&De.alternate!==null&&oe.delete(De.key===null?fe:De.key),x=f(De,x,fe),Te===null?ne=De:Te.sibling=De,Te=De);return t&&oe.forEach(function(LS){return n(R,LS)}),Ie&&$i(R,fe),ne}function qe(R,x,A,P){if(typeof A=="object"&&A!==null&&A.type===z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case C:e:{for(var ne=A.key;x!==null;){if(x.key===ne){if(ne=A.type,ne===z){if(x.tag===7){r(R,x.sibling),P=u(x,A.props.children),P.return=R,R=P;break e}}else if(x.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===w&&kp(ne)===x.type){r(R,x.sibling),P=u(x,A.props),ua(P,A),P.return=R,R=P;break e}r(R,x);break}else n(R,x);x=x.sibling}A.type===z?(P=Wi(A.props.children,R.mode,P,A.key),P.return=R,R=P):(P=Il(A.type,A.key,A.props,null,R.mode,P),ua(P,A),P.return=R,R=P)}return g(R);case k:e:{for(ne=A.key;x!==null;){if(x.key===ne)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){r(R,x.sibling),P=u(x,A.children||[]),P.return=R,R=P;break e}else{r(R,x);break}else n(R,x);x=x.sibling}P=oc(A,R.mode,P),P.return=R,R=P}return g(R);case w:return ne=A._init,A=ne(A._payload),qe(R,x,A,P)}if(pe(A))return de(R,x,A,P);if(F(A)){if(ne=F(A),typeof ne!="function")throw Error(a(150));return A=ne.call(A),ce(R,x,A,P)}if(typeof A.then=="function")return qe(R,x,Xl(A),P);if(A.$$typeof===se)return qe(R,x,Ul(R,A),P);Wl(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,x!==null&&x.tag===6?(r(R,x.sibling),P=u(x,A),P.return=R,R=P):(r(R,x),P=lc(A,R.mode,P),P.return=R,R=P),g(R)):r(R,x)}return function(R,x,A,P){try{oa=0;var ne=qe(R,x,A,P);return Fs=null,ne}catch(oe){if(oe===Jr||oe===zl)throw oe;var Te=Ft(29,oe,null,R.mode);return Te.lanes=P,Te.return=R,Te}finally{}}}var Ks=Lp(!0),Up=Lp(!1),on=I(null),xn=null;function mi(t){var n=t.alternate;j(ht,ht.current&1),j(on,t),xn===null&&(n===null||qs.current!==null||n.memoizedState!==null)&&(xn=t)}function jp(t){if(t.tag===22){if(j(ht,ht.current),j(on,t),xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(xn=t)}}else pi()}function pi(){j(ht,ht.current),j(on,on.current)}function Bn(t){q(on),xn===t&&(xn=null),q(ht)}var ht=I(0);function Zl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Df(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Pc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Wt(),u=fi(l);u.payload=n,r!=null&&(u.callback=r),n=di(t,u,l),n!==null&&(Zt(n,t,l),ta(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Wt(),u=fi(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=di(t,u,l),n!==null&&(Zt(n,t,l),ta(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Wt(),l=fi(r);l.tag=2,n!=null&&(l.callback=n),n=di(t,l,r),n!==null&&(Zt(n,t,r),ta(n,t,r))}};function zp(t,n,r,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yr(r,l)||!Yr(u,f):!0}function Hp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&qc.enqueueReplaceState(n,n.state,null)}function rs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=y({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}var $l=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Bp(t){$l(t)}function Pp(t){console.error(t)}function qp(t){$l(t)}function Jl(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Vc(t,n,r){return r=fi(r),r.tag=3,r.payload={element:null},r.callback=function(){Jl(t,n)},r}function Gp(t){return t=fi(t),t.tag=3,t}function Yp(t,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Vp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Vp(n,r,l),typeof u!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function LE(t,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Wr(n,r,u,!0),r=on.current,r!==null){switch(r.tag){case 13:return xn===null?mf():r.alternate===null&&at===0&&(at=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===yc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),gf(t,l,u)),!1;case 22:return r.flags|=65536,l===yc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),gf(t,l,u)),!1}throw Error(a(435,r.tag))}return gf(t,l,u),mf(),!1}if(Ie)return n=on.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==fc&&(t=Error(a(422),{cause:l}),Xr(sn(t,r)))):(l!==fc&&(n=Error(a(423),{cause:l}),Xr(sn(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=sn(l,r),u=Vc(t.stateNode,l,u),Ec(t,u),at!==4&&(at=2)),!1;var f=Error(a(520),{cause:l});if(f=sn(f,r),ga===null?ga=[f]:ga.push(f),at!==4&&(at=2),n===null)return!0;l=sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=Vc(r.stateNode,l,t),Ec(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ei===null||!Ei.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Gp(u),Yp(u,t,r,l),Ec(r,u),!1}r=r.return}while(r!==null);return!1}var Fp=Error(a(461)),yt=!1;function wt(t,n,r,l){n.child=t===null?Up(n,null,r,l):Ks(n,t.child,r,l)}function Kp(t,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return ns(n),l=xc(t,n,r,g,f,u),_=Rc(),t!==null&&!yt?(Nc(t,n,u),Pn(t,n,u)):(Ie&&_&&uc(n),n.flags|=1,wt(t,n,l,u),n.child)}function Qp(t,n,r,l,u){if(t===null){var f=r.type;return typeof f=="function"&&!ac(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xp(t,n,f,l,u)):(t=Il(r.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zc(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yr,r(g,l)&&t.ref===n.ref)return Pn(t,n,u)}return n.flags|=1,t=kn(f,l),t.ref=n.ref,t.return=n,n.child=t}function Xp(t,n,r,l,u){if(t!==null){var f=t.memoizedProps;if(Yr(f,l)&&t.ref===n.ref)if(yt=!1,n.pendingProps=l=f,Zc(t,u))(t.flags&131072)!==0&&(yt=!0);else return n.lanes=t.lanes,Pn(t,n,u)}return Gc(t,n,r,l,u)}function Wp(t,n,r){var l=n.pendingProps,u=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Zp(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&jl(n,f!==null?f.cachePool:null),f!==null?Xm(n,f):Tc(),jp(n);else return n.lanes=n.childLanes=536870912,Zp(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(jl(n,f.cachePool),Xm(n,f),pi(),n.memoizedState=null):(t!==null&&jl(n,null),Tc(),pi());return wt(t,n,u,r),n.child}function Zp(t,n,r,l){var u=_c();return u=u===null?null:{parent:dt._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},t!==null&&jl(n,null),Tc(),jp(n),t!==null&&Wr(t,n,l,!0),null}function eo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Gc(t,n,r,l,u){return ns(n),r=xc(t,n,r,l,void 0,u),l=Rc(),t!==null&&!yt?(Nc(t,n,u),Pn(t,n,u)):(Ie&&l&&uc(n),n.flags|=1,wt(t,n,r,u),n.child)}function $p(t,n,r,l,u,f){return ns(n),n.updateQueue=null,r=Zm(n,l,r,u),Wm(t),l=Rc(),t!==null&&!yt?(Nc(t,n,f),Pn(t,n,f)):(Ie&&l&&uc(n),n.flags|=1,wt(t,n,r,f),n.child)}function Jp(t,n,r,l,u){if(ns(n),n.stateNode===null){var f=js,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ot(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},vc(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ot(g):js,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Pc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qc.enqueueReplaceState(f,f.state,null),ia(n,l,f,u),na(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var _=n.memoizedProps,E=rs(r,_);f.props=E;var O=f.context,B=r.contextType;g=js,typeof B=="object"&&B!==null&&(g=Ot(B));var V=r.getDerivedStateFromProps;B=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||O!==g)&&Hp(n,f,l,g),ci=!1;var M=n.memoizedState;f.state=M,ia(n,l,f,u),na(),O=n.memoizedState,_||M!==O||ci?(typeof V=="function"&&(Pc(n,r,V,l),O=n.memoizedState),(E=ci||zp(n,r,E,l,M,O,g))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=g,l=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,bc(t,n),g=n.memoizedProps,B=rs(r,g),f.props=B,V=n.pendingProps,M=f.context,O=r.contextType,E=js,typeof O=="object"&&O!==null&&(E=Ot(O)),_=r.getDerivedStateFromProps,(O=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==V||M!==E)&&Hp(n,f,l,E),ci=!1,M=n.memoizedState,f.state=M,ia(n,l,f,u),na();var L=n.memoizedState;g!==V||M!==L||ci||t!==null&&t.dependencies!==null&&Ll(t.dependencies)?(typeof _=="function"&&(Pc(n,r,_,l),L=n.memoizedState),(B=ci||zp(n,r,B,l,M,L,E)||t!==null&&t.dependencies!==null&&Ll(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,L,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,L,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=E,l=B):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,eo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ks(n,t.child,null,u),n.child=Ks(n,null,r,u)):wt(t,n,r,u),n.memoizedState=f.state,t=n.child):t=Pn(t,n,u),t}function eg(t,n,r,l){return Qr(),n.flags|=256,wt(t,n,r,l),n.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(t){return{baseLanes:t,cachePool:Pm()}}function Kc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=un),t}function tg(t,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ht.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ie){if(u?mi(n):pi(),Ie){var _=rt,E;if(E=_){e:{for(E=_,_=wn;E.nodeType!==8;){if(!_){_=null;break e}if(E=pn(E.nextSibling),E===null){_=null;break e}}_=E}_!==null?(n.memoizedState={dehydrated:_,treeContext:Zi!==null?{id:Ln,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},E=Ft(18,null,null,0),E.stateNode=_,E.return=n,n.child=E,kt=n,rt=null,E=!0):E=!1}E||es(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Df(_)?n.lanes=32:n.lanes=536870912,null;Bn(n)}return _=l.children,l=l.fallback,u?(pi(),u=n.mode,_=to({mode:"hidden",children:_},u),l=Wi(l,u,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=Fc(r),u.childLanes=Kc(t,g,r),n.memoizedState=Yc,l):(mi(n),Qc(n,_))}if(E=t.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(f)n.flags&256?(mi(n),n.flags&=-257,n=Xc(t,n,r)):n.memoizedState!==null?(pi(),n.child=t.child,n.flags|=128,n=null):(pi(),u=l.fallback,_=n.mode,l=to({mode:"visible",children:l.children},_),u=Wi(u,_,r,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,Ks(n,t.child,null,r),l=n.child,l.memoizedState=Fc(r),l.childLanes=Kc(t,g,r),n.memoizedState=Yc,n=u);else if(mi(n),Df(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var O=g.dgst;g=O,l=Error(a(419)),l.stack="",l.digest=g,Xr({value:l,source:null,stack:null}),n=Xc(t,n,r)}else if(yt||Wr(t,n,r,!1),g=(r&t.childLanes)!==0,yt||g){if(g=We,g!==null&&(l=r&-r,l=(l&42)!==0?1:Du(l),l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==E.retryLane))throw E.retryLane=l,Us(t,l),Zt(g,t,l),Fp;_.data==="$?"||mf(),n=Xc(t,n,r)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=E.treeContext,rt=pn(_.nextSibling),kt=n,Ie=!0,Ji=null,wn=!1,t!==null&&(an[ln++]=Ln,an[ln++]=Un,an[ln++]=Zi,Ln=t.id,Un=t.overflow,Zi=n),n=Qc(n,l.children),n.flags|=4096);return n}return u?(pi(),u=l.fallback,_=n.mode,E=t.child,O=E.sibling,l=kn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,O!==null?u=kn(O,u):(u=Wi(u,_,r,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=t.child.memoizedState,_===null?_=Fc(r):(E=_.cachePool,E!==null?(O=dt._currentValue,E=E.parent!==O?{parent:O,pool:O}:E):E=Pm(),_={baseLanes:_.baseLanes|r,cachePool:E}),u.memoizedState=_,u.childLanes=Kc(t,g,r),n.memoizedState=Yc,l):(mi(n),r=t.child,t=r.sibling,r=kn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Qc(t,n){return n=to({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function to(t,n){return t=Ft(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xc(t,n,r){return Ks(n,t.child,null,r),t=Qc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ng(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),hc(t.return,n,r)}function Wc(t,n,r,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function ig(t,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(wt(t,n,l.children,r),l=ht.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ng(t,r,n);else if(t.tag===19)ng(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(j(ht,l),u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Zl(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Wc(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Zl(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}Wc(n,!0,r,null,f);break;case"together":Wc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),bi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Wr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=kn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=kn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Zc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ll(t)))}function UE(t,n,r){switch(n.tag){case 3:ae(n,n.stateNode.containerInfo),ui(n,dt,t.memoizedState.cache),Qr();break;case 27:case 5:Xe(n);break;case 4:ae(n,n.stateNode.containerInfo);break;case 10:ui(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(mi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?tg(t,n,r):(mi(n),t=Pn(t,n,r),t!==null?t.sibling:null);mi(n);break;case 19:var u=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Wr(t,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return ig(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),j(ht,ht.current),l)break;return null;case 22:case 23:return n.lanes=0,Wp(t,n,r);case 24:ui(n,dt,t.memoizedState.cache)}return Pn(t,n,r)}function sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)yt=!0;else{if(!Zc(t,r)&&(n.flags&128)===0)return yt=!1,UE(t,n,r);yt=(t.flags&131072)!==0}else yt=!1,Ie&&(n.flags&1048576)!==0&&km(n,kl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")ac(l)?(t=rs(l,t),n.tag=1,n=Jp(null,n,l,t,r)):(n.tag=0,n=Gc(null,n,l,t,r));else{if(l!=null){if(u=l.$$typeof,u===ye){n.tag=11,n=Kp(null,n,l,t,r);break e}else if(u===ee){n.tag=14,n=Qp(null,n,l,t,r);break e}}throw n=ve(l)||l,Error(a(306,n,""))}}return n;case 0:return Gc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=rs(l,n.pendingProps),Jp(t,n,l,u,r);case 3:e:{if(ae(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,bc(t,n),ia(n,l,null,r);var g=n.memoizedState;if(l=g.cache,ui(n,dt,l),l!==f.cache&&mc(n,[dt],r,!0),na(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=eg(t,n,l,r);break e}else if(l!==u){u=sn(Error(a(424)),n),Xr(u),n=eg(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=pn(t.firstChild),kt=n,Ie=!0,Ji=null,wn=!0,r=Up(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Qr(),l===u){n=Pn(t,n,r);break e}wt(t,n,l,r)}n=n.child}return n;case 26:return eo(t,n),t===null?(r=o_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ie||(r=n.type,t=n.pendingProps,l=go(ie.current).createElement(r),l[At]=n,l[Lt]=t,Rt(l,r,t),_t(l),n.stateNode=l):n.memoizedState=o_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xe(n),t===null&&Ie&&(l=n.stateNode=r_(n.type,n.pendingProps,ie.current),kt=n,wn=!0,u=rt,Ci(n.type)?(If=u,rt=pn(l.firstChild)):rt=u),wt(t,n,n.pendingProps.children,r),eo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ie&&((u=l=rt)&&(l=cS(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,kt=n,rt=pn(l.firstChild),wn=!1,u=!0):u=!1),u||es(n)),Xe(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Nf(u,f)?l=null:g!==null&&Nf(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=xc(t,n,NE,null,null,r),wa._currentValue=u),eo(t,n),wt(t,n,l,r),n.child;case 6:return t===null&&Ie&&((t=r=rt)&&(r=fS(r,n.pendingProps,wn),r!==null?(n.stateNode=r,kt=n,rt=null,t=!0):t=!1),t||es(n)),null;case 13:return tg(t,n,r);case 4:return ae(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ks(n,null,l,r):wt(t,n,l,r),n.child;case 11:return Kp(t,n,n.type,n.pendingProps,r);case 7:return wt(t,n,n.pendingProps,r),n.child;case 8:return wt(t,n,n.pendingProps.children,r),n.child;case 12:return wt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ui(n,n.type,l.value),wt(t,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,ns(n),u=Ot(u),l=l(u),n.flags|=1,wt(t,n,l,r),n.child;case 14:return Qp(t,n,n.type,n.pendingProps,r);case 15:return Xp(t,n,n.type,n.pendingProps,r);case 19:return ig(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=to(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=kn(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Wp(t,n,r);case 24:return ns(n),l=Ot(dt),t===null?(u=_c(),u===null&&(u=We,f=pc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},vc(n),ui(n,dt,u)):((t.lanes&r)!==0&&(bc(t,n),ia(n,null,null,r),na()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ui(n,dt,l)):(l=f.cache,ui(n,dt,l),l!==u.cache&&mc(n,[dt],r,!0))),wt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qn(t){t.flags|=4}function rg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!h_(n)){if(n=on.current,n!==null&&((Ae&4194048)===Ae?xn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||n!==xn))throw ea=yc,qm;t.flags|=8192}}function no(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?jh():536870912,t.lanes|=n,Zs|=n)}function ca(t,n){if(!Ie)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function jE(t,n,r){var l=n.pendingProps;switch(cc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zn(dt),be(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kr(n)?qn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jm())),nt(n),null;case 26:return r=n.memoizedState,t===null?(qn(n),r!==null?(nt(n),rg(n,r)):(nt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(qn(n),nt(n),rg(n,r)):(nt(n),n.flags&=-16777217):(t.memoizedProps!==l&&qn(n),nt(n),n.flags&=-16777217),null;case 27:ge(n),r=ie.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return nt(n),null}t=Z.current,Kr(n)?Lm(n):(t=r_(u,l,r),n.stateNode=t,qn(n))}return nt(n),null;case 5:if(ge(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(t=Z.current,Kr(n))Lm(n);else{switch(u=go(ie.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}t[At]=n,t[Lt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(Rt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qn(n)}}return nt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ie.current,Kr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,u=kt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[At]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||$g(t.nodeValue,r)),t||es(n)}else t=go(t).createTextNode(l),t[At]=n,n.stateNode=t}return nt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Kr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[At]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),u=!1}else u=jm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Bn(n),n):(Bn(n),null)}if(Bn(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),no(n,n.updateQueue),nt(n),null;case 4:return be(),t===null&&Tf(n.stateNode.containerInfo),nt(n),null;case 10:return zn(n.type),nt(n),null;case 19:if(q(ht),u=n.memoizedState,u===null)return nt(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)ca(u,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zl(t),f!==null){for(n.flags|=128,ca(u,!1),t=f.updateQueue,n.updateQueue=t,no(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Mm(r,t),r=r.sibling;return j(ht,ht.current&1|2),n.child}t=t.sibling}u.tail!==null&&Ge()>ro&&(n.flags|=128,l=!0,ca(u,!1),n.lanes=4194304)}else{if(!l)if(t=Zl(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,no(n,t),ca(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Ie)return nt(n),null}else 2*Ge()-u.renderingStartTime>ro&&r!==536870912&&(n.flags|=128,l=!0,ca(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(t=u.last,t!==null?t.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ge(),n.sibling=null,t=ht.current,j(ht,l?t&1|2:t&1),n):(nt(n),null);case 22:case 23:return Bn(n),Cc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),r=n.updateQueue,r!==null&&no(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&q(is),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),zn(dt),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function zE(t,n){switch(cc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zn(dt),be(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ge(n),null;case 13:if(Bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return q(ht),null;case 4:return be(),null;case 10:return zn(n.type),null;case 22:case 23:return Bn(n),Cc(),t!==null&&q(is),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zn(dt),null;case 25:return null;default:return null}}function ag(t,n){switch(cc(n),n.tag){case 3:zn(dt),be();break;case 26:case 27:case 5:ge(n);break;case 4:be();break;case 13:Bn(n);break;case 19:q(ht);break;case 10:zn(n.type);break;case 22:case 23:Bn(n),Cc(),t!==null&&q(is);break;case 24:zn(dt)}}function fa(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==u)}}catch(_){Fe(n,n.return,_)}}function gi(t,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var E=r,O=_;try{O()}catch(B){Fe(u,E,B)}}}l=l.next}while(l!==f)}}catch(B){Fe(n,n.return,B)}}function lg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Qm(n,r)}catch(l){Fe(t,t.return,l)}}}function og(t,n,r){r.props=rs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Fe(t,n,l)}}function da(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(u){Fe(t,n,u)}}function Rn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){Fe(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Fe(t,n,u)}else r.current=null}function ug(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){Fe(t,t.return,u)}}function $c(t,n,r){try{var l=t.stateNode;rS(l,t.type,r,n),l[Lt]=n}catch(u){Fe(t,t.return,u)}}function cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function Jc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=po));else if(l!==4&&(l===27&&Ci(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,r),t=t.sibling;t!==null;)ef(t,n,r),t=t.sibling}function io(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(io(t,n,r),t=t.sibling;t!==null;)io(t,n,r),t=t.sibling}function fg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Rt(n,l,r),n[At]=t,n[Lt]=r}catch(f){Fe(t,t.return,f)}}var Vn=!1,ut=!1,tf=!1,dg=typeof WeakSet=="function"?WeakSet:Set,vt=null;function HE(t,n){if(t=t.containerInfo,xf=So,t=Tm(t),Ju(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,_=-1,E=-1,O=0,B=0,V=t,M=null;t:for(;;){for(var L;V!==r||u!==0&&V.nodeType!==3||(_=g+u),V!==f||l!==0&&V.nodeType!==3||(E=g+l),V.nodeType===3&&(g+=V.nodeValue.length),(L=V.firstChild)!==null;)M=V,V=L;for(;;){if(V===t)break t;if(M===r&&++O===u&&(_=g),M===f&&++B===l&&(E=g),(L=V.nextSibling)!==null)break;V=M,M=V.parentNode}V=L}r=_===-1||E===-1?null:{start:_,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rf={focusedElem:t,selectionRange:r},So=!1,vt=n;vt!==null;)if(n=vt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,vt=t;else for(;vt!==null;){switch(n=vt,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var de=rs(r.type,u,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ce){Fe(r,r.return,ce)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,vt=t;break}vt=n.return}}function hg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:_i(t,r),l&4&&fa(5,r);break;case 1:if(_i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Fe(r,r.return,g)}else{var u=rs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Fe(r,r.return,g)}}l&64&&lg(r),l&512&&da(r,r.return);break;case 3:if(_i(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Qm(t,n)}catch(g){Fe(r,r.return,g)}}break;case 27:n===null&&l&4&&fg(r);case 26:case 5:_i(t,r),n===null&&l&4&&ug(r),l&512&&da(r,r.return);break;case 12:_i(t,r);break;case 13:_i(t,r),l&4&&gg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=QE.bind(null,r),dS(t,r))));break;case 22:if(l=r.memoizedState!==null||Vn,!l){n=n!==null&&n.memoizedState!==null||ut,u=Vn;var f=ut;Vn=l,(ut=n)&&!f?yi(t,r,(r.subtreeFlags&8772)!==0):_i(t,r),Vn=u,ut=f}break;case 30:break;default:_i(t,r)}}function mg(t){var n=t.alternate;n!==null&&(t.alternate=null,mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ku(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,zt=!1;function Gn(t,n,r){for(r=r.child;r!==null;)pg(t,n,r),r=r.sibling}function pg(t,n,r){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Je,r)}catch{}switch(r.tag){case 26:ut||Rn(r,n),Gn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ut||Rn(r,n);var l=et,u=zt;Ci(r.type)&&(et=r.stateNode,zt=!1),Gn(t,n,r),Ea(r.stateNode),et=l,zt=u;break;case 5:ut||Rn(r,n);case 6:if(l=et,u=zt,et=null,Gn(t,n,r),et=l,zt=u,et!==null)if(zt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(r.stateNode)}catch(f){Fe(r,n,f)}else try{et.removeChild(r.stateNode)}catch(f){Fe(r,n,f)}break;case 18:et!==null&&(zt?(t=et,i_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Aa(t)):i_(et,r.stateNode));break;case 4:l=et,u=zt,et=r.stateNode.containerInfo,zt=!0,Gn(t,n,r),et=l,zt=u;break;case 0:case 11:case 14:case 15:ut||gi(2,r,n),ut||gi(4,r,n),Gn(t,n,r);break;case 1:ut||(Rn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&og(r,n,l)),Gn(t,n,r);break;case 21:Gn(t,n,r);break;case 22:ut=(l=ut)||r.memoizedState!==null,Gn(t,n,r),ut=l;break;default:Gn(t,n,r)}}function gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Aa(t)}catch(r){Fe(n,n.return,r)}}function BE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dg),n;default:throw Error(a(435,t.tag))}}function nf(t,n){var r=BE(t);n.forEach(function(l){var u=XE.bind(null,t,l);r.has(l)||(r.add(l),l.then(u,u))})}function Kt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(Ci(_.type)){et=_.stateNode,zt=!1;break e}break;case 5:et=_.stateNode,zt=!1;break e;case 3:case 4:et=_.stateNode.containerInfo,zt=!0;break e}_=_.return}if(et===null)throw Error(a(160));pg(f,g,u),et=null,zt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)_g(n,t),n=n.sibling}var mn=null;function _g(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Kt(n,t),Qt(t),l&4&&(gi(3,t,t.return),fa(3,t),gi(5,t,t.return));break;case 1:Kt(n,t),Qt(t),l&512&&(ut||r===null||Rn(r,r.return)),l&64&&Vn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=mn;if(Kt(n,t),Qt(t),l&512&&(ut||r===null||Rn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ur]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),Rt(f,l,r),f[At]=t,_t(f),l=f;break e;case"link":var g=f_("link","href",u).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(f=g[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}f=u.createElement(l),Rt(f,l,r),u.head.appendChild(f);break;case"meta":if(g=f_("meta","content",u).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(f=g[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}f=u.createElement(l),Rt(f,l,r),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[At]=t,_t(f),l=f}t.stateNode=l}else d_(u,t.type,t.stateNode);else t.stateNode=c_(u,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?d_(u,t.type,t.stateNode):c_(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$c(t,t.memoizedProps,r.memoizedProps)}break;case 27:Kt(n,t),Qt(t),l&512&&(ut||r===null||Rn(r,r.return)),r!==null&&l&4&&$c(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Kt(n,t),Qt(t),l&512&&(ut||r===null||Rn(r,r.return)),t.flags&32){u=t.stateNode;try{As(u,"")}catch(L){Fe(t,t.return,L)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,$c(t,u,r!==null?r.memoizedProps:u)),l&1024&&(tf=!0);break;case 6:if(Kt(n,t),Qt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(L){Fe(t,t.return,L)}}break;case 3:if(vo=null,u=mn,mn=_o(n.containerInfo),Kt(n,t),mn=u,Qt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Aa(n.containerInfo)}catch(L){Fe(t,t.return,L)}tf&&(tf=!1,yg(t));break;case 4:l=mn,mn=_o(t.stateNode.containerInfo),Kt(n,t),Qt(t),mn=l;break;case 12:Kt(n,t),Qt(t);break;case 13:Kt(n,t),Qt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uf=Ge()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 22:u=t.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,O=Vn,B=ut;if(Vn=O||u,ut=B||E,Kt(n,t),ut=B,Vn=O,Qt(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||E||Vn||ut||as(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){E=r=n;try{if(f=E.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=E.stateNode;var V=E.memoizedProps.style,M=V!=null&&V.hasOwnProperty("display")?V.display:null;_.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(L){Fe(E,E.return,L)}}}else if(n.tag===6){if(r===null){E=n;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(L){Fe(E,E.return,L)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,nf(t,r))));break;case 19:Kt(n,t),Qt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 30:break;case 21:break;default:Kt(n,t),Qt(t)}}function Qt(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(cg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var u=r.stateNode,f=Jc(t);io(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(As(g,""),r.flags&=-33);var _=Jc(t);io(t,_,g);break;case 3:case 4:var E=r.stateNode.containerInfo,O=Jc(t);ef(t,O,E);break;default:throw Error(a(161))}}catch(B){Fe(t,t.return,B)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function _i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hg(t,n.alternate,n),n=n.sibling}function as(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:gi(4,n,n.return),as(n);break;case 1:Rn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&og(n,n.return,r),as(n);break;case 27:Ea(n.stateNode);case 26:case 5:Rn(n,n.return),as(n);break;case 22:n.memoizedState===null&&as(n);break;case 30:as(n);break;default:as(n)}t=t.sibling}}function yi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:yi(u,f,r),fa(4,f);break;case 1:if(yi(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){Fe(l,l.return,O)}if(l=f,u=l.updateQueue,u!==null){var _=l.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)Km(E[u],_)}catch(O){Fe(l,l.return,O)}}r&&g&64&&lg(f),da(f,f.return);break;case 27:fg(f);case 26:case 5:yi(u,f,r),r&&l===null&&g&4&&ug(f),da(f,f.return);break;case 12:yi(u,f,r);break;case 13:yi(u,f,r),r&&g&4&&gg(u,f);break;case 22:f.memoizedState===null&&yi(u,f,r),da(f,f.return);break;case 30:break;default:yi(u,f,r)}n=n.sibling}}function sf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Zr(r))}function rf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zr(t))}function Nn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vg(t,n,r,l),n=n.sibling}function vg(t,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(t,n,r,l),u&2048&&fa(9,n);break;case 1:Nn(t,n,r,l);break;case 3:Nn(t,n,r,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zr(t)));break;case 12:if(u&2048){Nn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,_=f.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Fe(n,n.return,E)}}else Nn(t,n,r,l);break;case 13:Nn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Nn(t,n,r,l):ha(t,n):f._visibility&2?Nn(t,n,r,l):(f._visibility|=2,Qs(t,n,r,l,(n.subtreeFlags&10256)!==0)),u&2048&&sf(g,n);break;case 24:Nn(t,n,r,l),u&2048&&rf(n.alternate,n);break;default:Nn(t,n,r,l)}}function Qs(t,n,r,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,g=n,_=r,E=l,O=g.flags;switch(g.tag){case 0:case 11:case 15:Qs(f,g,_,E,u),fa(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?Qs(f,g,_,E,u):ha(f,g):(B._visibility|=2,Qs(f,g,_,E,u)),u&&O&2048&&sf(g.alternate,g);break;case 24:Qs(f,g,_,E,u),u&&O&2048&&rf(g.alternate,g);break;default:Qs(f,g,_,E,u)}n=n.sibling}}function ha(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,u=l.flags;switch(l.tag){case 22:ha(r,l),u&2048&&sf(l.alternate,l);break;case 24:ha(r,l),u&2048&&rf(l.alternate,l);break;default:ha(r,l)}n=n.sibling}}var ma=8192;function Xs(t){if(t.subtreeFlags&ma)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 26:Xs(t),t.flags&ma&&t.memoizedState!==null&&wS(mn,t.memoizedState,t.memoizedProps);break;case 5:Xs(t);break;case 3:case 4:var n=mn;mn=_o(t.stateNode.containerInfo),Xs(t),mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ma,ma=16777216,Xs(t),ma=n):Xs(t));break;default:Xs(t)}}function Eg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pa(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];vt=l,Tg(l,t)}Eg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 0:case 11:case 15:pa(t),t.flags&2048&&gi(9,t,t.return);break;case 3:pa(t);break;case 12:pa(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,so(t)):pa(t);break;default:pa(t)}}function so(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];vt=l,Tg(l,t)}Eg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:gi(8,n,n.return),so(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,so(n));break;default:so(n)}t=t.sibling}}function Tg(t,n){for(;vt!==null;){var r=vt;switch(r.tag){case 0:case 11:case 15:gi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,vt=l;else e:for(r=t;vt!==null;){l=vt;var u=l.sibling,f=l.return;if(mg(l),l===r){vt=null;break e}if(u!==null){u.return=f,vt=u;break e}vt=f}}}var PE={getCacheForType:function(t){var n=Ot(dt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},qE=typeof WeakMap=="function"?WeakMap:Map,Le=0,We=null,xe=null,Ae=0,Ue=0,Xt=null,vi=!1,Ws=!1,af=!1,Yn=0,at=0,bi=0,ls=0,lf=0,un=0,Zs=0,ga=null,Ht=null,of=!1,uf=0,ro=1/0,ao=null,Ei=null,xt=0,Si=null,$s=null,Js=0,cf=0,ff=null,Cg=null,_a=0,df=null;function Wt(){if((Le&2)!==0&&Ae!==0)return Ae&-Ae;if(N.T!==null){var t=Bs;return t!==0?t:vf()}return Bh()}function wg(){un===0&&(un=(Ae&536870912)===0||Ie?Uh():536870912);var t=on.current;return t!==null&&(t.flags|=32),un}function Zt(t,n,r){(t===We&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)&&(er(t,0),Ti(t,Ae,un,!1)),Lr(t,r),((Le&2)===0||t!==We)&&(t===We&&((Le&2)===0&&(ls|=r),at===4&&Ti(t,Ae,un,!1)),An(t))}function xg(t,n,r){if((Le&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||kr(t,n),u=l?YE(t,n):pf(t,n,!0),f=l;do{if(u===0){Ws&&!l&&Ti(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!VE(r)){u=pf(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;u=ga;var E=_.current.memoizedState.isDehydrated;if(E&&(er(_,g).flags|=256),g=pf(_,g,!1),g!==2){if(af&&!E){_.errorRecoveryDisabledLanes|=f,ls|=f,u=4;break e}f=Ht,Ht=u,f!==null&&(Ht===null?Ht=f:Ht.push.apply(Ht,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){er(t,0),Ti(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ti(l,n,un,!vi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=uf+300-Ge(),10<u)){if(Ti(l,n,un,!vi),_l(l,0,!0)!==0)break e;l.timeoutHandle=t_(Rg.bind(null,l,r,Ht,ao,of,n,un,ls,Zs,vi,f,2,-0,0),u);break e}Rg(l,r,Ht,ao,of,n,un,ls,Zs,vi,f,0,-0,0)}}break}while(!0);An(t)}function Rg(t,n,r,l,u,f,g,_,E,O,B,V,M,L){if(t.timeoutHandle=-1,V=n.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(Ca={stylesheets:null,count:0,unsuspend:CS},bg(n),V=xS(),V!==null)){t.cancelPendingCommit=V(kg.bind(null,t,n,f,r,l,u,g,_,E,B,1,M,L)),Ti(t,f,g,!O);return}kg(t,n,f,r,l,u,g,_,E)}function VE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!Yt(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ti(t,n,r,l){n&=~lf,n&=~ls,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-Ct(u),g=1<<f;l[f]=-1,u&=~g}r!==0&&zh(t,r,n)}function lo(){return(Le&6)===0?(ya(0),!1):!0}function hf(){if(xe!==null){if(Ue===0)var t=xe.return;else t=xe,jn=ts=null,Ac(t),Fs=null,oa=0,t=xe;for(;t!==null;)ag(t.alternate,t),t=t.return;xe=null}}function er(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,lS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hf(),We=t,xe=r=kn(t.current,null),Ae=n,Ue=0,Xt=null,vi=!1,Ws=kr(t,n),af=!1,Zs=un=lf=ls=bi=at=0,Ht=ga=null,of=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-Ct(l),f=1<<u;n|=t[u],l&=~f}return Yn=n,Al(),r}function Ng(t,n){Se=null,N.H=Ql,n===Jr||n===zl?(n=Ym(),Ue=3):n===qm?(n=Ym(),Ue=4):Ue=n===Fp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Xt=n,xe===null&&(at=1,Jl(t,sn(n,t.current)))}function Ag(){var t=N.H;return N.H=Ql,t===null?Ql:t}function Og(){var t=N.A;return N.A=PE,t}function mf(){at=4,vi||(Ae&4194048)!==Ae&&on.current!==null||(Ws=!0),(bi&134217727)===0&&(ls&134217727)===0||We===null||Ti(We,Ae,un,!1)}function pf(t,n,r){var l=Le;Le|=2;var u=Ag(),f=Og();(We!==t||Ae!==n)&&(ao=null,er(t,n)),n=!1;var g=at;e:do try{if(Ue!==0&&xe!==null){var _=xe,E=Xt;switch(Ue){case 8:hf(),g=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(n=!0);var O=Ue;if(Ue=0,Xt=null,tr(t,_,E,O),r&&Ws){g=0;break e}break;default:O=Ue,Ue=0,Xt=null,tr(t,_,E,O)}}GE(),g=at;break}catch(B){Ng(t,B)}while(!0);return n&&t.shellSuspendCounter++,jn=ts=null,Le=l,N.H=u,N.A=f,xe===null&&(We=null,Ae=0,Al()),g}function GE(){for(;xe!==null;)Dg(xe)}function YE(t,n){var r=Le;Le|=2;var l=Ag(),u=Og();We!==t||Ae!==n?(ao=null,ro=Ge()+500,er(t,n)):Ws=kr(t,n);e:do try{if(Ue!==0&&xe!==null){n=xe;var f=Xt;t:switch(Ue){case 1:Ue=0,Xt=null,tr(t,n,f,1);break;case 2:case 9:if(Vm(f)){Ue=0,Xt=null,Ig(n);break}n=function(){Ue!==2&&Ue!==9||We!==t||(Ue=7),An(t)},f.then(n,n);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Vm(f)?(Ue=0,Xt=null,Ig(n)):(Ue=0,Xt=null,tr(t,n,f,7));break;case 5:var g=null;switch(xe.tag){case 26:g=xe.memoizedState;case 5:case 27:var _=xe;if(!g||h_(g)){Ue=0,Xt=null;var E=_.sibling;if(E!==null)xe=E;else{var O=_.return;O!==null?(xe=O,oo(O)):xe=null}break t}}Ue=0,Xt=null,tr(t,n,f,5);break;case 6:Ue=0,Xt=null,tr(t,n,f,6);break;case 8:hf(),at=6;break e;default:throw Error(a(462))}}FE();break}catch(B){Ng(t,B)}while(!0);return jn=ts=null,N.H=l,N.A=u,Le=r,xe!==null?0:(We=null,Ae=0,Al(),at)}function FE(){for(;xe!==null&&!ke();)Dg(xe)}function Dg(t){var n=sg(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,n===null?oo(t):xe=n}function Ig(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=$p(r,n,n.pendingProps,n.type,void 0,Ae);break;case 11:n=$p(r,n,n.pendingProps,n.type.render,n.ref,Ae);break;case 5:Ac(n);default:ag(r,n),n=xe=Mm(n,Yn),n=sg(r,n,Yn)}t.memoizedProps=t.pendingProps,n===null?oo(t):xe=n}function tr(t,n,r,l){jn=ts=null,Ac(n),Fs=null,oa=0;var u=n.return;try{if(LE(t,u,n,r,Ae)){at=1,Jl(t,sn(r,t.current)),xe=null;return}}catch(f){if(u!==null)throw xe=u,f;at=1,Jl(t,sn(r,t.current)),xe=null;return}n.flags&32768?(Ie||l===1?t=!0:Ws||(Ae&536870912)!==0?t=!1:(vi=t=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mg(n,t)):oo(n)}function oo(t){var n=t;do{if((n.flags&32768)!==0){Mg(n,vi);return}t=n.return;var r=jE(n.alternate,n,Yn);if(r!==null){xe=r;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=t}while(n!==null);at===0&&(at=5)}function Mg(t,n){do{var r=zE(t.alternate,t);if(r!==null){r.flags&=32767,xe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xe=t;return}xe=t=r}while(t!==null);at=6,xe=null}function kg(t,n,r,l,u,f,g,_,E){t.cancelPendingCommit=null;do uo();while(xt!==0);if((Le&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=sc,Cb(t,r,f,g,_,E),t===We&&(xe=We=null,Ae=0),$s=n,Si=t,Js=r,cf=f,ff=u,Cg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WE(dn,function(){return Hg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,u=H.p,H.p=2,g=Le,Le|=4;try{HE(t,n,r)}finally{Le=g,H.p=u,N.T=l}}xt=1,Lg(),Ug(),jg()}}function Lg(){if(xt===1){xt=0;var t=Si,n=$s,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=N.T,N.T=null;var l=H.p;H.p=2;var u=Le;Le|=4;try{_g(n,t);var f=Rf,g=Tm(t.containerInfo),_=f.focusedElem,E=f.selectionRange;if(g!==_&&_&&_.ownerDocument&&Sm(_.ownerDocument.documentElement,_)){if(E!==null&&Ju(_)){var O=E.start,B=E.end;if(B===void 0&&(B=O),"selectionStart"in _)_.selectionStart=O,_.selectionEnd=Math.min(B,_.value.length);else{var V=_.ownerDocument||document,M=V&&V.defaultView||window;if(M.getSelection){var L=M.getSelection(),de=_.textContent.length,ce=Math.min(E.start,de),qe=E.end===void 0?ce:Math.min(E.end,de);!L.extend&&ce>qe&&(g=qe,qe=ce,ce=g);var R=Em(_,ce),x=Em(_,qe);if(R&&x&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==x.node||L.focusOffset!==x.offset)){var A=V.createRange();A.setStart(R.node,R.offset),L.removeAllRanges(),ce>qe?(L.addRange(A),L.extend(x.node,x.offset)):(A.setEnd(x.node,x.offset),L.addRange(A))}}}}for(V=[],L=_;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<V.length;_++){var P=V[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}So=!!xf,Rf=xf=null}finally{Le=u,H.p=l,N.T=r}}t.current=n,xt=2}}function Ug(){if(xt===2){xt=0;var t=Si,n=$s,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=N.T,N.T=null;var l=H.p;H.p=2;var u=Le;Le|=4;try{hg(t,n.alternate,n)}finally{Le=u,H.p=l,N.T=r}}xt=3}}function jg(){if(xt===4||xt===3){xt=0,Ee();var t=Si,n=$s,r=Js,l=Cg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xt=5:(xt=0,$s=Si=null,zg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ei=null),Iu(r),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Je,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=N.T,u=H.p,H.p=2,N.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var _=l[g];f(_.value,{componentStack:_.stack})}}finally{N.T=n,H.p=u}}(Js&3)!==0&&uo(),An(t),u=t.pendingLanes,(r&4194090)!==0&&(u&42)!==0?t===df?_a++:(_a=0,df=t):_a=0,ya(0)}}function zg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zr(n)))}function uo(t){return Lg(),Ug(),jg(),Hg()}function Hg(){if(xt!==5)return!1;var t=Si,n=cf;cf=0;var r=Iu(Js),l=N.T,u=H.p;try{H.p=32>r?32:r,N.T=null,r=ff,ff=null;var f=Si,g=Js;if(xt=0,$s=Si=null,Js=0,(Le&6)!==0)throw Error(a(331));var _=Le;if(Le|=4,Sg(f.current),vg(f,f.current,g,r),Le=_,ya(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Je,f)}catch{}return!0}finally{H.p=u,N.T=l,zg(t,n)}}function Bg(t,n,r){n=sn(r,n),n=Vc(t.stateNode,n,2),t=di(t,n,2),t!==null&&(Lr(t,2),An(t))}function Fe(t,n,r){if(t.tag===3)Bg(t,t,r);else for(;n!==null;){if(n.tag===3){Bg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ei===null||!Ei.has(l))){t=sn(r,t),r=Gp(2),l=di(n,r,2),l!==null&&(Yp(r,l,n,t),Lr(l,2),An(l));break}}n=n.return}}function gf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new qE;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(af=!0,u.add(r),t=KE.bind(null,t,n,r),n.then(t,t))}function KE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,We===t&&(Ae&r)===r&&(at===4||at===3&&(Ae&62914560)===Ae&&300>Ge()-uf?(Le&2)===0&&er(t,0):lf|=r,Zs===Ae&&(Zs=0)),An(t)}function Pg(t,n){n===0&&(n=jh()),t=Us(t,n),t!==null&&(Lr(t,n),An(t))}function QE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Pg(t,r)}function XE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Pg(t,r)}function WE(t,n){return it(t,n)}var co=null,nr=null,_f=!1,fo=!1,yf=!1,os=0;function An(t){t!==nr&&t.next===null&&(nr===null?co=nr=t:nr=nr.next=t),fo=!0,_f||(_f=!0,$E())}function ya(t,n){if(!yf&&fo){yf=!0;do for(var r=!1,l=co;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Ct(42|t)+1)-1,f&=u&~(g&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Yg(l,f))}else f=Ae,f=_l(l,l===We?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||kr(l,f)||(r=!0,Yg(l,f));l=l.next}while(r);yf=!1}}function ZE(){qg()}function qg(){fo=_f=!1;var t=0;os!==0&&(aS()&&(t=os),os=0);for(var n=Ge(),r=null,l=co;l!==null;){var u=l.next,f=Vg(l,n);f===0?(l.next=null,r===null?co=u:r.next=u,u===null&&(nr=r)):(r=l,(t!==0||(f&3)!==0)&&(fo=!0)),l=u}ya(t)}function Vg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ct(f),_=1<<g,E=u[g];E===-1?((_&r)===0||(_&l)!==0)&&(u[g]=Tb(_,n)):E<=n&&(t.expiredLanes|=_),f&=~_}if(n=We,r=Ae,r=_l(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ze(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||kr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ze(l),Iu(r)){case 2:case 8:r=st;break;case 32:r=dn;break;case 268435456:r=ri;break;default:r=dn}return l=Gg.bind(null,t),r=it(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ze(l),t.callbackPriority=2,t.callbackNode=null,2}function Gg(t,n){if(xt!==0&&xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uo()&&t.callbackNode!==r)return null;var l=Ae;return l=_l(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xg(t,l,n),Vg(t,Ge()),t.callbackNode!=null&&t.callbackNode===r?Gg.bind(null,t):null)}function Yg(t,n){if(uo())return null;xg(t,n,!0)}function $E(){oS(function(){(Le&6)!==0?it(Ye,ZE):qg()})}function vf(){return os===0&&(os=Uh()),os}function Fg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sl(""+t)}function Kg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function JE(t,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=Fg((u[Lt]||null).action),g=l.submitter;g&&(n=(n=g[Lt]||null)?Fg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var _=new xl("action","action",null,l,u);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var E=g?Kg(u,g):new FormData(u);zc(r,{pending:!0,data:E,method:u.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=g?Kg(u,g):new FormData(u),zc(r,{pending:!0,data:E,method:u.method,action:f},f,E))},currentTarget:u}]})}}for(var bf=0;bf<ic.length;bf++){var Ef=ic[bf],eS=Ef.toLowerCase(),tS=Ef[0].toUpperCase()+Ef.slice(1);hn(eS,"on"+tS)}hn(xm,"onAnimationEnd"),hn(Rm,"onAnimationIteration"),hn(Nm,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(yE,"onTransitionRun"),hn(vE,"onTransitionStart"),hn(bE,"onTransitionCancel"),hn(Am,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(va));function Qg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],E=_.instance,O=_.currentTarget;if(_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=O;try{f(u)}catch(B){$l(B)}u.currentTarget=null,f=E}else for(g=0;g<l.length;g++){if(_=l[g],E=_.instance,O=_.currentTarget,_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=O;try{f(u)}catch(B){$l(B)}u.currentTarget=null,f=E}}}}function Re(t,n){var r=n[Mu];r===void 0&&(r=n[Mu]=new Set);var l=t+"__bubble";r.has(l)||(Xg(n,t,2,!1),r.add(l))}function Sf(t,n,r){var l=0;n&&(l|=4),Xg(r,t,l,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Tf(t){if(!t[ho]){t[ho]=!0,qh.forEach(function(r){r!=="selectionchange"&&(nS.has(r)||Sf(r,!1,t),Sf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ho]||(n[ho]=!0,Sf("selectionchange",!1,n))}}function Xg(t,n,r,l){switch(v_(n)){case 2:var u=AS;break;case 8:u=OS;break;default:u=jf}r=u.bind(null,n,r,t),u=void 0,!Gu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Cf(t,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u)break;if(g===4)for(g=l.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;_!==null;){if(g=Ts(_),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){l=f=g;continue e}_=_.parentNode}}l=l.return}nm(function(){var O=f,B=qu(r),V=[];e:{var M=Om.get(t);if(M!==void 0){var L=xl,de=t;switch(t){case"keypress":if(Cl(r)===0)break e;case"keydown":case"keyup":L=Wb;break;case"focusin":de="focus",L=Qu;break;case"focusout":de="blur",L=Qu;break;case"beforeblur":case"afterblur":L=Qu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Jb;break;case xm:case Rm:case Nm:L=Pb;break;case Am:L=tE;break;case"scroll":case"scrollend":L=Ub;break;case"wheel":L=iE;break;case"copy":case"cut":case"paste":L=Vb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=lm;break;case"toggle":case"beforetoggle":L=rE}var ce=(n&4)!==0,qe=!ce&&(t==="scroll"||t==="scrollend"),R=ce?M!==null?M+"Capture":null:M;ce=[];for(var x=O,A;x!==null;){var P=x;if(A=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||A===null||R===null||(P=zr(x,R),P!=null&&ce.push(ba(x,P,A))),qe)break;x=x.return}0<ce.length&&(M=new L(M,de,null,r,B),V.push({event:M,listeners:ce}))}}if((n&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",M&&r!==Pu&&(de=r.relatedTarget||r.fromElement)&&(Ts(de)||de[Ss]))break e;if((L||M)&&(M=B.window===B?B:(M=B.ownerDocument)?M.defaultView||M.parentWindow:window,L?(de=r.relatedTarget||r.toElement,L=O,de=de?Ts(de):null,de!==null&&(qe=c(de),ce=de.tag,de!==qe||ce!==5&&ce!==27&&ce!==6)&&(de=null)):(L=null,de=O),L!==de)){if(ce=rm,P="onMouseLeave",R="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ce=lm,P="onPointerLeave",R="onPointerEnter",x="pointer"),qe=L==null?M:jr(L),A=de==null?M:jr(de),M=new ce(P,x+"leave",L,r,B),M.target=qe,M.relatedTarget=A,P=null,Ts(B)===O&&(ce=new ce(R,x+"enter",de,r,B),ce.target=A,ce.relatedTarget=qe,P=ce),qe=P,L&&de)t:{for(ce=L,R=de,x=0,A=ce;A;A=ir(A))x++;for(A=0,P=R;P;P=ir(P))A++;for(;0<x-A;)ce=ir(ce),x--;for(;0<A-x;)R=ir(R),A--;for(;x--;){if(ce===R||R!==null&&ce===R.alternate)break t;ce=ir(ce),R=ir(R)}ce=null}else ce=null;L!==null&&Wg(V,M,L,ce,!1),de!==null&&qe!==null&&Wg(V,qe,de,ce,!0)}}e:{if(M=O?jr(O):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var ne=pm;else if(hm(M))if(gm)ne=pE;else{ne=hE;var Te=dE}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?O&&Bu(O.elementType)&&(ne=pm):ne=mE;if(ne&&(ne=ne(t,O))){mm(V,ne,r,B);break e}Te&&Te(t,M,O),t==="focusout"&&O&&M.type==="number"&&O.memoizedProps.value!=null&&Hu(M,"number",M.value)}switch(Te=O?jr(O):window,t){case"focusin":(hm(Te)||Te.contentEditable==="true")&&(Ms=Te,ec=O,Fr=null);break;case"focusout":Fr=ec=Ms=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Cm(V,r,B);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":Cm(V,r,B)}var oe;if(Wu)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Is?fm(t,r)&&(fe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(fe="onCompositionStart");fe&&(om&&r.locale!=="ko"&&(Is||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Is&&(oe=im()):(oi=B,Yu="value"in oi?oi.value:oi.textContent,Is=!0)),Te=mo(O,fe),0<Te.length&&(fe=new am(fe,t,null,r,B),V.push({event:fe,listeners:Te}),oe?fe.data=oe:(oe=dm(r),oe!==null&&(fe.data=oe)))),(oe=lE?oE(t,r):uE(t,r))&&(fe=mo(O,"onBeforeInput"),0<fe.length&&(Te=new am("onBeforeInput","beforeinput",null,r,B),V.push({event:Te,listeners:fe}),Te.data=oe)),JE(V,t,O,r,B)}Qg(V,n)})}function ba(t,n,r){return{instance:t,listener:n,currentTarget:r}}function mo(t,n){for(var r=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=zr(t,r),u!=null&&l.unshift(ba(t,u,f)),u=zr(t,n),u!=null&&l.push(ba(t,u,f))),t.tag===3)return l;t=t.return}return[]}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wg(t,n,r,l,u){for(var f=n._reactName,g=[];r!==null&&r!==l;){var _=r,E=_.alternate,O=_.stateNode;if(_=_.tag,E!==null&&E===l)break;_!==5&&_!==26&&_!==27||O===null||(E=O,u?(O=zr(r,f),O!=null&&g.unshift(ba(r,O,E))):u||(O=zr(r,f),O!=null&&g.push(ba(r,O,E)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var iS=/\r\n?/g,sS=/\u0000|\uFFFD/g;function Zg(t){return(typeof t=="string"?t:""+t).replace(iS,`
`).replace(sS,"")}function $g(t,n){return n=Zg(n),Zg(t)===n}function po(){}function Pe(t,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||As(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&As(t,""+l);break;case"className":vl(t,"class",l);break;case"tabIndex":vl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vl(t,r,l);break;case"style":em(t,l,f);break;case"data":if(n!=="object"){vl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Pe(t,n,"name",u.name,u,null),Pe(t,n,"formEncType",u.formEncType,u,null),Pe(t,n,"formMethod",u.formMethod,u,null),Pe(t,n,"formTarget",u.formTarget,u,null)):(Pe(t,n,"encType",u.encType,u,null),Pe(t,n,"method",u.method,u,null),Pe(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=po);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Sl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),yl(t,"popover",l);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=kb.get(r)||r,yl(t,r,l))}}function wf(t,n,r,l,u,f){switch(r){case"style":em(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?As(t,l):(typeof l=="number"||typeof l=="bigint")&&As(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[Lt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,u);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):yl(t,r,l)}}}function Rt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Pe(t,n,f,g,r,null)}}u&&Pe(t,n,"srcSet",r.srcSet,r,null),l&&Pe(t,n,"src",r.src,r,null);return;case"input":Re("invalid",t);var _=f=g=u=null,E=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var B=r[l];if(B!=null)switch(l){case"name":u=B;break;case"type":g=B;break;case"checked":E=B;break;case"defaultChecked":O=B;break;case"value":f=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Pe(t,n,l,B,r,null)}}Wh(t,f,_,E,O,g,u,!1),bl(t);return;case"select":Re("invalid",t),l=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(_=r[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Pe(t,n,u,_,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Ns(t,!!l,n,!1):r!=null&&Ns(t,!!l,r,!0);return;case"textarea":Re("invalid",t),f=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Pe(t,n,g,_,r,null)}$h(t,l,u,f),bl(t);return;case"option":for(E in r)if(r.hasOwnProperty(E)&&(l=r[E],l!=null))switch(E){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Pe(t,n,E,l,r,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<va.length;l++)Re(va[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Pe(t,n,O,l,r,null)}return;default:if(Bu(n)){for(B in r)r.hasOwnProperty(B)&&(l=r[B],l!==void 0&&wf(t,n,B,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Pe(t,n,_,l,r,null))}function rS(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,_=null,E=null,O=null,B=null;for(L in r){var V=r[L];if(r.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=V;default:l.hasOwnProperty(L)||Pe(t,n,L,null,l,V)}}for(var M in l){var L=l[M];if(V=r[M],l.hasOwnProperty(M)&&(L!=null||V!=null))switch(M){case"type":f=L;break;case"name":u=L;break;case"checked":O=L;break;case"defaultChecked":B=L;break;case"value":g=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==V&&Pe(t,n,M,L,l,V)}}zu(t,g,_,E,O,B,f,u);return;case"select":L=g=_=M=null;for(f in r)if(E=r[f],r.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":L=E;default:l.hasOwnProperty(f)||Pe(t,n,f,null,l,E)}for(u in l)if(f=l[u],E=r[u],l.hasOwnProperty(u)&&(f!=null||E!=null))switch(u){case"value":M=f;break;case"defaultValue":_=f;break;case"multiple":g=f;default:f!==E&&Pe(t,n,u,f,l,E)}n=_,r=g,l=L,M!=null?Ns(t,!!r,M,!1):!!l!=!!r&&(n!=null?Ns(t,!!r,n,!0):Ns(t,!!r,r?[]:"",!1));return;case"textarea":L=M=null;for(_ in r)if(u=r[_],r.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Pe(t,n,_,null,l,u)}for(g in l)if(u=l[g],f=r[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":M=u;break;case"defaultValue":L=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Pe(t,n,g,u,l,f)}Zh(t,M,L);return;case"option":for(var de in r)if(M=r[de],r.hasOwnProperty(de)&&M!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Pe(t,n,de,null,l,M)}for(E in l)if(M=l[E],L=r[E],l.hasOwnProperty(E)&&M!==L&&(M!=null||L!=null))switch(E){case"selected":t.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Pe(t,n,E,M,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in r)M=r[ce],r.hasOwnProperty(ce)&&M!=null&&!l.hasOwnProperty(ce)&&Pe(t,n,ce,null,l,M);for(O in l)if(M=l[O],L=r[O],l.hasOwnProperty(O)&&M!==L&&(M!=null||L!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,n));break;default:Pe(t,n,O,M,l,L)}return;default:if(Bu(n)){for(var qe in r)M=r[qe],r.hasOwnProperty(qe)&&M!==void 0&&!l.hasOwnProperty(qe)&&wf(t,n,qe,void 0,l,M);for(B in l)M=l[B],L=r[B],!l.hasOwnProperty(B)||M===L||M===void 0&&L===void 0||wf(t,n,B,M,l,L);return}}for(var R in r)M=r[R],r.hasOwnProperty(R)&&M!=null&&!l.hasOwnProperty(R)&&Pe(t,n,R,null,l,M);for(V in l)M=l[V],L=r[V],!l.hasOwnProperty(V)||M===L||M==null&&L==null||Pe(t,n,V,M,l,L)}var xf=null,Rf=null;function go(t){return t.nodeType===9?t:t.ownerDocument}function Jg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function aS(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(t){return n_.resolve(null).then(t).catch(uS)}:t_;function uS(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function i_(t,n){var r=n,l=0,u=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var g=t.ownerDocument;if(r&1&&Ea(g.documentElement),r&2&&Ea(g.body),r&4)for(r=g.head,Ea(r),g=r.firstChild;g;){var _=g.nextSibling,E=g.nodeName;g[Ur]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=_}}if(u===0){t.removeChild(f),Aa(n);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Aa(n)}function Of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Of(r),ku(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function cS(t,n,r,l){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=pn(t.nextSibling),t===null)break}return null}function fS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=pn(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function dS(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var If=null;function s_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function r_(t,n,r){switch(n=go(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ea(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ku(t)}var cn=new Map,a_=new Set;function _o(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fn=H.d;H.d={f:hS,r:mS,D:pS,C:gS,L:_S,m:yS,X:bS,S:vS,M:ES};function hS(){var t=Fn.f(),n=lo();return t||n}function mS(t){var n=Cs(t);n!==null&&n.tag===5&&n.type==="form"?xp(n):Fn.r(t)}var sr=typeof document>"u"?null:document;function l_(t,n,r){var l=sr;if(l&&typeof n=="string"&&n){var u=nn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),a_.has(u)||(a_.add(u),t={rel:t,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),Rt(n,"link",t),_t(n),l.head.appendChild(n)))}}function pS(t){Fn.D(t),l_("dns-prefetch",t,null)}function gS(t,n){Fn.C(t,n),l_("preconnect",t,n)}function _S(t,n,r){Fn.L(t,n,r);var l=sr;if(l&&t&&n){var u='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+nn(r.imageSizes)+'"]')):u+='[href="'+nn(t)+'"]';var f=u;switch(n){case"style":f=rr(t);break;case"script":f=ar(t)}cn.has(f)||(t=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),cn.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(Sa(f))||n==="script"&&l.querySelector(Ta(f))||(n=l.createElement("link"),Rt(n,"link",t),_t(n),l.head.appendChild(n)))}}function yS(t,n){Fn.m(t,n);var r=sr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ar(t)}if(!cn.has(f)&&(t=y({rel:"modulepreload",href:t},n),cn.set(f,t),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ta(f)))return}l=r.createElement("link"),Rt(l,"link",t),_t(l),r.head.appendChild(l)}}}function vS(t,n,r){Fn.S(t,n,r);var l=sr;if(l&&t){var u=ws(l).hoistableStyles,f=rr(t);n=n||"default";var g=u.get(f);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(Sa(f)))_.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},r),(r=cn.get(f))&&Mf(t,r);var E=g=l.createElement("link");_t(E),Rt(E,"link",t),E._p=new Promise(function(O,B){E.onload=O,E.onerror=B}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,yo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(f,g)}}}function bS(t,n){Fn.X(t,n);var r=sr;if(r&&t){var l=ws(r).hoistableScripts,u=ar(t),f=l.get(u);f||(f=r.querySelector(Ta(u)),f||(t=y({src:t,async:!0},n),(n=cn.get(u))&&kf(t,n),f=r.createElement("script"),_t(f),Rt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function ES(t,n){Fn.M(t,n);var r=sr;if(r&&t){var l=ws(r).hoistableScripts,u=ar(t),f=l.get(u);f||(f=r.querySelector(Ta(u)),f||(t=y({src:t,async:!0,type:"module"},n),(n=cn.get(u))&&kf(t,n),f=r.createElement("script"),_t(f),Rt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function o_(t,n,r,l){var u=(u=ie.current)?_o(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=rr(r.href),r=ws(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=rr(r.href);var f=ws(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(Sa(t)))&&!f._p&&(g.instance=f,g.state.loading=5),cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},cn.set(t,r),f||SS(u,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ar(r),r=ws(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function rr(t){return'href="'+nn(t)+'"'}function Sa(t){return'link[rel="stylesheet"]['+t+"]"}function u_(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function SS(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Rt(n,"link",r),_t(n),t.head.appendChild(n))}function ar(t){return'[src="'+nn(t)+'"]'}function Ta(t){return"script[async]"+t}function c_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(r.href)+'"]');if(l)return n.instance=l,_t(l),l;var u=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),Rt(l,"style",u),yo(l,r.precedence,t),n.instance=l;case"stylesheet":u=rr(r.href);var f=t.querySelector(Sa(u));if(f)return n.state.loading|=4,n.instance=f,_t(f),f;l=u_(r),(u=cn.get(u))&&Mf(l,u),f=(t.ownerDocument||t).createElement("link"),_t(f);var g=f;return g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),Rt(f,"link",l),n.state.loading|=4,yo(f,r.precedence,t),n.instance=f;case"script":return f=ar(r.src),(u=t.querySelector(Ta(f)))?(n.instance=u,_t(u),u):(l=r,(u=cn.get(f))&&(l=y({},r),kf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),_t(u),Rt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yo(l,r.precedence,t));return n.instance}function yo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vo=null;function f_(t,n,r){if(vo===null){var l=new Map,u=vo=new Map;u.set(r,l)}else u=vo,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[Ur]||f[At]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(f):l.set(g,[f])}}return l}function d_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function TS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ca=null;function CS(){}function wS(t,n,r){if(Ca===null)throw Error(a(475));var l=Ca;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=rr(r.href),f=t.querySelector(Sa(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,_t(f);return}f=t.ownerDocument||t,r=u_(r),(u=cn.get(u))&&Mf(r,u),f=f.createElement("link"),_t(f);var g=f;g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),Rt(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=bo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function xS(){if(Ca===null)throw Error(a(475));var t=Ca;return t.stylesheets&&t.count===0&&Lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function bo(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Eo=null;function Lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Eo=new Map,n.forEach(RS,t),Eo=null,bo.call(t))}function RS(t,n){if(!(n.state.loading&4)){var r=Eo.get(t);if(r)var l=r.get(null);else{r=new Map,Eo.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,u),r.set(g,u),this.count++,l=bo.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var wa={$$typeof:se,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function NS(t,n,r,l,u,f,g,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ou(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.hiddenUpdates=Ou(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function m_(t,n,r,l,u,f,g,_,E,O,B,V){return t=new NS(t,n,r,g,_,E,O,V),n=1,f===!0&&(n|=24),f=Ft(3,null,null,n),t.current=f,f.stateNode=t,n=pc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},vc(f),t}function p_(t){return t?(t=js,t):js}function g_(t,n,r,l,u,f){u=p_(u),l.context===null?l.context=u:l.pendingContext=u,l=fi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=di(t,l,n),r!==null&&(Zt(r,t,n),ta(r,t,n))}function __(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Uf(t,n){__(t,n),(t=t.alternate)&&__(t,n)}function y_(t){if(t.tag===13){var n=Us(t,67108864);n!==null&&Zt(n,t,67108864),Uf(t,67108864)}}var So=!0;function AS(t,n,r,l){var u=N.T;N.T=null;var f=H.p;try{H.p=2,jf(t,n,r,l)}finally{H.p=f,N.T=u}}function OS(t,n,r,l){var u=N.T;N.T=null;var f=H.p;try{H.p=8,jf(t,n,r,l)}finally{H.p=f,N.T=u}}function jf(t,n,r,l){if(So){var u=zf(l);if(u===null)Cf(t,n,l,To,r),b_(t,l);else if(IS(u,t,n,r,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<DS.indexOf(t)){for(;u!==null;){var f=Cs(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Yi(f.pendingLanes);if(g!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var E=1<<31-Ct(g);_.entanglements[1]|=E,g&=~E}An(f),(Le&6)===0&&(ro=Ge()+500,ya(0))}}break;case 13:_=Us(f,2),_!==null&&Zt(_,f,2),lo(),Uf(f,2)}if(f=zf(l),f===null&&Cf(t,n,l,To,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else Cf(t,n,l,null,r)}}function zf(t){return t=qu(t),Hf(t)}var To=null;function Hf(t){if(To=null,t=Ts(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return To=t,null}function v_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case Ye:return 2;case st:return 8;case dn:case $t:return 32;case ri:return 268435456;default:return 32}default:return 32}}var Bf=!1,wi=null,xi=null,Ri=null,xa=new Map,Ra=new Map,Ni=[],DS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":xa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(n.pointerId)}}function Na(t,n,r,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Cs(n),n!==null&&y_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function IS(t,n,r,l,u){switch(n){case"focusin":return wi=Na(wi,t,n,r,l,u),!0;case"dragenter":return xi=Na(xi,t,n,r,l,u),!0;case"mouseover":return Ri=Na(Ri,t,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return xa.set(f,Na(xa.get(f)||null,t,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Ra.set(f,Na(Ra.get(f)||null,t,n,r,l,u)),!0}return!1}function E_(t){var n=Ts(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,wb(t.priority,function(){if(r.tag===13){var l=Wt();l=Du(l);var u=Us(r,l);u!==null&&Zt(u,r,l),Uf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pu=l,r.target.dispatchEvent(l),Pu=null}else return n=Cs(r),n!==null&&y_(n),t.blockedOn=r,!1;n.shift()}return!0}function S_(t,n,r){Co(t)&&r.delete(n)}function MS(){Bf=!1,wi!==null&&Co(wi)&&(wi=null),xi!==null&&Co(xi)&&(xi=null),Ri!==null&&Co(Ri)&&(Ri=null),xa.forEach(S_),Ra.forEach(S_)}function wo(t,n){t.blockedOn===n&&(t.blockedOn=null,Bf||(Bf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,MS)))}var xo=null;function T_(t){xo!==t&&(xo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xo===t&&(xo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(Hf(l||r)===null)continue;break}var f=Cs(r);f!==null&&(t.splice(n,3),n-=3,zc(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function Aa(t){function n(E){return wo(E,t)}wi!==null&&wo(wi,t),xi!==null&&wo(xi,t),Ri!==null&&wo(Ri,t),xa.forEach(n),Ra.forEach(n);for(var r=0;r<Ni.length;r++){var l=Ni[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ni.length&&(r=Ni[0],r.blockedOn===null);)E_(r),r.blockedOn===null&&Ni.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],g=u[Lt]||null;if(typeof f=="function")g||T_(r);else if(g){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[Lt]||null)_=g.formAction;else if(Hf(u)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),T_(r)}}}function Pf(t){this._internalRoot=t}Ro.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Wt();g_(r,l,t,n,null,null)},Ro.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;g_(t.current,2,null,t,null,null),lo(),n[Ss]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bh();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ni.length&&n!==0&&n<Ni[r].priority;r++);Ni.splice(r,0,t),r===0&&E_(t)}};var C_=e.version;if(C_!=="19.1.1")throw Error(a(527,C_,"19.1.1"));H.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var kS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Je=No.inject(kS),He=No}catch{}}return Da.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",u=Bp,f=Pp,g=qp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=m_(t,1,!1,null,null,r,l,u,f,g,_,null),t[Ss]=n.current,Tf(t),new Pf(n)},Da.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,u="",f=Bp,g=Pp,_=qp,E=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=m_(t,1,!0,n,r??null,l,u,f,g,_,E,O),n.context=p_(null),r=n.current,l=Wt(),l=Du(l),u=fi(l),u.callback=null,di(r,u,l),r=l,n.current.lanes=r,Lr(n,r),An(n),t[Ss]=n.current,Tf(t),new Ro(n)},Da.version="19.1.1",Da}var k_;function YS(){if(k_)return Gf.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gf.exports=GS(),Gf.exports}var FS=YS();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L_="popstate";function KS(s={}){function e(a,o){let{pathname:c,search:d,hash:m}=a.location;return fd("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Ya(o)}return XS(e,i,null,s)}function tt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function bn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QS(){return Math.random().toString(36).substring(2,10)}function U_(s,e){return{usr:s.state,key:s.key,idx:e}}function fd(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Tr(e):e,state:i,key:e&&e.key||a||QS()}}function Ya({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Tr(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function XS(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,m="POP",p=null,h=y();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function y(){return(d.state||{idx:null}).idx}function v(){m="POP";let G=y(),J=G==null?null:G-h;h=G,p&&p({action:m,location:Q.location,delta:J})}function C(G,J){m="PUSH";let $=fd(Q.location,G,J);h=y()+1;let se=U_($,h),ye=Q.createHref($);try{d.pushState(se,"",ye)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(ye)}c&&p&&p({action:m,location:Q.location,delta:1})}function k(G,J){m="REPLACE";let $=fd(Q.location,G,J);h=y();let se=U_($,h),ye=Q.createHref($);d.replaceState(se,"",ye),c&&p&&p({action:m,location:Q.location,delta:0})}function z(G){return WS(G)}let Q={get action(){return m},get location(){return s(o,d)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(L_,v),p=G,()=>{o.removeEventListener(L_,v),p=null}},createHref(G){return e(o,G)},createURL:z,encodeLocation(G){let J=z(G);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:C,replace:k,go(G){return d.go(G)}};return Q}function WS(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),tt(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Ya(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function $y(s,e,i="/"){return ZS(s,e,i,!1)}function ZS(s,e,i,a){let o=typeof e=="string"?Tr(e):e,c=Jn(o.pathname||"/",i);if(c==null)return null;let d=Jy(s);$S(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let h=uT(c);m=lT(d[p],h,a)}return m}function Jy(s,e=[],i=[],a="",o=!1){let c=(d,m,p=o,h)=>{let y={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&p)return;tt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=Zn([a,y.relativePath]),C=i.concat(y);d.children&&d.children.length>0&&(tt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Jy(d.children,e,C,v,p)),!(d.path==null&&!d.index)&&e.push({path:v,score:rT(v,d.index),routesMeta:C})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let p of ev(d.path))c(d,m,!0,p)}),e}function ev(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=ev(a.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function $S(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:aT(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var JS=/^:[\w-]+$/,eT=3,tT=2,nT=1,iT=10,sT=-2,j_=s=>s==="*";function rT(s,e){let i=s.split("/"),a=i.length;return i.some(j_)&&(a+=sT),e&&(a+=tT),i.filter(o=>!j_(o)).reduce((o,c)=>o+(JS.test(c)?eT:c===""?nT:iT),a)}function aT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function lT(s,e,i=!1){let{routesMeta:a}=s,o={},c="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],h=m===a.length-1,y=c==="/"?e:e.slice(c.length)||"/",v=qo({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},y),C=p.route;if(!v&&h&&i&&!a[a.length-1].route.index&&(v=qo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),d.push({params:o,pathname:Zn([c,v.pathname]),pathnameBase:hT(Zn([c,v.pathnameBase])),route:C}),v.pathnameBase!=="/"&&(c=Zn([c,v.pathnameBase]))}return d}function qo(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=oT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((h,{paramName:y,isOptional:v},C)=>{if(y==="*"){let z=m[C]||"";d=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const k=m[C];return v&&!k?h[y]=void 0:h[y]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:d,pattern:s}}function oT(s,e=!1,i=!0){bn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function uT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Jn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function cT(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?Tr(s):s;return{pathname:i?i.startsWith("/")?i:fT(i,e):e,search:mT(a),hash:pT(o)}}function fT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Qf(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Ld(s){let e=dT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Ud(s,e,i,a=!1){let o;typeof s=="string"?o=Tr(s):(o={...s},tt(!o.pathname||!o.pathname.includes("?"),Qf("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Qf("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Qf("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let v=e.length-1;if(!a&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),v-=1;o.pathname=C.join("/")}m=v>=0?e[v]:"/"}let p=cT(o,m),h=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(h||y)&&(p.pathname+="/"),p}var Zn=s=>s.join("/").replace(/\/\/+/g,"/"),hT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,pT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function gT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var tv=["POST","PUT","PATCH","DELETE"];new Set(tv);var _T=["GET",...tv];new Set(_T);var Cr=D.createContext(null);Cr.displayName="DataRouter";var du=D.createContext(null);du.displayName="DataRouterState";D.createContext(!1);var nv=D.createContext({isTransitioning:!1});nv.displayName="ViewTransition";var yT=D.createContext(new Map);yT.displayName="Fetchers";var vT=D.createContext(null);vT.displayName="Await";var Sn=D.createContext(null);Sn.displayName="Navigation";var il=D.createContext(null);il.displayName="Location";var Tn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var jd=D.createContext(null);jd.displayName="RouteError";function bT(s,{relative:e}={}){tt(wr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=D.useContext(Sn),{hash:o,pathname:c,search:d}=sl(s,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:Zn([i,c])),a.createHref({pathname:m,search:d,hash:o})}function wr(){return D.useContext(il)!=null}function ii(){return tt(wr(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(il).location}var iv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sv(s){D.useContext(Sn).static||D.useLayoutEffect(s)}function hu(){let{isDataRoute:s}=D.useContext(Tn);return s?kT():ET()}function ET(){tt(wr(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(Cr),{basename:e,navigator:i}=D.useContext(Sn),{matches:a}=D.useContext(Tn),{pathname:o}=ii(),c=JSON.stringify(Ld(a)),d=D.useRef(!1);return sv(()=>{d.current=!0}),D.useCallback((p,h={})=>{if(bn(d.current,iv),!d.current)return;if(typeof p=="number"){i.go(p);return}let y=Ud(p,JSON.parse(c),o,h.relative==="path");s==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Zn([e,y.pathname])),(h.replace?i.replace:i.push)(y,h.state,h)},[e,i,c,o,s])}D.createContext(null);function ST(){let{matches:s}=D.useContext(Tn),e=s[s.length-1];return e?e.params:{}}function sl(s,{relative:e}={}){let{matches:i}=D.useContext(Tn),{pathname:a}=ii(),o=JSON.stringify(Ld(i));return D.useMemo(()=>Ud(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function TT(s,e){return rv(s,e)}function rv(s,e,i,a,o){tt(wr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Sn),{matches:d}=D.useContext(Tn),m=d[d.length-1],p=m?m.params:{},h=m?m.pathname:"/",y=m?m.pathnameBase:"/",v=m&&m.route;{let $=v&&v.path||"";av(h,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let C=ii(),k;if(e){let $=typeof e=="string"?Tr(e):e;tt(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),k=$}else k=C;let z=k.pathname||"/",Q=z;if(y!=="/"){let $=y.replace(/^\//,"").split("/");Q="/"+z.replace(/^\//,"").split("/").slice($.length).join("/")}let G=$y(s,{pathname:Q});bn(v||G!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),bn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=NT(G&&G.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Zn([y,c.encodeLocation?c.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Zn([y,c.encodeLocation?c.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),d,i,a,o);return e&&J?D.createElement(il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},J):J}function CT(){let s=MT(),e=gT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),i?D.createElement("pre",{style:o},i):null,d)}var wT=D.createElement(CT,null),xT=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?D.createElement(Tn.Provider,{value:this.props.routeContext},D.createElement(jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RT({routeContext:s,match:e,children:i}){let a=D.useContext(Cr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Tn.Provider,{value:s},i)}function NT(s,e=[],i=null,a=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,d=i?.errors;if(d!=null){let h=c.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);tt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let m=!1,p=-1;if(i)for(let h=0;h<c.length;h++){let y=c[h];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=h),y.route.id){let{loaderData:v,errors:C}=i,k=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||k){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((h,y,v)=>{let C,k=!1,z=null,Q=null;i&&(C=d&&y.route.id?d[y.route.id]:void 0,z=y.route.errorElement||wT,m&&(p<0&&v===0?(av("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Q=null):p===v&&(k=!0,Q=y.route.hydrateFallbackElement||null)));let G=e.concat(c.slice(0,v+1)),J=()=>{let $;return C?$=z:k?$=Q:y.route.Component?$=D.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=h,D.createElement(RT,{match:y,routeContext:{outlet:h,matches:G,isDataRoute:i!=null},children:$})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?D.createElement(xT,{location:i.location,revalidation:i.revalidation,component:z,error:C,children:J(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:a}):J()},null)}function zd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(s){let e=D.useContext(Cr);return tt(e,zd(s)),e}function OT(s){let e=D.useContext(du);return tt(e,zd(s)),e}function DT(s){let e=D.useContext(Tn);return tt(e,zd(s)),e}function Hd(s){let e=DT(s),i=e.matches[e.matches.length-1];return tt(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function IT(){return Hd("useRouteId")}function MT(){let s=D.useContext(jd),e=OT("useRouteError"),i=Hd("useRouteError");return s!==void 0?s:e.errors?.[i]}function kT(){let{router:s}=AT("useNavigate"),e=Hd("useNavigate"),i=D.useRef(!1);return sv(()=>{i.current=!0}),D.useCallback(async(o,c={})=>{bn(i.current,iv),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var z_={};function av(s,e,i){!e&&!z_[s]&&(z_[s]=!0,bn(!1,i))}D.memo(LT);function LT({routes:s,future:e,state:i,unstable_onError:a}){return rv(s,void 0,i,a,e)}function H_({to:s,replace:e,state:i,relative:a}){tt(wr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Sn);bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(Tn),{pathname:d}=ii(),m=hu(),p=Ud(s,Ld(c),d,a==="path"),h=JSON.stringify(p);return D.useEffect(()=>{m(JSON.parse(h),{replace:e,state:i,relative:a})},[m,h,a,e,i]),null}function Kn(s){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UT({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){tt(!wr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Tr(i));let{pathname:p="/",search:h="",hash:y="",state:v=null,key:C="default"}=i,k=D.useMemo(()=>{let z=Jn(p,d);return z==null?null:{location:{pathname:z,search:h,hash:y,state:v,key:C},navigationType:a}},[d,p,h,y,v,C,a]);return bn(k!=null,`<Router basename="${d}"> is not able to match the URL "${p}${h}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:D.createElement(Sn.Provider,{value:m},D.createElement(il.Provider,{children:e,value:k}))}function jT({children:s,location:e}){return TT(dd(s),e)}function dd(s,e=[]){let i=[];return D.Children.forEach(s,(a,o)=>{if(!D.isValidElement(a))return;let c=[...e,o];if(a.type===D.Fragment){i.push.apply(i,dd(a.props.children,c));return}tt(a.type===Kn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=dd(a.props.children,c)),i.push(d)}),i}var Mo="get",ko="application/x-www-form-urlencoded";function mu(s){return s!=null&&typeof s.tagName=="string"}function zT(s){return mu(s)&&s.tagName.toLowerCase()==="button"}function HT(s){return mu(s)&&s.tagName.toLowerCase()==="form"}function BT(s){return mu(s)&&s.tagName.toLowerCase()==="input"}function PT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function qT(s,e){return s.button===0&&(!e||e==="_self")&&!PT(s)}var Ao=null;function VT(){if(Ao===null)try{new FormData(document.createElement("form"),0),Ao=!1}catch{Ao=!0}return Ao}var GT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xf(s){return s!=null&&!GT.has(s)?(bn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ko}"`),null):s}function YT(s,e){let i,a,o,c,d;if(HT(s)){let m=s.getAttribute("action");a=m?Jn(m,e):null,i=s.getAttribute("method")||Mo,o=Xf(s.getAttribute("enctype"))||ko,c=new FormData(s)}else if(zT(s)||BT(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(a=p?Jn(p,e):null,i=s.getAttribute("formmethod")||m.getAttribute("method")||Mo,o=Xf(s.getAttribute("formenctype"))||Xf(m.getAttribute("enctype"))||ko,c=new FormData(m,s),!VT()){let{name:h,type:y,value:v}=s;if(y==="image"){let C=h?`${h}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else h&&c.append(h,v)}}else{if(mu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Mo,a=null,o=ko,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bd(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function FT(s,e,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&Jn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function KT(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function XT(s,e,i){let a=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await KT(c,i);return d.links?d.links():[]}return[]}));return JT(a.flat(1).filter(QT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B_(s,e,i,a,o,c){let d=(p,h)=>i[h]?p.route.id!==i[h].route.id:!0,m=(p,h)=>i[h].pathname!==p.pathname||i[h].route.path?.endsWith("*")&&i[h].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,h)=>d(p,h)||m(p,h)):c==="data"?e.filter((p,h)=>{let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(d(p,h)||m(p,h))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function WT(s,e,{includeHydrateFallback:i}={}){return ZT(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function ZT(s){return[...new Set(s)]}function $T(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function JT(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let c=JSON.stringify($T(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function lv(){let s=D.useContext(Cr);return Bd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function eC(){let s=D.useContext(du);return Bd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Pd=D.createContext(void 0);Pd.displayName="FrameworkContext";function ov(){let s=D.useContext(Pd);return Bd(s,"You must render this element inside a <HydratedRouter> element"),s}function tC(s,e){let i=D.useContext(Pd),[a,o]=D.useState(!1),[c,d]=D.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:h,onMouseLeave:y,onTouchStart:v}=e,C=D.useRef(null);D.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let Q=J=>{J.forEach($=>{d($.isIntersecting)})},G=new IntersectionObserver(Q,{threshold:.5});return C.current&&G.observe(C.current),()=>{G.disconnect()}}},[s]),D.useEffect(()=>{if(a){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[a]);let k=()=>{o(!0)},z=()=>{o(!1),d(!1)};return i?s!=="intent"?[c,C,{}]:[c,C,{onFocus:Ia(m,k),onBlur:Ia(p,z),onMouseEnter:Ia(h,k),onMouseLeave:Ia(y,z),onTouchStart:Ia(v,k)}]:[!1,C,{}]}function Ia(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function nC({page:s,...e}){let{router:i}=lv(),a=D.useMemo(()=>$y(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?D.createElement(sC,{page:s,matches:a,...e}):null}function iC(s){let{manifest:e,routeModules:i}=ov(),[a,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return XT(s,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,i]),a}function sC({page:s,matches:e,...i}){let a=ii(),{manifest:o,routeModules:c}=ov(),{basename:d}=lv(),{loaderData:m,matches:p}=eC(),h=D.useMemo(()=>B_(s,e,p,o,a,"data"),[s,e,p,o,a]),y=D.useMemo(()=>B_(s,e,p,o,a,"assets"),[s,e,p,o,a]),v=D.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let z=new Set,Q=!1;if(e.forEach(J=>{let $=o.routes[J.route.id];!$||!$.hasLoader||(!h.some(se=>se.route.id===J.route.id)&&J.route.id in m&&c[J.route.id]?.shouldRevalidate||$.hasClientLoader?Q=!0:z.add(J.route.id))}),z.size===0)return[];let G=FT(s,d,"data");return Q&&z.size>0&&G.searchParams.set("_routes",e.filter(J=>z.has(J.route.id)).map(J=>J.route.id).join(",")),[G.pathname+G.search]},[d,m,a,o,h,e,s,c]),C=D.useMemo(()=>WT(y,o),[y,o]),k=iC(y);return D.createElement(D.Fragment,null,v.map(z=>D.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...i})),C.map(z=>D.createElement("link",{key:z,rel:"modulepreload",href:z,...i})),k.map(({key:z,link:Q})=>D.createElement("link",{key:z,nonce:i.nonce,...Q})))}function rC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uv&&(window.__reactRouterVersion="7.8.2")}catch{}function aC({basename:s,children:e,window:i}){let a=D.useRef();a.current==null&&(a.current=KS({window:i,v5Compat:!0}));let o=a.current,[c,d]=D.useState({action:o.action,location:o.location}),m=D.useCallback(p=>{D.startTransition(()=>d(p))},[d]);return D.useLayoutEffect(()=>o.listen(m),[o,m]),D.createElement(UT,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fv=D.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:h,preventScrollReset:y,viewTransition:v,...C},k){let{basename:z}=D.useContext(Sn),Q=typeof h=="string"&&cv.test(h),G,J=!1;if(typeof h=="string"&&Q&&(G=h,uv))try{let T=new URL(window.location.href),U=h.startsWith("//")?new URL(T.protocol+h):new URL(h),Y=Jn(U.pathname,z);U.origin===T.origin&&Y!=null?h=Y+U.search+U.hash:J=!0}catch{bn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=bT(h,{relative:o}),[se,ye,te]=tC(a,C),le=uC(h,{replace:d,state:m,target:p,preventScrollReset:y,relative:o,viewTransition:v});function ee(T){e&&e(T),T.defaultPrevented||le(T)}let w=D.createElement("a",{...C,...te,href:G||$,onClick:J||c?e:ee,ref:rC(k,ye),target:p,"data-discover":!Q&&i==="render"?"true":void 0});return se&&!Q?D.createElement(D.Fragment,null,w,D.createElement(nC,{page:$})):w});fv.displayName="Link";var Bt=D.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...h},y){let v=sl(d,{relative:h.relative}),C=ii(),k=D.useContext(du),{navigator:z,basename:Q}=D.useContext(Sn),G=k!=null&&mC(v)&&m===!0,J=z.encodeLocation?z.encodeLocation(v).pathname:v.pathname,$=C.pathname,se=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||($=$.toLowerCase(),se=se?se.toLowerCase():null,J=J.toLowerCase()),se&&Q&&(se=Jn(se,Q)||se);const ye=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let te=$===J||!o&&$.startsWith(J)&&$.charAt(ye)==="/",le=se!=null&&(se===J||!o&&se.startsWith(J)&&se.charAt(J.length)==="/"),ee={isActive:te,isPending:le,isTransitioning:G},w=te?e:void 0,T;typeof a=="function"?T=a(ee):T=[a,te?"active":null,le?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(ee):c;return D.createElement(fv,{...h,"aria-current":w,className:T,ref:y,style:U,to:d,viewTransition:m},typeof p=="function"?p(ee):p)});Bt.displayName="NavLink";var lC=D.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:c,method:d=Mo,action:m,onSubmit:p,relative:h,preventScrollReset:y,viewTransition:v,...C},k)=>{let z=dC(),Q=hC(m,{relative:h}),G=d.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&cv.test(m),$=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ye=se.nativeEvent.submitter,te=ye?.getAttribute("formmethod")||d;z(ye||se.currentTarget,{fetcherKey:e,method:te,navigate:i,replace:o,state:c,relative:h,preventScrollReset:y,viewTransition:v})};return D.createElement("form",{ref:k,method:G,action:Q,onSubmit:a?p:$,...C,"data-discover":!J&&s==="render"?"true":void 0})});lC.displayName="Form";function oC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(s){let e=D.useContext(Cr);return tt(e,oC(s)),e}function uC(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=hu(),p=ii(),h=sl(s,{relative:c});return D.useCallback(y=>{if(qT(y,e)){y.preventDefault();let v=i!==void 0?i:Ya(p)===Ya(h);m(s,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,h,i,a,e,s,o,c,d])}var cC=0,fC=()=>`__${String(++cC)}__`;function dC(){let{router:s}=dv("useSubmit"),{basename:e}=D.useContext(Sn),i=IT();return D.useCallback(async(a,o={})=>{let{action:c,method:d,encType:m,formData:p,body:h}=YT(a,e);if(o.navigate===!1){let y=o.fetcherKey||fC();await s.fetch(y,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function hC(s,{relative:e}={}){let{basename:i}=D.useContext(Sn),a=D.useContext(Tn);tt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...sl(s||".",{relative:e})},d=ii();if(s==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(y=>y==="")){m.delete("index"),p.filter(v=>v).forEach(v=>m.append("index",v));let y=m.toString();c.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Zn([i,c.pathname])),Ya(c)}function mC(s,{relative:e}={}){let i=D.useContext(nv);tt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=dv("useViewTransitionState"),o=sl(s,{relative:e});if(!i.isTransitioning)return!1;let c=Jn(i.currentLocation.pathname,a)||i.currentLocation.pathname,d=Jn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return qo(o.pathname,d)!=null||qo(o.pathname,c)!=null}var P_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(s,e){if(!s)throw xr(e)},xr=function(s){return new Error("Firebase Database ("+hv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},pC=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],m=s[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,m=d?s[o+1]:0,p=o+2<s.length,h=p?s[o+2]:0,y=c>>2,v=(c&3)<<4|m>>4;let C=(m&15)<<2|h>>6,k=h&63;p||(k=64,d||(C=64)),a.push(i[y],i[v],i[C],i[k])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):pC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const h=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||m==null||h==null||v==null)throw new gC;const C=c<<2|m>>4;if(a.push(C),h!==64){const k=m<<4&240|h>>2;if(a.push(k),v!==64){const z=h<<6&192|v;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class gC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pv=function(s){const e=mv(s);return qd.encodeByteArray(e,!0)},Vo=function(s){return pv(s).replace(/\./g,"")},Go=function(s){try{return qd.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(s){return gv(void 0,s)}function gv(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!yC(i)||(s[i]=gv(s[i],e[i]));return s}function yC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=()=>vC().__FIREBASE_DEFAULTS__,EC=()=>{if(typeof process>"u"||typeof P_>"u")return;const s=P_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},SC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Go(s[1]);return e&&JSON.parse(e)},Vd=()=>{try{return bC()||EC()||SC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},_v=s=>{var e,i;return(i=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},TC=s=>{const e=_v(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},yv=()=>{var s;return(s=Vd())===null||s===void 0?void 0:s.config},vv=s=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Vo(JSON.stringify(i)),Vo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function wC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function bv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xC(){const s=Mt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function RC(){return hv.NODE_ADMIN===!0}function NC(){try{return typeof indexedDB=="object"}catch{return!1}}function AC(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="FirebaseError";class Pi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=OC,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?DC(c,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Pi(o,m,a)}}function DC(s,e){return s.replace(IC,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const IC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(s){return JSON.parse(s)}function Tt(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(s){let e={},i={},a={},o="";try{const c=s.split(".");e=Fa(Go(c[0])||""),i=Fa(Go(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},MC=function(s){const e=Ev(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},kC=function(s){const e=Ev(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function _r(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function hd(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Yo(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function Fo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(q_(c)&&q_(d)){if(!Fo(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function q_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ja(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function za(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)a[v]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)a[v]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let v=16;v<80;v++){const C=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(C<<1|C>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],h,y;for(let v=0;v<80;v++){v<40?v<20?(h=m^c&(d^m),y=1518500249):(h=c^d^m,y=1859775393):v<60?(h=c&d|m&(c|d),y=2400959708):(h=c^d^m,y=3395469782);const C=(o<<5|o>>>27)+h+p+y+a[v]&4294967295;p=m,m=d,d=(c<<30|c>>>2)&4294967295,c=o,o=C}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[d]=e.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}else for(;o<i;)if(c[d]=e[o],++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[a]=this.chain_[o]>>c&255,++a;return e}}function UC(s,e){const i=new jC(s,e);return i.subscribe.bind(i)}class jC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");zC(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Wf),o.error===void 0&&(o.error=Wf),o.complete===void 0&&(o.complete=Wf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zC(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wf(){}function Yd(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,W(a<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(a)-56320;o=65536+(c<<10)+d}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},gu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(s){return s&&s._delegate?s._delegate:s}class ms{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new pu;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qC(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PC(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(s){return s===us?void 0:s}function qC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new BC(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const GC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},YC=Ve.INFO,FC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},KC=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=FC[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fd{constructor(e){this.name=e,this._logLevel=YC,this._logHandler=KC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const QC=(s,e)=>e.some(i=>s instanceof i);let V_,G_;function XC(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WC(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sv=new WeakMap,md=new WeakMap,Tv=new WeakMap,Zf=new WeakMap,Kd=new WeakMap;function ZC(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Li(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Sv.set(i,s)}).catch(()=>{}),Kd.set(e,s),e}function $C(s){if(md.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});md.set(s,e)}let pd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return md.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Tv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Li(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function JC(s){pd=s(pd)}function ew(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($f(this),e,...i);return Tv.set(a,e.sort?e.sort():[e]),Li(a)}:WC().includes(s)?function(...e){return s.apply($f(this),e),Li(Sv.get(this))}:function(...e){return Li(s.apply($f(this),e))}}function tw(s){return typeof s=="function"?ew(s):(s instanceof IDBTransaction&&$C(s),QC(s,XC())?new Proxy(s,pd):s)}function Li(s){if(s instanceof IDBRequest)return ZC(s);if(Zf.has(s))return Zf.get(s);const e=tw(s);return e!==s&&(Zf.set(s,e),Kd.set(e,s)),e}const $f=s=>Kd.get(s);function nw(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),m=Li(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Li(d.result),p.oldVersion,p.newVersion,Li(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",h=>o(h.oldVersion,h.newVersion,h))}).catch(()=>{}),m}const iw=["get","getKey","getAll","getAllKeys","count"],sw=["put","add","delete","clear"],Jf=new Map;function Y_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=sw.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||iw.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let h=p.store;return a&&(h=h.index(m.shift())),(await Promise.all([h[i](...m),o&&p.done]))[0]};return Jf.set(e,c),c}JC(s=>({...s,get:(e,i,a)=>Y_(e,i)||s.get(e,i,a),has:(e,i)=>!!Y_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aw(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function aw(s){const e=s.getComponent();return e?.type==="VERSION"}const gd="@firebase/app",F_="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Fd("@firebase/app"),lw="@firebase/app-compat",ow="@firebase/analytics-compat",uw="@firebase/analytics",cw="@firebase/app-check-compat",fw="@firebase/app-check",dw="@firebase/auth",hw="@firebase/auth-compat",mw="@firebase/database",pw="@firebase/database-compat",gw="@firebase/functions",_w="@firebase/functions-compat",yw="@firebase/installations",vw="@firebase/installations-compat",bw="@firebase/messaging",Ew="@firebase/messaging-compat",Sw="@firebase/performance",Tw="@firebase/performance-compat",Cw="@firebase/remote-config",ww="@firebase/remote-config-compat",xw="@firebase/storage",Rw="@firebase/storage-compat",Nw="@firebase/firestore",Aw="@firebase/firestore-compat",Ow="firebase",Dw="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]",Iw={[gd]:"fire-core",[lw]:"fire-core-compat",[uw]:"fire-analytics",[ow]:"fire-analytics-compat",[fw]:"fire-app-check",[cw]:"fire-app-check-compat",[dw]:"fire-auth",[hw]:"fire-auth-compat",[mw]:"fire-rtdb",[pw]:"fire-rtdb-compat",[gw]:"fire-fn",[_w]:"fire-fn-compat",[yw]:"fire-iid",[vw]:"fire-iid-compat",[bw]:"fire-fcm",[Ew]:"fire-fcm-compat",[Sw]:"fire-perf",[Tw]:"fire-perf-compat",[Cw]:"fire-rc",[ww]:"fire-rc-compat",[xw]:"fire-gcs",[Rw]:"fire-gcs-compat",[Nw]:"fire-fst",[Aw]:"fire-fst-compat","fire-js":"fire-js",[Ow]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,yd=new Map;function Mw(s,e){try{s.container.addComponent(e)}catch(i){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function yr(s){const e=s.name;if(yd.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;yd.set(e,s);for(const i of Ko.values())Mw(i,s);return!0}function Qd(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ui=new rl("app","Firebase",kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=Dw;function Cv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:_d,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(i||(i=yv()),!i)throw Ui.create("no-options");const c=Ko.get(o);if(c){if(Fo(i,c.options)&&Fo(a,c.config))return c;throw Ui.create("duplicate-app",{appName:o})}const d=new VC(o);for(const p of yd.values())d.addComponent(p);const m=new Lw(i,a,d);return Ko.set(o,m),m}function wv(s=_d){const e=Ko.get(s);if(!e&&s===_d&&yv())return Cv();if(!e)throw Ui.create("no-app",{appName:s});return e}function ji(s,e,i){var a;let o=(a=Iw[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(m.join(" "));return}yr(new ms(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firebase-heartbeat-database",jw=1,Ka="firebase-heartbeat-store";let ed=null;function xv(){return ed||(ed=nw(Uw,jw,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(Ka)}}}).catch(s=>{throw Ui.create("idb-open",{originalErrorMessage:s.message})})),ed}async function zw(s){try{return await(await xv()).transaction(Ka).objectStore(Ka).get(Rv(s))}catch(e){if(e instanceof Pi)ps.warn(e.message);else{const i=Ui.create("idb-get",{originalErrorMessage:e?.message});ps.warn(i.message)}}}async function K_(s,e){try{const a=(await xv()).transaction(Ka,"readwrite");await a.objectStore(Ka).put(e,Rv(s)),await a.done}catch(i){if(i instanceof Pi)ps.warn(i.message);else{const a=Ui.create("idb-set",{originalErrorMessage:i?.message});ps.warn(a.message)}}}function Rv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=1024,Bw=720*60*60*1e3;class Pw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Vw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=Bw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Q_(),{heartbeatsToSend:i,unsentEntries:a}=qw(this._heartbeatsCache.heartbeats),o=Vo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Q_(){return new Date().toISOString().substring(0,10)}function qw(s,e=Hw){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Vw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NC()?AC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return K_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return K_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function X_(s){return Vo(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(s){yr(new ms("platform-logger",e=>new rw(e),"PRIVATE")),yr(new ms("heartbeat",e=>new Pw(e),"PRIVATE")),ji(gd,F_,s),ji(gd,F_,"esm2017"),ji("fire-js","")}Gw("");var W_={};const Z_="@firebase/database",$_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nv="";function Yw(s){Nv=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Fa(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Fw(e)}}catch{}return new Kw},fs=Av("localStorage"),Qw=Av("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Fd("@firebase/database"),Xw=(function(){let s=1;return function(){return s++}})(),Ov=function(s){const e=HC(s),i=new LC;i.update(e);const a=i.digest();return qd.encodeByteArray(a)},al=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=al.apply(null,a):typeof a=="object"?e+=Tt(a):e+=a,e+=" "}return e};let Ha=null,J_=!0;const Ww=function(s,e){W(!0,"Can't turn on custom loggers persistently."),cr.logLevel=Ve.VERBOSE,Ha=cr.log.bind(cr)},It=function(...s){if(J_===!0&&(J_=!1,Ha===null&&Qw.get("logging_enabled")===!0&&Ww()),Ha){const e=al.apply(null,s);Ha(e)}},ll=function(s){return function(...e){It(s,...e)}},vd=function(...s){const e="FIREBASE INTERNAL ERROR: "+al(...s);cr.error(e)},ei=function(...s){const e=`FIREBASE FATAL ERROR: ${al(...s)}`;throw cr.error(e),new Error(e)},Vt=function(...s){const e="FIREBASE WARNING: "+al(...s);cr.warn(e)},Zw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Dv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},$w=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},vr="[MIN_NAME]",gs="[MAX_NAME]",Ar=function(s,e){if(s===e)return 0;if(s===vr||e===gs)return-1;if(e===vr||s===gs)return 1;{const i=ey(s),a=ey(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},Jw=function(s,e){return s===e?0:s<e?-1:1},Ma=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Tt(e))},Xd=function(s){if(typeof s!="object"||s===null)return Tt(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=Tt(e[a]),i+=":",i+=Xd(s[e[a]]);return i+="}",i},Iv=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function Gt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const Mv=function(s){W(!Dv(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,c,d,m,p;s===0?(c=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=m+a,d=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(c=0,d=Math.round(s/Math.pow(2,1-a-i))));const h=[];for(p=i;p;p-=1)h.push(d%2?1:0),d=Math.floor(d/2);for(p=e;p;p-=1)h.push(c%2?1:0),c=Math.floor(c/2);h.push(o?1:0),h.reverse();const y=h.join("");let v="";for(p=0;p<64;p+=8){let C=parseInt(y.substr(p,8),2).toString(16);C.length===1&&(C="0"+C),v=v+C}return v.toLowerCase()},ex=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nx(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const ix=new RegExp("^-?(0*)\\d{1,10}$"),sx=-2147483648,rx=2147483647,ey=function(s){if(ix.test(s)){const e=Number(s);if(e>=sx&&e<=rx)return e}return null},Or=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Vt("Exception was thrown by user callback.",i),e},Math.floor(0))}},ax=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ba=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,i){this.appName_=e,this.appCheckProvider=i,this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class Lo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="5",kv="v",Lv="s",Uv="r",jv="f",zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hv="ls",Bv="p",bd="ac",Pv="websocket",qv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i,a,o,c=!1,d="",m=!1,p=!1){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function ux(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Gv(s,e,i){W(typeof e=="string","typeof type must == string"),W(typeof i=="object","typeof params must == object");let a;if(e===Pv)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===qv)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ux(s)&&(i.ns=s.namespace);const o=[];return Gt(i,(c,d)=>{o.push(c+"="+d)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.counters_={}}incrementCounter(e,i=1){si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return _C(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td={},nd={};function Zd(s){const e=s.toString();return td[e]||(td[e]=new cx),td[e]}function fx(s,e){const i=s.toString();return nd[i]||(nd[i]=e()),nd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Or(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="start",hx="close",mx="pLPCommand",px="pRTLPCB",Yv="id",Fv="pw",Kv="ser",gx="cb",_x="seg",yx="ts",vx="d",bx="dframe",Qv=1870,Xv=30,Ex=Qv-Xv,Sx=25e3,Tx=3e4;class or{constructor(e,i,a,o,c,d,m){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ll(e),this.stats_=Zd(i),this.urlFn=p=>(this.appCheckToken&&(p[bd]=this.appCheckToken),Gv(i,qv,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new dx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Tx)),$w(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $d((...c)=>{const[d,m,p,h,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===ty)this.id=m,this.password=p;else if(d===hx)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const a={};a[ty]="t",a[Kv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[gx]=this.scriptTagHolder.uniqueCallbackIdentifier),a[kv]=Wd,this.transportSessionId&&(a[Lv]=this.transportSessionId),this.lastSessionId&&(a[Hv]=this.lastSessionId),this.applicationId&&(a[Bv]=this.applicationId),this.appCheckToken&&(a[bd]=this.appCheckToken),typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(a[Uv]=jv);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){or.forceAllow_=!0}static forceDisallow(){or.forceDisallow_=!0}static isAvailable(){return or.forceAllow_?!0:!or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ex()&&!tx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Tt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=pv(i),o=Iv(a,Ex);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[bx]="t",a[Yv]=e,a[Fv]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Tt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class $d{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Xw(),window[mx+this.uniqueCallbackIdentifier]=e,window[px+this.uniqueCallbackIdentifier]=i,this.myIFrame=$d.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){It("frame writing exception"),m.stack&&It(m.stack),It(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||It("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Yv]=this.myID,e[Fv]=this.myPW,e[Kv]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Xv+a.length<=Qv;){const d=this.pendingSegs.shift();a=a+"&"+_x+o+"="+d.seg+"&"+yx+o+"="+d.ts+"&"+vx+o+"="+d.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(Sx)),c=()=>{clearTimeout(o),a()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{It("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=16384,wx=45e3;let Qo=null;typeof MozWebSocket<"u"?Qo=MozWebSocket:typeof WebSocket<"u"&&(Qo=WebSocket);class gn{constructor(e,i,a,o,c,d,m){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ll(this.connId),this.stats_=Zd(i),this.connURL=gn.connectionURL_(i,d,m,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,c){const d={};return d[kv]=Wd,typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(d[Uv]=jv),i&&(d[Lv]=i),a&&(d[Hv]=a),o&&(d[bd]=o),c&&(d[Bv]=c),Gv(e,Pv,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let a;RC(),this.mySock=new Qo(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){gn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&Qo!==null&&!gn.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Fa(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=Tt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Iv(i,Cx);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wx))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gn.responsesRequiredToBeHealthy=2;gn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[or,gn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=gn&&gn.isAvailable();let a=i&&!gn.previouslyFailed();if(e.webSocketOnly&&(i||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[gn];else{const o=this.transports_=[];for(const c of Qa.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=6e4,Rx=5e3,Nx=10*1024,Ax=100*1024,id="t",ny="d",Ox="s",iy="r",Dx="e",sy="o",ry="a",ay="n",ly="p",Ix="h";class Mx{constructor(e,i,a,o,c,d,m,p,h,y){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=h,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ll("c:"+this.id+":"),this.transportManager_=new Qa(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ba(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ax?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Nx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(id in e){const i=e[id];i===ry?this.upgradeIfSecondaryHealthy_():i===iy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===sy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Ma("t",e),a=Ma("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ly,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ry,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ay,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Ma("t",e),a=Ma("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Ma(id,e);if(ny in e){const a=e[ny];if(i===Ix){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===ay){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Ox?this.onConnectionShutdown_(a):i===iy?this.onReset_(a):i===Dx?vd("Server Error: "+a):i===sy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vd("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Wd!==a&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Ba(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ba(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ly,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(e){W(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Zv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xo}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=32,uy=768;class Ke{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Me(){return new Ke("")}function Ce(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Hi(s){return s.pieces_.length-s.pieceNum_}function Ze(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Ke(s.pieces_,e)}function $v(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function kx(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function Jv(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function e0(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Ke(e,0)}function mt(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Ke)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Ke(i,0)}function Ne(s){return s.pieceNum_>=s.pieces_.length}function Pt(s,e){const i=Ce(s),a=Ce(e);if(i===null)return e;if(i===a)return Pt(Ze(s),Ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function Jd(s,e){if(Hi(s)!==Hi(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function _n(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Hi(s)>Hi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class Lx{constructor(e,i){this.errorPrefix_=i,this.parts_=Jv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=gu(this.parts_[a]);t0(this)}}function Ux(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=gu(e),t0(s)}function jx(s){const e=s.parts_.pop();s.byteLength_-=gu(e),s.parts_.length>0&&(s.byteLength_-=1)}function t0(s){if(s.byteLength_>uy)throw new Error(s.errorPrefix_+"has a key path longer than "+uy+" bytes ("+s.byteLength_+").");if(s.parts_.length>oy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oy+") or object contains a cycle "+cs(s))}function cs(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Zv{constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}static getInstance(){return new eh}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=1e3,zx=300*1e3,cy=30*1e3,Hx=1.3,Bx=3e4,Px="server_kill",fy=3;class $n extends Wv{constructor(e,i,a,o,c,d,m,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=$n.nextPersistentConnectionId_++,this.log_=ll("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ka,this.maxReconnectDelay_=zx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_(Tt(c)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new pu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,a,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(d).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},d="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(d,c,m=>{const p=m.d,h=m.s;$n.warnOnListenWarnings_(p,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",m),h!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(h,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&si(e,"w")){const a=_r(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||kC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=MC(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},d="n";o&&(c.q=a,c.t=o),this.sendRequest(d,c)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,c){this.initConnection_();const d={p:i,d:a};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tt(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):vd("Unrecognized action received from server: "+Tt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Bx&&(this.reconnectDelay_=ka),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Hx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+$n.nextConnectionId_++,c=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,a())},h=function(v){W(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:p,sendRequest:h};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,C]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=C&&C.token,m=new Mx(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,k=>{Vt(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(Px)},c))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&Vt(v),p())}}}interrupt(e){It("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){It("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hd(this.interruptReasons_)&&(this.reconnectDelay_=ka,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(c=>Xd(c)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new Ke(e).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){It("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fy&&(this.reconnectDelay_=cy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){It("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+Nv.replace(/\./g,"-")]=1,Gd()?e["framework.cordova"]=1:bv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xo.getInstance().currentlyOnline();return hd(this.interruptReasons_)&&e}}$n.nextPersistentConnectionId_=0;$n.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new we(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new we(vr,e),o=new we(vr,i);return this.compare(a,o)!==0}minPost(){return we.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo;class n0 extends _u{static get __EMPTY_NODE(){return Oo}static set __EMPTY_NODE(e){Oo=e}compare(e,i){return Ar(e.name,i.name)}isDefinedOn(e){throw xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return we.MIN}maxPost(){return new we(gs,Oo)}makePost(e,i){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new we(e,Oo)}toString(){return".key"}}const fr=new n0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=i?a(e.key,i):1,o&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class St{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??St.RED,this.left=o??qt.EMPTY_NODE,this.right=c??qt.EMPTY_NODE}copy(e,i,a,o,c){return new St(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return qt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}St.RED=!0;St.BLACK=!1;class qx{copy(e,i,a,o,c){return this}insert(e,i,a){return new St(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(e,i=qt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new qt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,St.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Do(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Do(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Do(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Do(this.root_,null,this.comparator_,!0,e)}}qt.EMPTY_NODE=new qx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(s,e){return Ar(s.name,e.name)}function th(s,e){return Ar(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed;function Gx(s){Ed=s}const i0=function(s){return typeof s=="number"?"number:"+Mv(s):"string:"+s},s0=function(s){if(s.isLeafNode()){const e=s.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&si(e,".sv"),"Priority must be a string or number.")}else W(s===Ed||s.isEmpty(),"priority of unexpected type.");W(s===Ed||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;class Et{constructor(e,i=Et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),s0(this.priorityNode_)}static set __childrenNodeConstructor(e){dy=e}static get __childrenNodeConstructor(){return dy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ne(e)?this:Ce(e)===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Ce(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(W(a!==".priority"||Hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,Et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ze(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+i0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=Mv(this.value_):e+=this.value_,this.lazyHash_=Ov(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Et.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=Et.VALUE_TYPE_ORDER.indexOf(i),c=Et.VALUE_TYPE_ORDER.indexOf(a);return W(o>=0,"Unknown leaf type: "+i),W(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0,a0;function Yx(s){r0=s}function Fx(s){a0=s}class Kx extends _u{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?Ar(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return we.MIN}maxPost(){return new we(gs,new Et("[PRIORITY-POST]",a0))}makePost(e,i){const a=r0(e);return new we(i,new Et("[PRIORITY-POST]",a))}toString(){return".priority"}}const lt=new Kx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=Math.log(2);class Xx{constructor(e){const i=c=>parseInt(Math.log(c)/Qx,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wo=function(s,e,i,a){s.sort(e);const o=function(p,h){const y=h-p;let v,C;if(y===0)return null;if(y===1)return v=s[p],C=i?i(v):v,new St(C,v.node,St.BLACK,null,null);{const k=parseInt(y/2,10)+p,z=o(p,k),Q=o(k+1,h);return v=s[k],C=i?i(v):v,new St(C,v.node,St.BLACK,z,Q)}},c=function(p){let h=null,y=null,v=s.length;const C=function(z,Q){const G=v-z,J=v;v-=z;const $=o(G+1,J),se=s[G],ye=i?i(se):se;k(new St(ye,se.node,Q,null,$))},k=function(z){h?(h.left=z,h=z):(y=z,h=z)};for(let z=0;z<p.count;++z){const Q=p.nextBitIsOne(),G=Math.pow(2,p.count-(z+1));Q?C(G,St.BLACK):(C(G,St.BLACK),C(G,St.RED))}return y},d=new Xx(s.length),m=c(d);return new qt(a||e,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;const lr={};class Qn{constructor(e,i){this.indexes_=e,this.indexSet_=i}static get Default(){return W(lr&&lt,"ChildrenNode.ts has not been loaded"),sd=sd||new Qn({".priority":lr},{".priority":lt}),sd}get(e){const i=_r(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof qt?i:null}hasIndex(e){return si(this.indexSet_,e.toString())}addIndex(e,i){W(e!==fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(we.Wrap);let d=c.getNext();for(;d;)o=o||e.isDefinedOn(d.node),a.push(d),d=c.getNext();let m;o?m=Wo(a,e.getCompare()):m=lr;const p=e.toString(),h=Object.assign({},this.indexSet_);h[p]=e;const y=Object.assign({},this.indexes_);return y[p]=m,new Qn(y,h)}addToIndexes(e,i){const a=Yo(this.indexes_,(o,c)=>{const d=_r(this.indexSet_,c);if(W(d,"Missing index implementation for "+c),o===lr)if(d.isDefinedOn(e.node)){const m=[],p=i.getIterator(we.Wrap);let h=p.getNext();for(;h;)h.name!==e.name&&m.push(h),h=p.getNext();return m.push(e),Wo(m,d.getCompare())}else return lr;else{const m=i.get(e.name);let p=o;return m&&(p=p.remove(new we(e.name,m))),p.insert(e,e.node)}});return new Qn(a,this.indexSet_)}removeFromIndexes(e,i){const a=Yo(this.indexes_,o=>{if(o===lr)return o;{const c=i.get(e.name);return c?o.remove(new we(e.name,c)):o}});return new Qn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;class he{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&s0(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return La||(La=new he(new qt(th),null,Qn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||La}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?La:i}}getChild(e){const i=Ce(e);return i===null?this:this.getImmediateChild(i).getChild(Ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(W(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new we(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(a,this.children_));const d=o.isEmpty()?La:this.priorityNode_;return new he(o,d,c)}}updateChild(e,i){const a=Ce(e);if(a===null)return i;{W(Ce(e)!==".priority"||Hi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Ze(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(lt,(d,m)=>{i[d]=m.val(e),a++,c&&he.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*a){const d=[];for(const m in i)d[m]=i[m];return d}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+i0(this.getPriority().val())+":"),this.forEachChild(lt,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":Ov(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new we(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new we(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new we(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,we.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,we.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ol?-1:0}withIndex(e){if(e===fr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===fr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(lt),o=i.getIterator(lt);let c=a.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=a.getNext(),d=o.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===fr?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Wx extends he{constructor(){super(new qt(th),he.EMPTY_NODE,Qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const ol=new Wx;Object.defineProperties(we,{MIN:{value:new we(vr,he.EMPTY_NODE)},MAX:{value:new we(gs,ol)}});n0.__EMPTY_NODE=he.EMPTY_NODE;Et.__childrenNodeConstructor=he;Gx(ol);Fx(ol);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=!0;function Nt(s,e=null){if(s===null)return he.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Et(i,Nt(e))}if(!(s instanceof Array)&&Zx){const i=[];let a=!1;if(Gt(s,(d,m)=>{if(d.substring(0,1)!=="."){const p=Nt(m);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),i.push(new we(d,p)))}}),i.length===0)return he.EMPTY_NODE;const c=Wo(i,Vx,d=>d.name,th);if(a){const d=Wo(i,lt.getCompare());return new he(c,Nt(e),new Qn({".priority":d},{".priority":lt}))}else return new he(c,Nt(e),Qn.Default)}else{let i=he.EMPTY_NODE;return Gt(s,(a,o)=>{if(si(s,a)&&a.substring(0,1)!=="."){const c=Nt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(Nt(e))}}Yx(Nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends _u{constructor(e){super(),this.indexPath_=e,W(!Ne(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?Ar(e.name,i.name):c}makePost(e,i){const a=Nt(e),o=he.EMPTY_NODE.updateChild(this.indexPath_,a);return new we(i,o)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,ol);return new we(gs,e)}toString(){return Jv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends _u{compare(e,i){const a=e.node.compareTo(i.node);return a===0?Ar(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(e,i){const a=Nt(e);return new we(i,a)}toString(){return".value"}}const eR=new Jx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s){return{type:"value",snapshotNode:s}}function br(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Xa(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Wa(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function tR(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.index_=e}updateChild(e,i,a,o,c,d){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(i);return m.getChild(o).equals(a.getChild(o))&&m.isEmpty()===a.isEmpty()||(d!=null&&(a.isEmpty()?e.hasChild(i)?d.trackChildChange(Xa(i,m)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(br(i,a)):d.trackChildChange(Wa(i,a,m))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(lt,(o,c)=>{i.hasChild(o)||a.trackChildChange(Xa(o,c))}),i.isLeafNode()||i.forEachChild(lt,(o,c)=>{if(e.hasChild(o)){const d=e.getImmediateChild(o);d.equals(c)||a.trackChildChange(Wa(o,c,d))}else a.trackChildChange(br(o,c))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.indexedFilter_=new nh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Za.getStartPost_(e),this.endPost_=Za.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,c,d){return this.matches(new we(i,a))||(a=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,c,d)}updateFullNode(e,i,a){i.isLeafNode()&&(i=he.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(he.EMPTY_NODE);const c=this;return i.forEachChild(lt,(d,m)=>{c.matches(new we(d,m))||(o=o.updateImmediateChild(d,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Za(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,c,d){return this.rangedFilter_.matches(new we(i,a))||(a=he.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,c,d):this.fullLimitUpdateChild_(e,i,a,c,d)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=he.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(he.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let d=0;for(;c.hasNext();){const m=c.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:o=o.updateImmediateChild(m.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,c){let d;if(this.reverse_){const v=this.index_.getCompare();d=(C,k)=>v(k,C)}else d=this.index_.getCompare();const m=e;W(m.numChildren()===this.limit_,"");const p=new we(i,a),h=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(m.hasChild(i)){const v=m.getImmediateChild(i);let C=o.getChildAfterChild(this.index_,h,this.reverse_);for(;C!=null&&(C.name===i||m.hasChild(C.name));)C=o.getChildAfterChild(this.index_,C,this.reverse_);const k=C==null?1:d(C,p);if(y&&!a.isEmpty()&&k>=0)return c?.trackChildChange(Wa(i,a,v)),m.updateImmediateChild(i,a);{c?.trackChildChange(Xa(i,v));const Q=m.updateImmediateChild(i,he.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(c?.trackChildChange(br(C.name,C.node)),Q.updateImmediateChild(C.name,C.node)):Q}}else return a.isEmpty()?e:y&&d(h,p)>=0?(c!=null&&(c.trackChildChange(Xa(h.name,h.node)),c.trackChildChange(br(i,a))),m.updateImmediateChild(i,a).updateImmediateChild(h.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vr}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){const e=new ih;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iR(s){return s.loadsAllData()?new nh(s.getIndex()):s.hasLimit()?new nR(s):new Za(s)}function hy(s){const e={};if(s.isDefault())return e;let i;if(s.index_===lt?i="$priority":s.index_===eR?i="$value":s.index_===fr?i="$key":(W(s.index_ instanceof $x,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Tt(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=Tt(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+Tt(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=Tt(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+Tt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function my(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==lt&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Wv{constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=ll("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,i,a,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const d=Zo.getListenId_(e,a),m={};this.listens_[d]=m;const p=hy(e._queryParams);this.restRequest_(c+".json",p,(h,y)=>{let v=y;if(h===404&&(v=null,h=null),h===null&&this.onDataUpdate_(c,v,!1,a),_r(this.listens_,d)===m){let C;h?h===401?C="permission_denied":C="rest_error:"+h:C="ok",o(C,null)}})}unlisten(e,i){const a=Zo.getListenId_(e,i);delete this.listens_[a]}get(e){const i=hy(e._queryParams),a=e._path.toString(),o=new pu;return this.restRequest_(a+".json",i,(c,d)=>{let m=d;c===404&&(m=null,c=null),c===null?(this.onDataUpdate_(a,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rr(i);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(a&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Fa(m.responseText)}catch{Vt("Failed to parse JSON response for "+d+": "+m.responseText)}a(null,p)}else m.status!==401&&m.status!==404&&Vt("Got unsuccessful REST response for "+d+" Status: "+m.status),a(m.status);a=null}},m.open("GET",d,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(){return{value:null,children:new Map}}function o0(s,e,i){if(Ne(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=Ce(e);s.children.has(a)||s.children.set(a,$o());const o=s.children.get(a);e=Ze(e),o0(o,e,i)}}function Sd(s,e,i){s.value!==null?i(e,s.value):rR(s,(a,o)=>{const c=new Ke(e.toString()+"/"+a);Sd(o,c,i)})}function rR(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Gt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=10*1e3,lR=30*1e3,oR=300*1e3;class uR{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new aR(e);const a=py+(lR-py)*Math.random();Ba(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;Gt(e,(o,c)=>{c>0&&si(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),Ba(this.reportStats_.bind(this),Math.floor(Math.random()*2*oR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yn||(yn={}));function u0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=yn.ACK_USER_WRITE,this.source=u0()}operationForChild(e){if(Ne(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ke(e));return new Jo(Me(),i,this.revert)}}else return W(Ce(this.path)===e,"operationForChild called for unrelated child."),new Jo(Ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,i){this.source=e,this.path=i,this.type=yn.LISTEN_COMPLETE}operationForChild(e){return Ne(this.path)?new $a(this.source,Me()):new $a(this.source,Ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=yn.OVERWRITE}operationForChild(e){return Ne(this.path)?new _s(this.source,Me(),this.snap.getImmediateChild(e)):new _s(this.source,Ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=yn.MERGE}operationForChild(e){if(Ne(this.path)){const i=this.children.subtree(new Ke(e));return i.isEmpty()?null:i.value?new _s(this.source,Me(),i.value):new Ja(this.source,Me(),i)}else return W(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ja(this.source,Ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ne(e))return this.isFullyInitialized()&&!this.filtered_;const i=Ce(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fR(s,e,i,a){const o=[],c=[];return e.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(tR(d.childName,d.snapshotNode))}),Ua(s,o,"child_removed",e,a,i),Ua(s,o,"child_added",e,a,i),Ua(s,o,"child_moved",c,a,i),Ua(s,o,"child_changed",e,a,i),Ua(s,o,"value",e,a,i),o}function Ua(s,e,i,a,o,c){const d=a.filter(m=>m.type===i);d.sort((m,p)=>hR(s,m,p)),d.forEach(m=>{const p=dR(s,m,c);o.forEach(h=>{h.respondsTo(m.type)&&e.push(h.createEvent(p,s.query_))})})}function dR(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function hR(s,e,i){if(e.childName==null||i.childName==null)throw xr("Should only compare child_ events.");const a=new we(e.childName,e.snapshotNode),o=new we(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(s,e){return{eventCache:s,serverCache:e}}function Pa(s,e,i,a){return yu(new ys(e,i,a),s.serverCache)}function c0(s,e,i,a){return yu(s.eventCache,new ys(e,i,a))}function Td(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function vs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;const mR=()=>(rd||(rd=new qt(Jw)),rd);class $e{constructor(e,i=mR()){this.value=e,this.children=i}static fromObject(e){let i=new $e(null);return Gt(e,(a,o)=>{i=i.set(new Ke(a),o)}),i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Me(),value:this.value};if(Ne(e))return null;{const a=Ce(e),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Ze(e),i);return c!=null?{path:mt(new Ke(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ne(e))return this;{const i=Ce(e),a=this.children.get(i);return a!==null?a.subtree(Ze(e)):new $e(null)}}set(e,i){if(Ne(e))return new $e(i,this.children);{const a=Ce(e),c=(this.children.get(a)||new $e(null)).set(Ze(e),i),d=this.children.insert(a,c);return new $e(this.value,d)}}remove(e){if(Ne(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const i=Ce(e),a=this.children.get(i);if(a){const o=a.remove(Ze(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new $e(null):new $e(this.value,c)}else return this}}get(e){if(Ne(e))return this.value;{const i=Ce(e),a=this.children.get(i);return a?a.get(Ze(e)):null}}setTree(e,i){if(Ne(e))return i;{const a=Ce(e),c=(this.children.get(a)||new $e(null)).setTree(Ze(e),i);let d;return c.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,c),new $e(this.value,d)}}fold(e){return this.fold_(Me(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_(mt(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,Me(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(Ne(e))return null;{const c=Ce(e),d=this.children.get(c);return d?d.findOnPath_(Ze(e),mt(i,c),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Me(),i)}foreachOnPath_(e,i,a){if(Ne(e))return this;{this.value&&a(i,this.value);const o=Ce(e),c=this.children.get(o);return c?c.foreachOnPath_(Ze(e),mt(i,o),a):new $e(null)}}foreach(e){this.foreach_(Me(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(mt(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.writeTree_=e}static empty(){return new vn(new $e(null))}}function qa(s,e,i){if(Ne(e))return new vn(new $e(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let c=a.value;const d=Pt(o,e);return c=c.updateChild(d,i),new vn(s.writeTree_.set(o,c))}else{const o=new $e(i),c=s.writeTree_.setTree(e,o);return new vn(c)}}}function gy(s,e,i){let a=s;return Gt(i,(o,c)=>{a=qa(a,mt(e,o),c)}),a}function _y(s,e){if(Ne(e))return vn.empty();{const i=s.writeTree_.setTree(e,new $e(null));return new vn(i)}}function Cd(s,e){return Es(s,e)!=null}function Es(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(Pt(i.path,e)):null}function yy(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(lt,(a,o)=>{e.push(new we(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new we(a,o.value))}),e}function zi(s,e){if(Ne(e))return s;{const i=Es(s,e);return i!=null?new vn(new $e(i)):new vn(s.writeTree_.subtree(e))}}function wd(s){return s.writeTree_.isEmpty()}function Er(s,e){return f0(Me(),s.writeTree_,e)}function f0(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(W(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=f0(mt(s,o),c,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(mt(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(s,e){return p0(e,s)}function pR(s,e,i,a,o){W(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=qa(s.visibleWrites,e,i)),s.lastWriteId=a}function gR(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function _R(s,e){const i=s.allWrites.findIndex(m=>m.writeId===e);W(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,c=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const m=s.allWrites[d];m.visible&&(d>=i&&yR(m,a.path)?o=!1:_n(a.path,m.path)&&(c=!0)),d--}if(o){if(c)return vR(s),!0;if(a.snap)s.visibleWrites=_y(s.visibleWrites,a.path);else{const m=a.children;Gt(m,p=>{s.visibleWrites=_y(s.visibleWrites,mt(a.path,p))})}return!0}else return!1}function yR(s,e){if(s.snap)return _n(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&_n(mt(s.path,i),e))return!0;return!1}function vR(s){s.visibleWrites=d0(s.allWrites,bR,Me()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function bR(s){return s.visible}function d0(s,e,i){let a=vn.empty();for(let o=0;o<s.length;++o){const c=s[o];if(e(c)){const d=c.path;let m;if(c.snap)_n(i,d)?(m=Pt(i,d),a=qa(a,m,c.snap)):_n(d,i)&&(m=Pt(d,i),a=qa(a,Me(),c.snap.getChild(m)));else if(c.children){if(_n(i,d))m=Pt(i,d),a=gy(a,m,c.children);else if(_n(d,i))if(m=Pt(d,i),Ne(m))a=gy(a,Me(),c.children);else{const p=_r(c.children,Ce(m));if(p){const h=p.getChild(Ze(m));a=qa(a,Me(),h)}}}else throw xr("WriteRecord should have .snap or .children")}}return a}function h0(s,e,i,a,o){if(!a&&!o){const c=Es(s.visibleWrites,e);if(c!=null)return c;{const d=zi(s.visibleWrites,e);if(wd(d))return i;if(i==null&&!Cd(d,Me()))return null;{const m=i||he.EMPTY_NODE;return Er(d,m)}}}else{const c=zi(s.visibleWrites,e);if(!o&&wd(c))return i;if(!o&&i==null&&!Cd(c,Me()))return null;{const d=function(h){return(h.visible||o)&&(!a||!~a.indexOf(h.writeId))&&(_n(h.path,e)||_n(e,h.path))},m=d0(s.allWrites,d,e),p=i||he.EMPTY_NODE;return Er(m,p)}}}function ER(s,e,i){let a=he.EMPTY_NODE;const o=Es(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(lt,(c,d)=>{a=a.updateImmediateChild(c,d)}),a;if(i){const c=zi(s.visibleWrites,e);return i.forEachChild(lt,(d,m)=>{const p=Er(zi(c,new Ke(d)),m);a=a.updateImmediateChild(d,p)}),yy(c).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}else{const c=zi(s.visibleWrites,e);return yy(c).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}}function SR(s,e,i,a,o){W(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=mt(e,i);if(Cd(s.visibleWrites,c))return null;{const d=zi(s.visibleWrites,c);return wd(d)?o.getChild(i):Er(d,o.getChild(i))}}function TR(s,e,i,a){const o=mt(e,i),c=Es(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const d=zi(s.visibleWrites,o);return Er(d,a.getNode().getImmediateChild(i))}else return null}function CR(s,e){return Es(s.visibleWrites,e)}function wR(s,e,i,a,o,c,d){let m;const p=zi(s.visibleWrites,e),h=Es(p,Me());if(h!=null)m=h;else if(i!=null)m=Er(p,i);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const y=[],v=d.getCompare(),C=c?m.getReverseIteratorFrom(a,d):m.getIteratorFrom(a,d);let k=C.getNext();for(;k&&y.length<o;)v(k,a)!==0&&y.push(k),k=C.getNext();return y}else return[]}function xR(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function eu(s,e,i,a){return h0(s.writeTree,s.treePath,e,i,a)}function lh(s,e){return ER(s.writeTree,s.treePath,e)}function vy(s,e,i,a){return SR(s.writeTree,s.treePath,e,i,a)}function tu(s,e){return CR(s.writeTree,mt(s.treePath,e))}function RR(s,e,i,a,o,c){return wR(s.writeTree,s.treePath,e,i,a,o,c)}function oh(s,e,i){return TR(s.writeTree,s.treePath,e,i)}function m0(s,e){return p0(mt(s.treePath,e),s.writeTree)}function p0(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;W(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),W(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,Wa(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,Xa(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,br(a,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,Wa(a,e.snapshotNode,o.oldSnap));else throw xr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const g0=new AR;class uh{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oh(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vs(this.viewCache_),c=RR(this.writes_,o,i,1,a,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(s){return{filter:s}}function DR(s,e){W(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function IR(s,e,i,a,o){const c=new NR;let d,m;if(i.type===yn.OVERWRITE){const h=i;h.source.fromUser?d=xd(s,e,h.path,h.snap,a,o,c):(W(h.source.fromServer,"Unknown source."),m=h.source.tagged||e.serverCache.isFiltered()&&!Ne(h.path),d=nu(s,e,h.path,h.snap,a,o,m,c))}else if(i.type===yn.MERGE){const h=i;h.source.fromUser?d=kR(s,e,h.path,h.children,a,o,c):(W(h.source.fromServer,"Unknown source."),m=h.source.tagged||e.serverCache.isFiltered(),d=Rd(s,e,h.path,h.children,a,o,m,c))}else if(i.type===yn.ACK_USER_WRITE){const h=i;h.revert?d=jR(s,e,h.path,a,o,c):d=LR(s,e,h.path,h.affectedTree,a,o,c)}else if(i.type===yn.LISTEN_COMPLETE)d=UR(s,e,i.path,a,c);else throw xr("Unknown operation type: "+i.type);const p=c.getChanges();return MR(e,d,p),{viewCache:d,changes:p}}function MR(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=Td(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push(l0(Td(e)))}}function _0(s,e,i,a,o,c){const d=e.eventCache;if(tu(a,i)!=null)return e;{let m,p;if(Ne(i))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=vs(e),y=h instanceof he?h:he.EMPTY_NODE,v=lh(a,y);m=s.filter.updateFullNode(e.eventCache.getNode(),v,c)}else{const h=eu(a,vs(e));m=s.filter.updateFullNode(e.eventCache.getNode(),h,c)}else{const h=Ce(i);if(h===".priority"){W(Hi(i)===1,"Can't have a priority with additional path components");const y=d.getNode();p=e.serverCache.getNode();const v=vy(a,i,y,p);v!=null?m=s.filter.updatePriority(y,v):m=d.getNode()}else{const y=Ze(i);let v;if(d.isCompleteForChild(h)){p=e.serverCache.getNode();const C=vy(a,i,d.getNode(),p);C!=null?v=d.getNode().getImmediateChild(h).updateChild(y,C):v=d.getNode().getImmediateChild(h)}else v=oh(a,h,e.serverCache);v!=null?m=s.filter.updateChild(d.getNode(),h,v,y,o,c):m=d.getNode()}}return Pa(e,m,d.isFullyInitialized()||Ne(i),s.filter.filtersNodes())}}function nu(s,e,i,a,o,c,d,m){const p=e.serverCache;let h;const y=d?s.filter:s.filter.getIndexedFilter();if(Ne(i))h=y.updateFullNode(p.getNode(),a,null);else if(y.filtersNodes()&&!p.isFiltered()){const k=p.getNode().updateChild(i,a);h=y.updateFullNode(p.getNode(),k,null)}else{const k=Ce(i);if(!p.isCompleteForPath(i)&&Hi(i)>1)return e;const z=Ze(i),G=p.getNode().getImmediateChild(k).updateChild(z,a);k===".priority"?h=y.updatePriority(p.getNode(),G):h=y.updateChild(p.getNode(),k,G,z,g0,null)}const v=c0(e,h,p.isFullyInitialized()||Ne(i),y.filtersNodes()),C=new uh(o,v,c);return _0(s,v,i,o,C,m)}function xd(s,e,i,a,o,c,d){const m=e.eventCache;let p,h;const y=new uh(o,e,c);if(Ne(i))h=s.filter.updateFullNode(e.eventCache.getNode(),a,d),p=Pa(e,h,!0,s.filter.filtersNodes());else{const v=Ce(i);if(v===".priority")h=s.filter.updatePriority(e.eventCache.getNode(),a),p=Pa(e,h,m.isFullyInitialized(),m.isFiltered());else{const C=Ze(i),k=m.getNode().getImmediateChild(v);let z;if(Ne(C))z=a;else{const Q=y.getCompleteChild(v);Q!=null?$v(C)===".priority"&&Q.getChild(e0(C)).isEmpty()?z=Q:z=Q.updateChild(C,a):z=he.EMPTY_NODE}if(k.equals(z))p=e;else{const Q=s.filter.updateChild(m.getNode(),v,z,C,y,d);p=Pa(e,Q,m.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function by(s,e){return s.eventCache.isCompleteForChild(e)}function kR(s,e,i,a,o,c,d){let m=e;return a.foreach((p,h)=>{const y=mt(i,p);by(e,Ce(y))&&(m=xd(s,m,y,h,o,c,d))}),a.foreach((p,h)=>{const y=mt(i,p);by(e,Ce(y))||(m=xd(s,m,y,h,o,c,d))}),m}function Ey(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Rd(s,e,i,a,o,c,d,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,h;Ne(i)?h=a:h=new $e(null).setTree(i,a);const y=e.serverCache.getNode();return h.children.inorderTraversal((v,C)=>{if(y.hasChild(v)){const k=e.serverCache.getNode().getImmediateChild(v),z=Ey(s,k,C);p=nu(s,p,new Ke(v),z,o,c,d,m)}}),h.children.inorderTraversal((v,C)=>{const k=!e.serverCache.isCompleteForChild(v)&&C.value===null;if(!y.hasChild(v)&&!k){const z=e.serverCache.getNode().getImmediateChild(v),Q=Ey(s,z,C);p=nu(s,p,new Ke(v),Q,o,c,d,m)}}),p}function LR(s,e,i,a,o,c,d){if(tu(o,i)!=null)return e;const m=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(Ne(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return nu(s,e,i,p.getNode().getChild(i),o,c,m,d);if(Ne(i)){let h=new $e(null);return p.getNode().forEachChild(fr,(y,v)=>{h=h.set(new Ke(y),v)}),Rd(s,e,i,h,o,c,m,d)}else return e}else{let h=new $e(null);return a.foreach((y,v)=>{const C=mt(i,y);p.isCompleteForPath(C)&&(h=h.set(y,p.getNode().getChild(C)))}),Rd(s,e,i,h,o,c,m,d)}}function UR(s,e,i,a,o){const c=e.serverCache,d=c0(e,c.getNode(),c.isFullyInitialized()||Ne(i),c.isFiltered());return _0(s,d,i,a,g0,o)}function jR(s,e,i,a,o,c){let d;if(tu(a,i)!=null)return e;{const m=new uh(a,e,o),p=e.eventCache.getNode();let h;if(Ne(i)||Ce(i)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=eu(a,vs(e));else{const v=e.serverCache.getNode();W(v instanceof he,"serverChildren would be complete if leaf node"),y=lh(a,v)}y=y,h=s.filter.updateFullNode(p,y,c)}else{const y=Ce(i);let v=oh(a,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=p.getImmediateChild(y)),v!=null?h=s.filter.updateChild(p,y,v,Ze(i),m,c):e.eventCache.getNode().hasChild(y)?h=s.filter.updateChild(p,y,he.EMPTY_NODE,Ze(i),m,c):h=p,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=eu(a,vs(e)),d.isLeafNode()&&(h=s.filter.updateFullNode(h,d,c)))}return d=e.serverCache.isFullyInitialized()||tu(a,Me())!=null,Pa(e,h,d,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new nh(a.getIndex()),c=iR(a);this.processor_=OR(c);const d=i.serverCache,m=i.eventCache,p=o.updateFullNode(he.EMPTY_NODE,d.getNode(),null),h=c.updateFullNode(he.EMPTY_NODE,m.getNode(),null),y=new ys(p,d.isFullyInitialized(),o.filtersNodes()),v=new ys(h,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=yu(v,y),this.eventGenerator_=new cR(this.query_)}get query(){return this.query_}}function HR(s){return s.viewCache_.serverCache.getNode()}function BR(s,e){const i=vs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!Ne(e)&&!i.getImmediateChild(Ce(e)).isEmpty())?i.getChild(e):null}function Sy(s){return s.eventRegistrations_.length===0}function PR(s,e){s.eventRegistrations_.push(e)}function Ty(s,e,i){const a=[];if(i){W(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(i,o);d&&a.push(d)})}if(e){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const d=s.eventRegistrations_[c];if(!d.matches(e))o.push(d);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Cy(s,e,i,a){e.type===yn.MERGE&&e.source.queryId!==null&&(W(vs(s.viewCache_),"We should always have a full cache before handling merges"),W(Td(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=IR(s.processor_,o,e,i,a);return DR(s.processor_,c.viewCache),W(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,y0(s,c.changes,c.viewCache.eventCache.getNode(),null)}function qR(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(lt,(c,d)=>{a.push(br(c,d))}),i.isFullyInitialized()&&a.push(l0(i.getNode())),y0(s,a,i.getNode(),e)}function y0(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return fR(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;class VR{constructor(){this.views=new Map}}function GR(s){W(!iu,"__referenceConstructor has already been defined"),iu=s}function YR(){return W(iu,"Reference.ts has not been loaded"),iu}function FR(s){return s.views.size===0}function ch(s,e,i,a){const o=e.source.queryId;if(o!==null){const c=s.views.get(o);return W(c!=null,"SyncTree gave us an op for an invalid query."),Cy(c,e,i,a)}else{let c=[];for(const d of s.views.values())c=c.concat(Cy(d,e,i,a));return c}}function KR(s,e,i,a,o){const c=e._queryIdentifier,d=s.views.get(c);if(!d){let m=eu(i,o?a:null),p=!1;m?p=!0:a instanceof he?(m=lh(i,a),p=!1):(m=he.EMPTY_NODE,p=!1);const h=yu(new ys(m,p,!1),new ys(a,o,!1));return new zR(e,h)}return d}function QR(s,e,i,a,o,c){const d=KR(s,e,a,o,c);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,d),PR(d,i),qR(d,i)}function XR(s,e,i,a){const o=e._queryIdentifier,c=[];let d=[];const m=Bi(s);if(o==="default")for(const[p,h]of s.views.entries())d=d.concat(Ty(h,i,a)),Sy(h)&&(s.views.delete(p),h.query._queryParams.loadsAllData()||c.push(h.query));else{const p=s.views.get(o);p&&(d=d.concat(Ty(p,i,a)),Sy(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||c.push(p.query)))}return m&&!Bi(s)&&c.push(new(YR())(e._repo,e._path)),{removed:c,events:d}}function v0(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function dr(s,e){let i=null;for(const a of s.views.values())i=i||BR(a,e);return i}function b0(s,e){if(e._queryParams.loadsAllData())return vu(s);{const a=e._queryIdentifier;return s.views.get(a)}}function E0(s,e){return b0(s,e)!=null}function Bi(s){return vu(s)!=null}function vu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;function WR(s){W(!su,"__referenceConstructor has already been defined"),su=s}function ZR(){return W(su,"Reference.ts has not been loaded"),su}let $R=1;class wy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=xR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function S0(s,e,i,a,o){return pR(s.pendingWriteTree_,e,i,a,o),o?ul(s,new _s(u0(),e,i)):[]}function ds(s,e,i=!1){const a=gR(s.pendingWriteTree_,e);if(_R(s.pendingWriteTree_,e)){let c=new $e(null);return a.snap!=null?c=c.set(Me(),!0):Gt(a.children,d=>{c=c.set(new Ke(d),!0)}),ul(s,new Jo(a.path,c,i))}else return[]}function bu(s,e,i){return ul(s,new _s(sh(),e,i))}function JR(s,e,i){const a=$e.fromObject(i);return ul(s,new Ja(sh(),e,a))}function eN(s,e){return ul(s,new $a(sh(),e))}function tN(s,e,i){const a=dh(s,i);if(a){const o=hh(a),c=o.path,d=o.queryId,m=Pt(c,e),p=new $a(rh(d),m);return mh(s,c,p)}else return[]}function Nd(s,e,i,a,o=!1){const c=e._path,d=s.syncPointTree_.get(c);let m=[];if(d&&(e._queryIdentifier==="default"||E0(d,e))){const p=XR(d,e,i,a);FR(d)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const h=p.removed;if(m=p.events,!o){const y=h.findIndex(C=>C._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(c,(C,k)=>Bi(k));if(y&&!v){const C=s.syncPointTree_.subtree(c);if(!C.isEmpty()){const k=sN(C);for(let z=0;z<k.length;++z){const Q=k[z],G=Q.query,J=w0(s,Q);s.listenProvider_.startListening(Va(G),ru(s,G),J.hashFn,J.onComplete)}}}!v&&h.length>0&&!a&&(y?s.listenProvider_.stopListening(Va(e),null):h.forEach(C=>{const k=s.queryToTagMap.get(Eu(C));s.listenProvider_.stopListening(Va(C),k)}))}rN(s,h)}return m}function nN(s,e,i,a){const o=dh(s,a);if(o!=null){const c=hh(o),d=c.path,m=c.queryId,p=Pt(d,e),h=new _s(rh(m),p,i);return mh(s,d,h)}else return[]}function iN(s,e,i,a){const o=dh(s,a);if(o){const c=hh(o),d=c.path,m=c.queryId,p=Pt(d,e),h=$e.fromObject(i),y=new Ja(rh(m),p,h);return mh(s,d,y)}else return[]}function xy(s,e,i,a=!1){const o=e._path;let c=null,d=!1;s.syncPointTree_.foreachOnPath(o,(C,k)=>{const z=Pt(C,o);c=c||dr(k,z),d=d||Bi(k)});let m=s.syncPointTree_.get(o);m?(d=d||Bi(m),c=c||dr(m,Me())):(m=new VR,s.syncPointTree_=s.syncPointTree_.set(o,m));let p;c!=null?p=!0:(p=!1,c=he.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((k,z)=>{const Q=dr(z,Me());Q&&(c=c.updateImmediateChild(k,Q))}));const h=E0(m,e);if(!h&&!e._queryParams.loadsAllData()){const C=Eu(e);W(!s.queryToTagMap.has(C),"View does not exist, but we have a tag");const k=aN();s.queryToTagMap.set(C,k),s.tagToQueryMap.set(k,C)}const y=ah(s.pendingWriteTree_,o);let v=QR(m,e,i,y,c,p);if(!h&&!d&&!a){const C=b0(m,e);v=v.concat(lN(s,e,C))}return v}function fh(s,e,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(e,(d,m)=>{const p=Pt(d,e),h=dr(m,p);if(h)return h});return h0(o,e,c,i,!0)}function ul(s,e){return T0(e,s.syncPointTree_,null,ah(s.pendingWriteTree_,Me()))}function T0(s,e,i,a){if(Ne(s.path))return C0(s,e,i,a);{const o=e.get(Me());i==null&&o!=null&&(i=dr(o,Me()));let c=[];const d=Ce(s.path),m=s.operationForChild(d),p=e.children.get(d);if(p&&m){const h=i?i.getImmediateChild(d):null,y=m0(a,d);c=c.concat(T0(m,p,h,y))}return o&&(c=c.concat(ch(o,s,a,i))),c}}function C0(s,e,i,a){const o=e.get(Me());i==null&&o!=null&&(i=dr(o,Me()));let c=[];return e.children.inorderTraversal((d,m)=>{const p=i?i.getImmediateChild(d):null,h=m0(a,d),y=s.operationForChild(d);y&&(c=c.concat(C0(y,m,p,h)))}),o&&(c=c.concat(ch(o,s,a,i))),c}function w0(s,e){const i=e.query,a=ru(s,i);return{hashFn:()=>(HR(e)||he.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?tN(s,i._path,a):eN(s,i._path);{const c=nx(o,i);return Nd(s,i,null,c)}}}}function ru(s,e){const i=Eu(e);return s.queryToTagMap.get(i)}function Eu(s){return s._path.toString()+"$"+s._queryIdentifier}function dh(s,e){return s.tagToQueryMap.get(e)}function hh(s){const e=s.indexOf("$");return W(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Ke(s.substr(0,e))}}function mh(s,e,i){const a=s.syncPointTree_.get(e);W(a,"Missing sync point for query tag that we're tracking");const o=ah(s.pendingWriteTree_,e);return ch(a,i,o,null)}function sN(s){return s.fold((e,i,a)=>{if(i&&Bi(i))return[vu(i)];{let o=[];return i&&(o=v0(i)),Gt(a,(c,d)=>{o=o.concat(d)}),o}})}function Va(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(ZR())(s._repo,s._path):s}function rN(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=Eu(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function aN(){return $R++}function lN(s,e,i){const a=e._path,o=ru(s,e),c=w0(s,i),d=s.listenProvider_.startListening(Va(e),o,c.hashFn,c.onComplete),m=s.syncPointTree_.subtree(a);if(o)W(!Bi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((h,y,v)=>{if(!Ne(h)&&y&&Bi(y))return[vu(y).query];{let C=[];return y&&(C=C.concat(v0(y).map(k=>k.query))),Gt(v,(k,z)=>{C=C.concat(z)}),C}});for(let h=0;h<p.length;++h){const y=p[h];s.listenProvider_.stopListening(Va(y),ru(s,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new ph(i)}node(){return this.node_}}class gh{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=mt(this.path_,e);return new gh(this.syncTree_,i)}node(){return fh(this.syncTree_,this.path_)}}const oN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Ry=function(s,e,i){if(!s||typeof s!="object")return s;if(W(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return uN(s[".sv"],e,i);if(typeof s[".sv"]=="object")return cN(s[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},uN=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:W(!1,"Unexpected server value: "+s)}},cN=function(s,e,i){s.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&W(!1,"Unexpected increment value: "+a);const o=e.node();if(W(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const d=o.getValue();return typeof d!="number"?a:d+a},fN=function(s,e,i,a){return _h(e,new gh(i,s),a)},x0=function(s,e,i){return _h(s,new ph(e),i)};function _h(s,e,i){const a=s.getPriority().val(),o=Ry(a,e.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const d=s,m=Ry(d.getValue(),e,i);return m!==d.getValue()||o!==d.getPriority().val()?new Et(m,Nt(o)):s}else{const d=s;return c=d,o!==d.getPriority().val()&&(c=c.updatePriority(new Et(o))),d.forEachChild(lt,(m,p)=>{const h=_h(p,e.getImmediateChild(m),i);h!==p&&(c=c.updateImmediateChild(m,h))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function vh(s,e){let i=e instanceof Ke?e:new Ke(e),a=s,o=Ce(i);for(;o!==null;){const c=_r(a.node.children,o)||{children:{},childCount:0};a=new yh(o,a,c),i=Ze(i),o=Ce(i)}return a}function Dr(s){return s.node.value}function R0(s,e){s.node.value=e,Ad(s)}function N0(s){return s.node.childCount>0}function dN(s){return Dr(s)===void 0&&!N0(s)}function Su(s,e){Gt(s.node.children,(i,a)=>{e(new yh(i,s,a))})}function A0(s,e,i,a){i&&e(s),Su(s,o=>{A0(o,e,!0)})}function hN(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function cl(s){return new Ke(s.parent===null?s.name:cl(s.parent)+"/"+s.name)}function Ad(s){s.parent!==null&&mN(s.parent,s.name,s)}function mN(s,e,i){const a=dN(i),o=si(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,Ad(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Ad(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/[\[\].#$\/\u0000-\u001F\u007F]/,gN=/[\[\].#$\u0000-\u001F\u007F]/,ad=10*1024*1024,O0=function(s){return typeof s=="string"&&s.length!==0&&!pN.test(s)},D0=function(s){return typeof s=="string"&&s.length!==0&&!gN.test(s)},_N=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),D0(s)},yN=function(s,e,i,a){bh(Yd(s,"value"),e,i)},bh=function(s,e,i){const a=i instanceof Ke?new Lx(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+cs(a));if(typeof e=="function")throw new Error(s+"contains a function "+cs(a)+" with contents = "+e.toString());if(Dv(e))throw new Error(s+"contains "+e.toString()+" "+cs(a));if(typeof e=="string"&&e.length>ad/3&&gu(e)>ad)throw new Error(s+"contains a string greater than "+ad+" utf8 bytes "+cs(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(Gt(e,(d,m)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!O0(d)))throw new Error(s+" contains an invalid key ("+d+") "+cs(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ux(a,d),bh(s,m,a),jx(a)}),o&&c)throw new Error(s+' contains ".value" child '+cs(a)+" in addition to actual children.")}},I0=function(s,e,i,a){if(!D0(i))throw new Error(Yd(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vN=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),I0(s,e,i)},bN=function(s,e){if(Ce(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},EN=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!O0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!_N(i))throw new Error(Yd(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Eh(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],c=o.getPath();i!==null&&!Jd(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function M0(s,e,i){Eh(s,i),k0(s,a=>Jd(a,e))}function ti(s,e,i){Eh(s,i),k0(s,a=>_n(a,e)||_n(e,a))}function k0(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;e(c)?(TN(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function TN(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Ha&&It("event: "+i.toString()),Or(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="repo_interrupt",wN=25;class xN{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new SN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$o(),this.transactionQueueTree_=new yh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RN(s,e,i){if(s.stats_=Zd(s.repoInfo_),s.forceRestClient_||ax())s.server_=new Zo(s.repoInfo_,(a,o,c,d)=>{Ny(s,a,o,c,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ay(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new $n(s.repoInfo_,e,(a,o,c,d)=>{Ny(s,a,o,c,d)},a=>{Ay(s,a)},a=>{AN(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=fx(s.repoInfo_,()=>new uR(s.stats_,s.server_)),s.infoData_=new sR,s.infoSyncTree_=new wy({startListening:(a,o,c,d)=>{let m=[];const p=s.infoData_.getNode(a._path);return p.isEmpty()||(m=bu(s.infoSyncTree_,a._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),Th(s,"connected",!1),s.serverSyncTree_=new wy({startListening:(a,o,c,d)=>(s.server_.listen(a,c,o,(m,p)=>{const h=d(m,p);ti(s.eventQueue_,a._path,h)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function NN(s){const i=s.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Sh(s){return oN({timestamp:NN(s)})}function Ny(s,e,i,a,o){s.dataUpdateCount++;const c=new Ke(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let d=[];if(o)if(a){const p=Yo(i,h=>Nt(h));d=iN(s.serverSyncTree_,c,p,o)}else{const p=Nt(i);d=nN(s.serverSyncTree_,c,p,o)}else if(a){const p=Yo(i,h=>Nt(h));d=JR(s.serverSyncTree_,c,p)}else{const p=Nt(i);d=bu(s.serverSyncTree_,c,p)}let m=c;d.length>0&&(m=Tu(s,c)),ti(s.eventQueue_,m,d)}function Ay(s,e){Th(s,"connected",e),e===!1&&DN(s)}function AN(s,e){Gt(e,(i,a)=>{Th(s,i,a)})}function Th(s,e,i){const a=new Ke("/.info/"+e),o=Nt(i);s.infoData_.updateSnapshot(a,o);const c=bu(s.infoSyncTree_,a,o);ti(s.eventQueue_,a,c)}function L0(s){return s.nextWriteId_++}function ON(s,e,i,a,o){Ch(s,"set",{path:e.toString(),value:i,priority:a});const c=Sh(s),d=Nt(i,a),m=fh(s.serverSyncTree_,e),p=x0(d,m,c),h=L0(s),y=S0(s.serverSyncTree_,e,p,h,!0);Eh(s.eventQueue_,y),s.server_.put(e.toString(),d.val(!0),(C,k)=>{const z=C==="ok";z||Vt("set at "+e+" failed: "+C);const Q=ds(s.serverSyncTree_,h,!z);ti(s.eventQueue_,e,Q),kN(s,o,C,k)});const v=P0(s,e);Tu(s,v),ti(s.eventQueue_,v,[])}function DN(s){Ch(s,"onDisconnectEvents");const e=Sh(s),i=$o();Sd(s.onDisconnect_,Me(),(o,c)=>{const d=fN(o,c,s.serverSyncTree_,e);o0(i,o,d)});let a=[];Sd(i,Me(),(o,c)=>{a=a.concat(bu(s.serverSyncTree_,o,c));const d=P0(s,o);Tu(s,d)}),s.onDisconnect_=$o(),ti(s.eventQueue_,Me(),a)}function IN(s,e,i){let a;Ce(e._path)===".info"?a=xy(s.infoSyncTree_,e,i):a=xy(s.serverSyncTree_,e,i),M0(s.eventQueue_,e._path,a)}function U0(s,e,i){let a;Ce(e._path)===".info"?a=Nd(s.infoSyncTree_,e,i):a=Nd(s.serverSyncTree_,e,i),M0(s.eventQueue_,e._path,a)}function MN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(CN)}function Ch(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),It(i,...e)}function kN(s,e,i,a){e&&Or(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let c=o;a&&(c+=": "+a);const d=new Error(c);d.code=o,e(d)}})}function j0(s,e,i){return fh(s.serverSyncTree_,e,i)||he.EMPTY_NODE}function wh(s,e=s.transactionQueueTree_){if(e||Cu(s,e),Dr(e)){const i=H0(s,e);W(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&LN(s,cl(e),i)}else N0(e)&&Su(e,i=>{wh(s,i)})}function LN(s,e,i){const a=i.map(h=>h.currentWriteId),o=j0(s,e,a);let c=o;const d=o.hash();for(let h=0;h<i.length;h++){const y=i[h];W(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Pt(e,y.path);c=c.updateChild(v,y.currentOutputSnapshotRaw)}const m=c.val(!0),p=e;s.server_.put(p.toString(),m,h=>{Ch(s,"transaction put response",{path:p.toString(),status:h});let y=[];if(h==="ok"){const v=[];for(let C=0;C<i.length;C++)i[C].status=2,y=y.concat(ds(s.serverSyncTree_,i[C].currentWriteId)),i[C].onComplete&&v.push(()=>i[C].onComplete(null,!0,i[C].currentOutputSnapshotResolved)),i[C].unwatcher();Cu(s,vh(s.transactionQueueTree_,e)),wh(s,s.transactionQueueTree_),ti(s.eventQueue_,e,y);for(let C=0;C<v.length;C++)Or(v[C])}else{if(h==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{Vt("transaction at "+p.toString()+" failed: "+h);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=h}Tu(s,e)}},d)}function Tu(s,e){const i=z0(s,e),a=cl(i),o=H0(s,i);return UN(s,o,a),a}function UN(s,e,i){if(e.length===0)return;const a=[];let o=[];const d=e.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const p=e[m],h=Pt(i,p.path);let y=!1,v;if(W(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,v=p.abortReason,o=o.concat(ds(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=wN)y=!0,v="maxretry",o=o.concat(ds(s.serverSyncTree_,p.currentWriteId,!0));else{const C=j0(s,p.path,d);p.currentInputSnapshot=C;const k=e[m].update(C.val());if(k!==void 0){bh("transaction failed: Data returned ",k,p.path);let z=Nt(k);typeof k=="object"&&k!=null&&si(k,".priority")||(z=z.updatePriority(C.getPriority()));const G=p.currentWriteId,J=Sh(s),$=x0(z,C,J);p.currentOutputSnapshotRaw=z,p.currentOutputSnapshotResolved=$,p.currentWriteId=L0(s),d.splice(d.indexOf(G),1),o=o.concat(S0(s.serverSyncTree_,p.path,$,p.currentWriteId,p.applyLocally)),o=o.concat(ds(s.serverSyncTree_,G,!0))}else y=!0,v="nodata",o=o.concat(ds(s.serverSyncTree_,p.currentWriteId,!0))}ti(s.eventQueue_,i,o),o=[],y&&(e[m].status=2,(function(C){setTimeout(C,Math.floor(0))})(e[m].unwatcher),e[m].onComplete&&(v==="nodata"?a.push(()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot)):a.push(()=>e[m].onComplete(new Error(v),!1,null))))}Cu(s,s.transactionQueueTree_);for(let m=0;m<a.length;m++)Or(a[m]);wh(s,s.transactionQueueTree_)}function z0(s,e){let i,a=s.transactionQueueTree_;for(i=Ce(e);i!==null&&Dr(a)===void 0;)a=vh(a,i),e=Ze(e),i=Ce(e);return a}function H0(s,e){const i=[];return B0(s,e,i),i.sort((a,o)=>a.order-o.order),i}function B0(s,e,i){const a=Dr(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Su(e,o=>{B0(s,o,i)})}function Cu(s,e){const i=Dr(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,R0(e,i.length>0?i:void 0)}Su(e,a=>{Cu(s,a)})}function P0(s,e){const i=cl(z0(s,e)),a=vh(s.transactionQueueTree_,e);return hN(a,o=>{ld(s,o)}),ld(s,a),A0(a,o=>{ld(s,o)}),i}function ld(s,e){const i=Dr(e);if(i){const a=[];let o=[],c=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(W(c===d-1,"All SENT items should be at beginning of queue."),c=d,i[d].status=3,i[d].abortReason="set"):(W(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(ds(s.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&a.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?R0(e,void 0):i.length=c+1,ti(s.eventQueue_,cl(e),o);for(let d=0;d<a.length;d++)Or(a[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function zN(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Vt(`Invalid query segment '${i}' in query '${s}'`)}return e}const Oy=function(s,e){const i=HN(s),a=i.namespace;i.domain==="firebase.com"&&ei(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Zw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Vv(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new Ke(i.pathString)}},HN=function(s){let e="",i="",a="",o="",c="",d=!0,m="https",p=443;if(typeof s=="string"){let h=s.indexOf("//");h>=0&&(m=s.substring(0,h-1),s=s.substring(h+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),e=s.substring(0,Math.min(y,v)),y<v&&(o=jN(s.substring(y,v)));const C=zN(s.substring(Math.min(s.length,v)));h=e.indexOf(":"),h>=0?(d=m==="https"||m==="wss",p=parseInt(e.substring(h+1),10)):h=e.length;const k=e.slice(0,h);if(k.toLowerCase()==="localhost")i="localhost";else if(k.split(".").length<=2)i=k;else{const z=e.indexOf(".");a=e.substring(0,z).toLowerCase(),i=e.substring(z+1),c=a}"ns"in C&&(c=C.ns)}return{host:e,port:p,domain:i,subdomain:a,secure:d,scheme:m,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class PN{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return Ne(this._path)?null:$v(this._path)}get ref(){return new qi(this._repo,this._path)}get _queryIdentifier(){const e=my(this._queryParams),i=Xd(e);return i==="{}"?"default":i}get _queryObject(){return my(this._queryParams)}isEqual(e){if(e=fn(e),!(e instanceof xh))return!1;const i=this._repo===e._repo,a=Jd(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+kx(this._path)}}class qi extends xh{constructor(e,i){super(e,i,new ih,!1)}get parent(){const e=e0(this._path);return e===null?null:new qi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class au{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Ke(e),a=Od(this.ref,e);return new au(this._node.getChild(i),a,lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new au(o,Od(this.ref,a),lt)))}hasChild(e){const i=new Ke(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hr(s,e){return s=fn(s),s._checkNotDeleted("ref"),e!==void 0?Od(s._root,e):s._root}function Od(s,e){return s=fn(s),Ce(s._path)===null?vN("child","path",e):I0("child","path",e),new qi(s._repo,mt(s._path,e))}function Dy(s,e){s=fn(s),bN("set",s._path),yN("set",e,s._path);const i=new pu;return ON(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}class wu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new BN("value",this,new au(e.snapshotNode,new qi(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new PN(this,e,i):null}matches(e){return e instanceof wu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function qN(s,e,i,a,o){const c=new q0(i,void 0),d=new wu(c);return IN(s._repo,s,d),()=>U0(s._repo,s,d)}function Uo(s,e,i,a){return qN(s,"value",e)}function VN(s,e,i){let a=null;const o=i?new q0(i):null;a=new wu(o),U0(s._repo,s,a)}GR(qi);WR(qi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="FIREBASE_DATABASE_EMULATOR_HOST",Dd={};let YN=!1;function FN(s,e,i,a){s.repoInfo_=new Vv(`${e}:${i}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0),a&&(s.authTokenProvider_=a)}function KN(s,e,i,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=Oy(c,o),m=d.repoInfo,p;typeof process<"u"&&W_&&(p=W_[GN]),p?(c=`http://${p}?ns=${m.namespace}`,d=Oy(c,o),m=d.repoInfo):d.repoInfo.secure;const h=new ox(s.name,s.options,e);EN("Invalid Firebase Database URL",d),Ne(d.path)||ei("Database URL must point to the root of a Firebase Database (not including a child path).");const y=XN(m,s,h,new lx(s.name,i));return new WN(y,s)}function QN(s,e){const i=Dd[e];(!i||i[s.key]!==s)&&ei(`Database ${e}(${s.repoInfo_}) has already been deleted.`),MN(s),delete i[s.key]}function XN(s,e,i,a){let o=Dd[e.name];o||(o={},Dd[e.name]=o);let c=o[s.toURLString()];return c&&ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new xN(s,YN,i,a),o[s.toURLString()]=c,c}class WN{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qi(this._repo,Me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(QN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ei("Cannot call "+e+" on a deleted database.")}}function ZN(s=wv(),e){const i=Qd(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=TC("database");a&&$N(i,...a)}return i}function $N(s,e,i,a={}){s=fn(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&ei("Cannot call useEmulator() after instance has already been initialized.");const o=s._repoInternal;let c;if(o.repoInfo_.nodeAdmin)a.mockUserToken&&ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Lo(Lo.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:CC(a.mockUserToken,s.app.options.projectId);c=new Lo(d)}FN(o,e,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(s){Yw(Nr),yr(new ms("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return KN(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),ji(Z_,$_,s),ji(Z_,$_,"esm2017")}$n.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};$n.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};JN();var e1="firebase",t1="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(e1,t1,"app");const n1={apiKey:"AIzaSyA2o46rGWraCrvH0dabKTPJYj39OsbNpVU",authDomain:"esp32-attendance-c3544.firebaseapp.com",databaseURL:"https://esp32-attendance-c3544-default-rtdb.firebaseio.com",projectId:"esp32-attendance-c3544",storageBucket:"esp32-attendance-c3544.firebasestorage.app",messagingSenderId:"571290432553",appId:"1:571290432553:web:d34da2a0da1560bc1b9838"},i1=Cv(n1),mr=ZN(i1);var jo={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var s1=jo.exports,Iy;function r1(){return Iy||(Iy=1,(function(s,e){((i,a)=>{s.exports=a()})(s1,function i(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},o,c=!a.document&&!!a.postMessage,d=a.IS_PAPA_WORKER||!1,m={},p=0,h={};function y(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var U=te(T);U.chunkSize=parseInt(U.chunkSize),T.step||T.chunk||(U.chunkSize=null),this._handle=new Q(U),(this._handle.streamer=this)._config=U}).call(this,w),this.parseChunk=function(T,U){var Y=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Y){let re=this._config.newline;re||(F=this._config.quoteChar||'"',re=this._handle.guessLineEndings(T,F)),T=[...T.split(re).slice(Y)].join(re)}this.isFirstChunk&&ee(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(T))!==void 0&&(T=F),this.isFirstChunk=!1,this._halted=!1;var Y=this._partialLine+T,F=(this._partialLine="",this._handle.parse(Y,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=F.meta.cursor,Y=(this._finished||(this._partialLine=Y.substring(T-this._baseIndex),this._baseIndex=T),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),d)a.postMessage({results:F,workerId:h.WORKER_ID,finished:Y});else if(ee(this._config.chunk)&&!U){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!Y||!ee(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Y||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(T){ee(this._config.error)?this._config.error(T):d&&this._config.error&&a.postMessage({workerId:h.WORKER_ID,error:T,finished:!1})}}function v(w){var T;(w=w||{}).chunkSize||(w.chunkSize=h.RemoteChunkSize),y.call(this,w),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),c||(T.onload=le(this._chunkLoaded,this),T.onerror=le(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var U,Y=this._config.downloadRequestHeaders;for(U in Y)T.setRequestHeader(U,Y[U])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+F));try{T.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}c&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(U){U=T.statusText||U,this._sendError(new Error(U))}}function C(w){(w=w||{}).chunkSize||(w.chunkSize=h.LocalChunkSize),y.call(this,w);var T,U,Y=typeof FileReader<"u";this.stream=function(F){this._input=F,U=F.slice||F.webkitSlice||F.mozSlice,Y?((T=new FileReader).onload=le(this._chunkLoaded,this),T.onerror=le(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,re=(this._config.chunkSize&&(re=Math.min(this._start+this._config.chunkSize,this._input.size),F=U.call(F,this._start,re)),T.readAsText(F,this._config.encoding));Y||this._chunkLoaded({target:{result:re}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(T.error)}}function k(w){var T;y.call(this,w=w||{}),this.stream=function(U){return T=U,this._nextChunk()},this._nextChunk=function(){var U,Y;if(!this._finished)return U=this._config.chunkSize,T=U?(Y=T.substring(0,U),T.substring(U)):(Y=T,""),this._finished=!T,this.parseChunk(Y)}}function z(w){y.call(this,w=w||{});var T=[],U=!0,Y=!1;this.pause=function(){y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Y&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):U=!0},this._streamData=le(function(F){try{T.push(typeof F=="string"?F:F.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(re){this._streamError(re)}},this),this._streamError=le(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=le(function(){this._streamCleanUp(),Y=!0,this._streamData("")},this),this._streamCleanUp=le(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Q(w){var T,U,Y,F,re=Math.pow(2,53),ve=-re,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,N=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,K=0,X=0,S=!1,I=!1,q=[],j={data:[],errors:[],meta:{}};function Z(ae){return w.skipEmptyLines==="greedy"?ae.join("").trim()==="":ae.length===1&&ae[0].length===0}function ue(){if(j&&Y&&(Qe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),Y=!1),w.skipEmptyLines&&(j.data=j.data.filter(function(je){return!Z(je)})),ie()){let je=function(it,ze){ee(w.transformHeader)&&(it=w.transformHeader(it,ze)),q.push(it)};var ge=je;if(j)if(Array.isArray(j.data[0])){for(var ae=0;ie()&&ae<j.data.length;ae++)j.data[ae].forEach(je);j.data.splice(0,1)}else j.data.forEach(je)}function be(je,it){for(var ze=w.header?{}:[],ke=0;ke<je.length;ke++){var Ee=ke,Ge=je[ke],Ge=((Oe,Ye)=>(st=>(w.dynamicTypingFunction&&w.dynamicTyping[st]===void 0&&(w.dynamicTyping[st]=w.dynamicTypingFunction(st)),(w.dynamicTyping[st]||w.dynamicTyping)===!0))(Oe)?Ye==="true"||Ye==="TRUE"||Ye!=="false"&&Ye!=="FALSE"&&((st=>{if(pe.test(st)&&(st=parseFloat(st),ve<st&&st<re))return 1})(Ye)?parseFloat(Ye):N.test(Ye)?new Date(Ye):Ye===""?null:Ye):Ye)(Ee=w.header?ke>=q.length?"__parsed_extra":q[ke]:Ee,Ge=w.transform?w.transform(Ge,Ee):Ge);Ee==="__parsed_extra"?(ze[Ee]=ze[Ee]||[],ze[Ee].push(Ge)):ze[Ee]=Ge}return w.header&&(ke>q.length?Qe("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+ke,X+it):ke<q.length&&Qe("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+ke,X+it)),ze}var Xe;j&&(w.header||w.dynamicTyping||w.transform)&&(Xe=1,!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(be),Xe=j.data.length):j.data=be(j.data,0),w.header&&j.meta&&(j.meta.fields=q),X+=Xe)}function ie(){return w.header&&q.length===0}function Qe(ae,be,Xe,ge){ae={type:ae,code:be,message:Xe},ge!==void 0&&(ae.row=ge),j.errors.push(ae)}ee(w.step)&&(F=w.step,w.step=function(ae){j=ae,ie()?ue():(ue(),j.data.length!==0&&(K+=ae.data.length,w.preview&&K>w.preview?U.abort():(j.data=j.data[0],F(j,H))))}),this.parse=function(ae,be,Xe){var ge=w.quoteChar||'"',ge=(w.newline||(w.newline=this.guessLineEndings(ae,ge)),Y=!1,w.delimiter?ee(w.delimiter)&&(w.delimiter=w.delimiter(ae),j.meta.delimiter=w.delimiter):((ge=((je,it,ze,ke,Ee)=>{var Ge,Oe,Ye,st;Ee=Ee||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var dn=0;dn<Ee.length;dn++){for(var $t,ri=Ee[dn],pt=0,Jt=0,Je=0,He=(Ye=void 0,new J({comments:ke,delimiter:ri,newline:it,preview:10}).parse(je)),gt=0;gt<He.data.length;gt++)ze&&Z(He.data[gt])?Je++:($t=He.data[gt].length,Jt+=$t,Ye===void 0?Ye=$t:0<$t&&(pt+=Math.abs($t-Ye),Ye=$t));0<He.data.length&&(Jt/=He.data.length-Je),(Oe===void 0||pt<=Oe)&&(st===void 0||st<Jt)&&1.99<Jt&&(Oe=pt,Ge=ri,st=Jt)}return{successful:!!(w.delimiter=Ge),bestDelimiter:Ge}})(ae,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=ge.bestDelimiter:(Y=!0,w.delimiter=h.DefaultDelimiter),j.meta.delimiter=w.delimiter),te(w));return w.preview&&w.header&&ge.preview++,T=ae,U=new J(ge),j=U.parse(T,be,Xe),ue(),S?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return S},this.pause=function(){S=!0,U.abort(),T=ee(w.chunk)?"":T.substring(U.getCharIndex())},this.resume=function(){H.streamer._halted?(S=!1,H.streamer.parseChunk(T,!0)):setTimeout(H.resume,3)},this.aborted=function(){return I},this.abort=function(){I=!0,U.abort(),j.meta.aborted=!0,ee(w.complete)&&w.complete(j),T=""},this.guessLineEndings=function(je,ge){je=je.substring(0,1048576);var ge=new RegExp(G(ge)+"([^]*?)"+G(ge),"gm"),Xe=(je=je.replace(ge,"")).split("\r"),ge=je.split(`
`),je=1<ge.length&&ge[0].length<Xe[0].length;if(Xe.length===1||je)return`
`;for(var it=0,ze=0;ze<Xe.length;ze++)Xe[ze][0]===`
`&&it++;return it>=Xe.length/2?`\r
`:"\r"}}function G(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function J(w){var T=(w=w||{}).delimiter,U=w.newline,Y=w.comments,F=w.step,re=w.preview,ve=w.fastMode,pe=null,N=!1,H=w.quoteChar==null?'"':w.quoteChar,K=H;if(w.escapeChar!==void 0&&(K=w.escapeChar),(typeof T!="string"||-1<h.BAD_DELIMITERS.indexOf(T))&&(T=","),Y===T)throw new Error("Comment character same as delimiter");Y===!0?Y="#":(typeof Y!="string"||-1<h.BAD_DELIMITERS.indexOf(Y))&&(Y=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var X=0,S=!1;this.parse=function(I,q,j){if(typeof I!="string")throw new Error("Input must be a string");var Z=I.length,ue=T.length,ie=U.length,Qe=Y.length,ae=ee(F),be=[],Xe=[],ge=[],je=X=0;if(!I)return pt();if(ve||ve!==!1&&I.indexOf(H)===-1){for(var it=I.split(U),ze=0;ze<it.length;ze++){if(ge=it[ze],X+=ge.length,ze!==it.length-1)X+=U.length;else if(j)return pt();if(!Y||ge.substring(0,Qe)!==Y){if(ae){if(be=[],st(ge.split(T)),Jt(),S)return pt()}else st(ge.split(T));if(re&&re<=ze)return be=be.slice(0,re),pt(!0)}}return pt()}for(var ke=I.indexOf(T,X),Ee=I.indexOf(U,X),Ge=new RegExp(G(K)+G(H),"g"),Oe=I.indexOf(H,X);;)if(I[X]===H)for(Oe=X,X++;;){if((Oe=I.indexOf(H,Oe+1))===-1)return j||Xe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:X}),$t();if(Oe===Z-1)return $t(I.substring(X,Oe).replace(Ge,H));if(H===K&&I[Oe+1]===K)Oe++;else if(H===K||Oe===0||I[Oe-1]!==K){ke!==-1&&ke<Oe+1&&(ke=I.indexOf(T,Oe+1));var Ye=dn((Ee=Ee!==-1&&Ee<Oe+1?I.indexOf(U,Oe+1):Ee)===-1?ke:Math.min(ke,Ee));if(I.substr(Oe+1+Ye,ue)===T){ge.push(I.substring(X,Oe).replace(Ge,H)),I[X=Oe+1+Ye+ue]!==H&&(Oe=I.indexOf(H,X)),ke=I.indexOf(T,X),Ee=I.indexOf(U,X);break}if(Ye=dn(Ee),I.substring(Oe+1+Ye,Oe+1+Ye+ie)===U){if(ge.push(I.substring(X,Oe).replace(Ge,H)),ri(Oe+1+Ye+ie),ke=I.indexOf(T,X),Oe=I.indexOf(H,X),ae&&(Jt(),S))return pt();if(re&&be.length>=re)return pt(!0);break}Xe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:X}),Oe++}}else if(Y&&ge.length===0&&I.substring(X,X+Qe)===Y){if(Ee===-1)return pt();X=Ee+ie,Ee=I.indexOf(U,X),ke=I.indexOf(T,X)}else if(ke!==-1&&(ke<Ee||Ee===-1))ge.push(I.substring(X,ke)),X=ke+ue,ke=I.indexOf(T,X);else{if(Ee===-1)break;if(ge.push(I.substring(X,Ee)),ri(Ee+ie),ae&&(Jt(),S))return pt();if(re&&be.length>=re)return pt(!0)}return $t();function st(Je){be.push(Je),je=X}function dn(Je){var He=0;return He=Je!==-1&&(Je=I.substring(Oe+1,Je))&&Je.trim()===""?Je.length:He}function $t(Je){return j||(Je===void 0&&(Je=I.substring(X)),ge.push(Je),X=Z,st(ge),ae&&Jt()),pt()}function ri(Je){X=Je,st(ge),ge=[],Ee=I.indexOf(U,X)}function pt(Je){if(w.header&&!q&&be.length&&!N){var He=be[0],gt=Object.create(null),Ct=new Set(He);let gl=!1;for(let ai=0;ai<He.length;ai++){let en=He[ai];if(gt[en=ee(w.transformHeader)?w.transformHeader(en,ai):en]){let Cn,Gi=gt[en];for(;Cn=en+"_"+Gi,Gi++,Ct.has(Cn););Ct.add(Cn),He[ai]=Cn,gt[en]++,gl=!0,(pe=pe===null?{}:pe)[Cn]=en}else gt[en]=1,He[ai]=en;Ct.add(en)}gl&&console.warn("Duplicate headers found and renamed."),N=!0}return{data:be,errors:Xe,meta:{delimiter:T,linebreak:U,aborted:S,truncated:!!Je,cursor:je+(q||0),renamedHeaders:pe}}}function Jt(){F(pt()),be=[],Xe=[]}},this.abort=function(){S=!0},this.getCharIndex=function(){return X}}function $(w){var T=w.data,U=m[T.workerId],Y=!1;if(T.error)U.userError(T.error,T.file);else if(T.results&&T.results.data){var F={abort:function(){Y=!0,se(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ye,resume:ye};if(ee(U.userStep)){for(var re=0;re<T.results.data.length&&(U.userStep({data:T.results.data[re],errors:T.results.errors,meta:T.results.meta},F),!Y);re++);delete T.results}else ee(U.userChunk)&&(U.userChunk(T.results,F,T.file),delete T.results)}T.finished&&!Y&&se(T.workerId,T.results)}function se(w,T){var U=m[w];ee(U.userComplete)&&U.userComplete(T),U.terminate(),delete m[w]}function ye(){throw new Error("Not implemented.")}function te(w){if(typeof w!="object"||w===null)return w;var T,U=Array.isArray(w)?[]:{};for(T in w)U[T]=te(w[T]);return U}function le(w,T){return function(){w.apply(T,arguments)}}function ee(w){return typeof w=="function"}return h.parse=function(w,T){var U=(T=T||{}).dynamicTyping||!1;if(ee(U)&&(T.dynamicTypingFunction=U,U={}),T.dynamicTyping=U,T.transform=!!ee(T.transform)&&T.transform,!T.worker||!h.WORKERS_SUPPORTED)return U=null,h.NODE_STREAM_INPUT,typeof w=="string"?(w=(Y=>Y.charCodeAt(0)!==65279?Y:Y.slice(1))(w),U=new(T.download?v:k)(T)):w.readable===!0&&ee(w.read)&&ee(w.on)?U=new z(T):(a.File&&w instanceof File||w instanceof Object)&&(U=new C(T)),U.stream(w);(U=(()=>{var Y;return!!h.WORKERS_SUPPORTED&&(Y=(()=>{var F=a.URL||a.webkitURL||null,re=i.toString();return h.BLOB_URL||(h.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",re,")();"],{type:"text/javascript"})))})(),(Y=new a.Worker(Y)).onmessage=$,Y.id=p++,m[Y.id]=Y)})()).userStep=T.step,U.userChunk=T.chunk,U.userComplete=T.complete,U.userError=T.error,T.step=ee(T.step),T.chunk=ee(T.chunk),T.complete=ee(T.complete),T.error=ee(T.error),delete T.worker,U.postMessage({input:w,config:T,workerId:U.id})},h.unparse=function(w,T){var U=!1,Y=!0,F=",",re=`\r
`,ve='"',pe=ve+ve,N=!1,H=null,K=!1,X=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||h.BAD_DELIMITERS.filter(function(q){return T.delimiter.indexOf(q)!==-1}).length||(F=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(U=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(N=T.skipEmptyLines),typeof T.newline=="string"&&(re=T.newline),typeof T.quoteChar=="string"&&(ve=T.quoteChar),typeof T.header=="boolean"&&(Y=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");H=T.columns}T.escapeChar!==void 0&&(pe=T.escapeChar+ve),T.escapeFormulae instanceof RegExp?K=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(K=/^[=+\-@\t\r].*$/)}})(),new RegExp(G(ve),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return S(null,w,N);if(typeof w[0]=="object")return S(H||Object.keys(w[0]),w,N)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||H),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),S(w.fields||[],w.data||[],N);throw new Error("Unable to serialize unrecognized input");function S(q,j,Z){var ue="",ie=(typeof q=="string"&&(q=JSON.parse(q)),typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(q)&&0<q.length),Qe=!Array.isArray(j[0]);if(ie&&Y){for(var ae=0;ae<q.length;ae++)0<ae&&(ue+=F),ue+=I(q[ae],ae);0<j.length&&(ue+=re)}for(var be=0;be<j.length;be++){var Xe=(ie?q:j[be]).length,ge=!1,je=ie?Object.keys(j[be]).length===0:j[be].length===0;if(Z&&!ie&&(ge=Z==="greedy"?j[be].join("").trim()==="":j[be].length===1&&j[be][0].length===0),Z==="greedy"&&ie){for(var it=[],ze=0;ze<Xe;ze++){var ke=Qe?q[ze]:ze;it.push(j[be][ke])}ge=it.join("").trim()===""}if(!ge){for(var Ee=0;Ee<Xe;Ee++){0<Ee&&!je&&(ue+=F);var Ge=ie&&Qe?q[Ee]:Ee;ue+=I(j[be][Ge],Ee)}be<j.length-1&&(!Z||0<Xe&&!je)&&(ue+=re)}}return ue}function I(q,j){var Z,ue;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(ue=!1,K&&typeof q=="string"&&K.test(q)&&(q="'"+q,ue=!0),Z=q.toString().replace(X,pe),(ue=ue||U===!0||typeof U=="function"&&U(q,j)||Array.isArray(U)&&U[j]||((ie,Qe)=>{for(var ae=0;ae<Qe.length;ae++)if(-1<ie.indexOf(Qe[ae]))return!0;return!1})(Z,h.BAD_DELIMITERS)||-1<Z.indexOf(F)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?ve+Z+ve:Z)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!c&&!!a.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=J,h.ParserHandle=Q,h.NetworkStreamer=v,h.FileStreamer=C,h.StringStreamer=k,h.ReadableStreamStreamer=z,a.jQuery&&((o=a.jQuery).fn.parse=function(w){var T=w.config||{},U=[];return this.each(function(re){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var ve=0;ve<this.files.length;ve++)U.push({file:this.files[ve],inputElem:this,instanceConfig:o.extend({},T)})}),Y(),this;function Y(){if(U.length===0)ee(w.complete)&&w.complete();else{var re,ve,pe,N,H=U[0];if(ee(w.before)){var K=w.before(H.file,H.inputElem);if(typeof K=="object"){if(K.action==="abort")return re="AbortError",ve=H.file,pe=H.inputElem,N=K.reason,void(ee(w.error)&&w.error({name:re},ve,pe,N));if(K.action==="skip")return void F();typeof K.config=="object"&&(H.instanceConfig=o.extend(H.instanceConfig,K.config))}else if(K==="skip")return void F()}var X=H.instanceConfig.complete;H.instanceConfig.complete=function(S){ee(X)&&X(S,H.file,H.inputElem),F()},h.parse(H.file,H.instanceConfig)}}function F(){U.splice(0,1),Y()}}),d&&(a.onmessage=function(w){w=w.data,h.WORKER_ID===void 0&&w&&(h.WORKER_ID=w.workerId),typeof w.input=="string"?a.postMessage({workerId:h.WORKER_ID,results:h.parse(w.input,w.config),finished:!0}):(a.File&&w.input instanceof File||w.input instanceof Object)&&(w=h.parse(w.input,w.config))&&a.postMessage({workerId:h.WORKER_ID,results:w,finished:!0})}),(v.prototype=Object.create(y.prototype)).constructor=v,(C.prototype=Object.create(y.prototype)).constructor=C,(k.prototype=Object.create(k.prototype)).constructor=k,(z.prototype=Object.create(y.prototype)).constructor=z,h})})(jo)),jo.exports}var a1=r1();const l1=US(a1),Vi=D.createContext(),o1=({children:s})=>{const[e,i]=D.useState([]),[a,o]=D.useState([]),[c,d]=D.useState([]),[m,p]=D.useState(!0),[h,y]=D.useState("OFFLINE"),[v,C]=D.useState(null),k="https://docs.google.com/spreadsheets/d/e/2PACX-1vQw3N9IWLeLtfrevd9rwZzzJHJYw8RD48iHKdmxgsK9MnFnEnRUYF683S9G_m62UXYKOYOmDBHf5M-k/pub?output=csv",z=(te,le=!0)=>{l1.parse(k,{download:!0,header:le,skipEmptyLines:!0,complete:te,error:ee=>console.error("CSV Error:",ee)})},Q=()=>{z(te=>{const le=te.data.map(T=>Object.values(T)),ee=[];for(let T=2;T<le.length;T++){const U=le[T][0]?.trim();for(let Y=1;Y<le[T].length;Y++){const F=le[T][Y]?.trim(),re=le[1][Y]?.trim();F&&F!==""&&F.toLowerCase()!=="break"&&F!=="-"&&!["monday","tuesday","wednesday","thursday","friday"].includes(F.toLowerCase())&&ee.push({name:F.replace(/\n/g," "),day:re,time:U})}}const w=["Monday","Tuesday","Wednesday","Thursday","Friday"];ee.sort((T,U)=>{const Y=w.indexOf(T.day)-w.indexOf(U.day);return Y!==0?Y:parseFloat(T.time.split("-")[0].replace(":","."))-parseFloat(U.time.split("-")[0].replace(":","."))}),o(ee),d(te.data)},!1)},G=()=>{const te=hr(mr,"status");let le=null,ee=Date.now();Uo(te,T=>{const U=T.val();U&&(C(U),(le===null||U!==le)&&(y("ONLINE"),ee=Date.now()),le=U)});const w=setInterval(()=>{ee&&Date.now()-ee>1e4&&y("OFFLINE")},1e3);return()=>clearInterval(w)},J=()=>{const te=hr(mr,"students"),le=hr(mr,"attendance");Uo(te,ee=>{const w=ee.val(),T=w?Object.keys(w).reduce((U,Y)=>(U[w[Y].fingerprintId||w[Y].id]={indexNum:w[Y].indexNum,regNum:w[Y].regNum||"",name:w[Y].name,fingerprintId:w[Y].fingerprintId||w[Y].id,attendance:[],timestamps:[]},U),{}):{};Uo(le,U=>{const Y=U.val();Y&&Object.keys(Y).forEach(F=>{const re=Y[F],ve=T[re.id];ve&&(ve.attendance.push(1),ve.timestamps.push(re.timestamp))}),i(Object.values(T)),p(!1)})})},$=(te,le="",ee="all")=>{const w={};return e.forEach(T=>{!T.fingerprintId||!T.name||!T.timestamps||(w[T.fingerprintId]||(w[T.fingerprintId]={id:T.fingerprintId,name:T.name,indexNum:T.indexNum,timestamps:[]}),w[T.fingerprintId].timestamps.push(...T.timestamps))}),Object.values(w).map(T=>{const U=te.map(re=>{const ve=T.timestamps.map(pe=>new Date(pe)).filter(pe=>pe.getDate()===re.date.getDate()&&pe.getMonth()===re.date.getMonth()&&pe.getFullYear()===re.date.getFullYear());return ve.length>0?`P (${[...new Set(ve.map(N=>N.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})))].join(", ")})`:""}),F=(U.filter(re=>re.startsWith("P")).length/U.length*100).toFixed(2);return{...T,dailyAttendance:U,percentage:F}}).filter(T=>T.name.toLowerCase().includes(le.toLowerCase())||T.indexNum?.toLowerCase().includes(le.toLowerCase())).filter(T=>ee==="above80"?T.percentage>=80:ee==="below80"?T.percentage<80:!0)},se=(te,le,ee)=>{const w=new Date(le),T=new Date(ee),U={};return $(te).forEach(Y=>{const F=te.map((pe,N)=>({date:pe.date,status:Y.dailyAttendance[N]})).filter(pe=>pe.date>=w&&pe.date<=T),re=F.filter(pe=>pe.status.startsWith("P")).length,ve=F.length;U[Y.id]=ve===0?0:(re/ve*100).toFixed(2)}),U};D.useEffect(()=>{Q(),J(),G()},[]);const ye={students:e,modules:a,data:c,loading:m,lastSeen:v,espStatus:h,groupedStudents:$,calculateCustomPercentage:se};return b.jsx(Vi.Provider,{value:ye,children:s})},u1=({token:s,setToken:e})=>{const[i,a]=D.useState(!1),{espStatus:o,lastSeen:c}=D.useContext(Vi),d=()=>{e("")},m=p=>p?new Date(p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return b.jsxs("header",{className:"bg-[#02c986] text-white",children:[b.jsxs("div",{className:"flex justify-between items-center px-4 py-3 mx-auto",children:[b.jsx(Bt,{to:"/home",children:b.jsxs("div",{className:"text-4xl flex items-center cursor-pointer relative",children:["F ",b.jsx("span",{children:"O"}),"C",b.jsx("span",{className:"text-black text-xs ml-[-12px] mt-[2px] align-middle",children:"Attendance"}),s&&b.jsx("span",{className:`w-3.5 h-3.5 border-2 rounded-full ml-2 mt-2 align-middle ${o==="ONLINE"?"bg-[#00ff88] animate-pulse":"bg-[#ff5c5c]"}`}),s&&o==="OFFLINE"&&c&&b.jsxs("span",{className:"text-[10px] text-black ml-1 bg-[#e0f9f0] md:hidden lg:block rounded-full px-1 py-[2px] mt-2",children:["Last Seen: ",m(c)]})]})}),b.jsxs("nav",{className:"hidden md:flex space-x-3 lg:space-x-6 items-center font-medium relative",children:[b.jsx(Bt,{to:"/home",className:({isActive:p})=>p?"font-bold underline":"",children:"Home"}),b.jsx(Bt,{to:"/students",className:({isActive:p})=>p?"font-bold underline":"",children:"Students"}),b.jsx(Bt,{to:"/attendance",className:({isActive:p})=>p?"font-bold underline":"",children:"Attendance"}),b.jsx(Bt,{to:"/modules",className:({isActive:p})=>p?"font-bold underline":"",children:"Modules"}),b.jsx(Bt,{to:"/time-table",className:({isActive:p})=>p?"font-bold underline":"",children:"TimeTable"}),s?b.jsx("button",{onClick:d,className:"w-full px-3 py-1 bg-blue-600 cursor-pointer text-left hover:bg-blue-700 rounded-3xl",children:"Logout"}):b.jsx(Bt,{to:"/login",className:"bg-indigo-500 px-3 py-1 rounded-lg",children:"Login"})]}),b.jsx("div",{className:"md:hidden flex items-center",children:b.jsx("button",{onClick:()=>a(!i),className:"focus:outline-none",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),i&&b.jsxs("div",{className:"md:hidden text-center bg-[#02c986] px-4 pb-4 space-y-2",children:[b.jsx(Bt,{to:"/home",className:"block py-2 text-white",onClick:()=>a(!1),children:"Home"}),b.jsx(Bt,{to:"/students",className:"block py-2 text-white",onClick:()=>a(!1),children:"Students"}),b.jsx(Bt,{to:"/attendance",className:"block py-2 text-white",onClick:()=>a(!1),children:"Attendance"}),b.jsx(Bt,{to:"/modules",className:"block py-2 text-white",onClick:()=>a(!1),children:"Modules"}),b.jsx(Bt,{to:"/time-table",className:"block py-2 text-white",onClick:()=>a(!1),children:"TimeTable"}),s?b.jsx("button",{onClick:d,className:"py-2 text-white bg-blue-600 px-3 rounded-2xl hover:bg-blue-700",children:"Logout"}):b.jsx(Bt,{to:"/login",className:"block py-2 text-white",onClick:()=>a(!1),children:"Login"})]})]})},c1=()=>b.jsx("footer",{className:"text-white text-center py-3 w-full",style:{backgroundColor:"#02c986"},children:b.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," Faculty of Computing. All rights reserved."]})}),f1=()=>{const[s,e]=D.useState(""),[i,a]=D.useState(""),[o,c]=D.useState(""),[d,m]=D.useState(""),[p,h]=D.useState([]),[y,v]=D.useState(!1),[C,k]=D.useState(""),{espStatus:z}=D.useContext(Vi);D.useEffect(()=>{const G=hr(mr,"/messages"),J=Uo(G,$=>{if($.exists()){const se=$.val(),ye=Object.values(se).map(le=>le.msg);if(h(ye),ye.some(le=>["Enroll Success","Image error","Invalid data","Image fail","2nd fail","Model fail","Store fail","Already Enrolled"].some(ee=>le.includes(ee)))){v(!1),ye.some(ee=>ee.includes("Enroll Success"))&&(e(""),a(""),c(""),m(""));const le=ye.find(ee=>["Image error","Invalid data","Image fail","2nd fail","Model fail","Store fail","Already Enrolled"].some(w=>ee.includes(w)));k(le||"")}}else h([])});return()=>VN(G,"value",J)},[]);const Q=async()=>{if(!s||!i||!o||!d){k("Please fill all fields!");return}v(!0),h([]),k("");try{await Dy(hr(mr,"/enrollData"),{name:s,regNum:i,indexNum:o,email:d}),await Dy(hr(mr,"/systemState"),"ENROLL")}catch(G){console.error("Firebase write error:",G),v(!1),k("Failed to start enrollment. Check console for details.")}};return b.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"ESP32 Attendance System"}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[b.jsxs("div",{className:"mb-6 border p-4 rounded w-full md:w-1/2",children:[b.jsx("h2",{className:"font-semibold mb-2",children:"Enroll Student"}),b.jsx("input",{type:"text",placeholder:"Name",value:s,onChange:G=>e(G.target.value),className:"border p-2 mb-2 w-full",disabled:y}),b.jsx("input",{type:"text",placeholder:"RegNum",value:i,onChange:G=>a(G.target.value),className:"border p-2 mb-2 w-full",disabled:y}),b.jsx("input",{type:"text",placeholder:"IndexNum",value:o,onChange:G=>c(G.target.value),className:"border p-2 mb-2 w-full",disabled:y}),b.jsx("input",{type:"email",placeholder:"Email",value:d,onChange:G=>m(G.target.value),className:"border p-2 mb-2 w-full",disabled:y}),b.jsx("div",{className:"text-red-500 text-sm",children:C}),b.jsxs("div",{className:"flex items-center justify-between mt-4",children:[b.jsx("button",{onClick:Q,disabled:y||z!=="ONLINE",className:`px-5 py-2 rounded font-semibold ${y||z!=="ONLINE"?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white"}`,children:y?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-5 h-5 border-4 border-t-4 border-t-green-500 border-gray-200 rounded-full animate-spin"}),"Enrolling..."]}):"Start Enroll"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:`w-3.5 h-3.5 border-2 rounded-full ${z==="ONLINE"?"bg-green-500 animate-pulse":"bg-red-500"}`}),b.jsx("span",{className:"text-sm font-medium",children:z})]})]})]}),b.jsxs("div",{className:"border p-4 rounded w-full md:w-1/2",children:[b.jsx("h2",{className:"font-semibold mb-2",children:"Enrollment Messages"}),b.jsx("div",{className:"h-52 overflow-y-auto border p-2 bg-gray-900",children:p.length===0?b.jsx("div",{className:"text-gray-100",children:"No messages yet..."}):p.map((G,J)=>b.jsx("div",{className:"mb-1 text-gray-100",children:G},J))})]})]})]})},d1="smarfingeriot32@gmail.com",h1=({token:s,adminEmail:e})=>{const{students:i,loading:a}=D.useContext(Vi),[o,c]=D.useState(!1),d=s&&e===d1;return b.jsxs("div",{className:"p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-column justify-between items-center mt-4 mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold my-4 md:mb-0",children:"Student Details"}),b.jsx("div",{children:d&&b.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 md:px-5 py-2.5 bg-[#01996f] text-white font-medium rounded-lg shadow-md hover:bg-green-700 hover:shadow-lg transition-all duration-200",children:[b.jsx("i",{className:"fa fa-user-plus"}),b.jsx("span",{children:"Reg Student"})]})})]}),o&&b.jsx("div",{className:"fixed inset-0 flex items-center p-2 justify-center bg-opacity-30 backdrop-blur-sm z-50",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg md:p-6 w-full max-w-4xl relative border border-green-400",children:[b.jsx("button",{onClick:()=>c(!1),className:"absolute top-2 right-2 text-xl font-bold text-gray-600 hover:text-black",children:"✕"}),b.jsx(f1,{onClose:()=>c(!1)})]})}),a?b.jsx("div",{className:"flex justify-center items-center min-h-[300px]",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4",style:{color:"#02c986"}})}):i.length===0?b.jsx("p",{className:"text-center text-gray-500 italic",children:"No students found."}):b.jsx("div",{className:"overflow-x-auto shadow-md ",children:b.jsxs("table",{className:"min-w-full border border-gray-200 text-center",children:[b.jsx("thead",{className:"bg-slate-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"py-2 px-2 md:px-4 border",children:"#"}),b.jsx("th",{className:"py-2 px-2 md:px-4 border",children:"ID"}),b.jsx("th",{className:"py-2 px-2 md:px-4 border",children:"Fingerprint ID"}),b.jsx("th",{className:"py-2 px-2 md:px-4 border",children:"Name"}),b.jsx("th",{className:"py-2 px-2 md:px-4 border",children:"RegNum"}),b.jsx("th",{className:"py-2 px-2 md:px-4 border",children:"Action"})]})}),b.jsx("tbody",{children:i.map((m,p)=>b.jsxs("tr",{className:"hover:bg-gray-100 transition-colors",children:[b.jsx("td",{className:"py-1 md:py-2 px-2 md:px-4 border",children:p+1}),b.jsx("td",{className:"py-1 md:py-2 px-2 md:px-4 border",children:m.indexNum}),b.jsx("td",{className:"py-1 md:py-2 px-2 md:px-4 border",children:"FID_156"+m.fingerprintId}),b.jsx("td",{className:"py-1 md:py-2 px-2 md:px-4 border",children:m.name}),b.jsx("td",{className:"py-1 md:py-2 px-2 md:px-4 border",children:m.regNum}),b.jsx("td",{className:"py-1 md:py-2 px-2 md:px-4 border",children:b.jsxs("div",{className:"flex gap-2 justify-center",children:[b.jsx("div",{className:"bg-yellow-300 px-1 rounded border border-gray-400 flex justify-center cursor-pointer items-center",children:b.jsx("i",{className:"fa fa-envelope-o"})}),b.jsx("div",{className:"bg-rose-100 px-2 text-red-700 rounded border border-gray-400 cursor-pointer flex justify-center items-center",children:"X"})]})})]},m.indexNum))})]})})]})},My=s=>{const[e,i]=s.split(":").map(Number);return e*60+i},m1=(s,e)=>{const i=s.getHours()*60+s.getMinutes();return i>=My(e.start)&&i<=My(e.end)},p1=(s,e)=>{const i=[];return e.forEach(a=>{const o=s.map(c=>new Date(c)).filter(c=>m1(c,a));if(o.length>0){const c=o.reduce((d,m)=>d<m?d:m);i.push(c.toISOString())}}),i},V0=({day:s,timeSlots:e=[]})=>{const{students:i,loading:a}=D.useContext(Vi),[o,c]=D.useState(""),[d,m]=D.useState("all"),[p,h]=D.useState("summary"),y=new Date,[v,C]=D.useState(y.getMonth()+1),[k,z]=D.useState(y.getFullYear()),[Q,G]=D.useState(!1),[J,$]=D.useState(""),[se,ye]=D.useState(""),[te,le]=D.useState({}),[ee,w]=D.useState({}),T=(N,H)=>{const K=new Date(N,H-1,1),X=[];for(;K.getMonth()===H-1;){const S=K.toLocaleString("en-US",{weekday:"short"});X.push({date:new Date(K),dayName:S}),K.setDate(K.getDate()+1)}return X},[U,Y]=D.useState(T(k,v));D.useEffect(()=>Y(T(k,v)),[v,k]);const F=()=>{v===1?(C(12),z(k-1)):C(v-1)},re=()=>{v===12?(C(1),z(k+1)):C(v+1)},ve=()=>i.map(N=>{if(!N.timestamps)return null;let H=N.timestamps.filter(Boolean);e.length>0&&(H=p1(N.timestamps,e));const K=U.map(I=>{const q=I.date;if(q>y)return"";const j=H.map(Z=>new Date(Z)).filter(Z=>Z.getDate()===q.getDate()&&Z.getMonth()===q.getMonth()&&Z.getFullYear()===q.getFullYear());return j.length>0?`P (${[...new Set(j.map(ue=>ue.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})))].join(", ")})`:"A"}),S=(K.filter(I=>I.startsWith("P")).length/K.filter(I=>I!=="").length*100).toFixed(2);return{...N,dailyAttendance:K,percentage:S}}).filter(Boolean).filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.indexNum?.toLowerCase().includes(o.toLowerCase())).filter(N=>d==="above80"?N.percentage>=80:d==="below80"?N.percentage<80:!0),pe=()=>{const N=new Date(J),H=new Date(se),K={};ve().forEach(X=>{const S=U.map((j,Z)=>({date:j.date,status:X.dailyAttendance[Z]})).filter(j=>j.date>=N&&j.date<=H&&j.status!==""),I=S.filter(j=>j.status.startsWith("P")).length,q=S.length;K[X.id]=q===0?0:(I/q*100).toFixed(2)}),le(K),G(!1)};return b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"flex gap-2  my-4",children:[b.jsx("button",{onClick:()=>h("summary"),className:`px-4 py-2 rounded ${p==="summary"?"bg-green-500 text-white":"bg-gray-200"}`,children:"Summary"}),b.jsx("button",{onClick:()=>h("raw"),className:`px-4 py-2 rounded ${p==="raw"?"bg-blue-500 text-white":"bg-gray-200"}`,children:"Raw Logs"})]}),b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[b.jsxs("div",{className:"flex gap-4 items-center p-4",children:[b.jsx("h1",{className:"text-2xl font-bold",children:"Attendance"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"cursor-pointer border text-xl px-2 hover:bg-black hover:text-white",onClick:F,children:"←"}),b.jsxs("span",{children:[v,"/",k]}),b.jsx("span",{className:"cursor-pointer border text-xl px-2 hover:bg-black hover:text-white",onClick:re,children:"→"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"cursor-pointer px-3 bg-black text-white font-bold rounded p-1 border",onClick:()=>G(!Q),children:"%"}),Q&&b.jsx("div",{className:"absolute md:top-[-60px] top-[-10px] left-[-300px] md:left-[-100px] bg-white border rounded p-2",children:b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[b.jsx("input",{type:"date",value:J,onChange:N=>$(N.target.value),className:"border border-gray-300 rounded px-2 focus:outline-none focus:ring-2 focus:ring-green-400"}),b.jsx("span",{}),b.jsx("input",{type:"date",value:se,onChange:N=>ye(N.target.value),className:"border border-gray-300 rounded px-2 focus:outline-none focus:ring-2 focus:ring-green-400"}),b.jsx("button",{className:"px-2 py-1 bg-green-500 text-white rounded cursor-pointer",onClick:pe,children:"Calculate"})]})})]})]}),b.jsxs("div",{className:"flex flex-column gap-4",children:[b.jsx("input",{type:"text",placeholder:"Search Name/Index...",className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400",value:o,onChange:N=>c(N.target.value)}),p==="summary"&&b.jsxs("select",{className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400",value:d,onChange:N=>m(N.target.value),children:[b.jsx("option",{value:"all",children:"All"}),b.jsx("option",{value:"above80",children:"Above 80%"}),b.jsx("option",{value:"below80",children:"Below 80%"})]})]})]}),a?b.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4",style:{color:"#02c986"}})}):p==="raw"?b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full border text-center",children:[b.jsx("thead",{className:"bg-blue-600 text-white sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"py-1 px-2 border",children:"#"}),b.jsx("th",{className:"py-1 px-2 border",children:"Name"}),b.jsx("th",{className:"py-1 px-2 border",children:"Index"}),b.jsx("th",{className:"py-1 px-2 border",children:"Timestamps"})]})}),b.jsx("tbody",{children:i.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:"4",className:"py-4 text-gray-500 italic",children:"No attendance found."})}):i.map((N,H)=>b.jsxs("tr",{className:"hover:bg-gray-100",children:[b.jsx("td",{className:"py-1 px-2 border",children:H+1}),b.jsx("td",{className:"py-1 px-2 border",children:N.name}),b.jsx("td",{className:"py-1 px-2 border",children:N.indexNum}),b.jsx("td",{className:"py-1 px-2 border text-left",children:N.timestamps.filter(Boolean).map((K,X)=>b.jsx("div",{children:new Date(K).toLocaleString()},X))})]},N.fingerprintId||H))})]})}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full border text-center",children:[b.jsx("thead",{className:"bg-slate-100 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"py-1 px-2 border",children:"#"}),b.jsx("th",{className:"py-1 px-2 border",children:"Name"}),b.jsx("th",{className:"py-1 px-2 border",children:"Index"}),U.map((N,H)=>b.jsxs("th",{className:"py-1 px-2 border text-xs",children:[N.dayName,b.jsx("br",{}),N.date.getDate()]},H)),b.jsx("th",{className:"py-2 px-2 border bg-blue-500",children:b.jsx("div",{className:"cursor-pointer",children:"%"})})]})}),b.jsx("tbody",{children:ve().map((N,H)=>b.jsxs("tr",{className:"hover:bg-gray-100",children:[b.jsx("td",{className:"py-1 px-2 border",children:H+1}),b.jsx("td",{className:"py-1 px-2 border",children:N.name}),b.jsx("td",{className:"py-1 px-2 border",children:N.indexNum}),N.dailyAttendance.map((K,X)=>{const S=`${N.id}-${X}`,I=ee[S]||!1;return b.jsx("td",{className:`py-1 px-2 border font-bold ${K.startsWith("P")?"bg-green-200 cursor-pointer":K==="A"?"bg-red-50/70 text-red-600":""}`,onClick:()=>{K.startsWith("P")&&w(q=>({...q,[S]:!q[S]}))},children:K.startsWith("P")?b.jsxs(b.Fragment,{children:["P"," ",I&&b.jsxs("span",{className:"text-[10px] font-normal",children:["(",K.slice(3,-1),")"]})]}):K==="A"?"A":""},X)}),b.jsxs("td",{className:"py-2 px-2 border font-bold",children:[te[N.id]??N.percentage,"%"]})]},N.fingerprintId||H))})]})})]})},g1=()=>{const{data:s,loading:e}=D.useContext(Vi);return b.jsxs("div",{className:"container mx-auto px-4 py-8",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-center text-[#01996f]",children:"Semester 5 CSE Time Table"}),e?b.jsx("div",{className:"flex justify-center items-center min-h-[300px]",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-[#02c986]"})}):s.length<=1?b.jsx("p",{className:"text-center text-gray-500 italic",children:"No timetable data found."}):b.jsx("div",{className:"overflow-x-auto",children:b.jsx("table",{className:"w-full border-collapse bg-white shadow-lg rounded-lg overflow-hidden text-sm md:text-base",children:b.jsx("tbody",{children:s.slice(1).map((i,a)=>b.jsx("tr",{className:`hover:bg-green-50 transition ${a%2===0?"bg-gray-50":"bg-white"}`,children:Object.values(i).map((o,c)=>b.jsx("td",{className:"px-4 py-3 border border-gray-200 text-gray-700 text-center",children:o||"-"},c))},a))})})})]})},_1=()=>{const{modules:s,loading:e}=D.useContext(Vi),i=hu(),a=["bg-green-200","bg-blue-200","bg-yellow-200","bg-pink-200","bg-purple-200","bg-red-200","bg-indigo-200","bg-teal-200","bg-orange-200","bg-lime-200","bg-cyan-200"];return b.jsxs("div",{className:"container mx-auto p-6 mb-5",children:[b.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Modules List"}),e?b.jsx("div",{className:"flex justify-center items-center min-h-[300px]",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4",style:{color:"#02c986"}})}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((o,c)=>{const d=a[Math.floor(Math.random()*a.length)];return b.jsxs("div",{className:`border rounded-lg shadow p-4 text-center cursor-pointer hover:bg-green-50 ${d} bg-opacity-70`,onClick:()=>i(`/modules/${encodeURIComponent(o.name)}`,{state:{day:o.day,time:o.time}}),children:[b.jsx("div",{className:"font-semibold",children:o.name}),b.jsxs("div",{className:"text-gray-600 mt-1",children:[o.day," (",o.time,")"]})]},c)})})]})},y1=s=>s?s.split(",").map(e=>{const[i,a]=e.split("-").map(o=>o.trim().replace(".",":"));return{start:i,end:a}}):[],v1=()=>{const{moduleName:s}=ST(),e=ii(),{day:i,time:a}=e.state||{},{modules:o,loadingModules:c}=D.useContext(Vi),d=o.filter(p=>p.name===s),m=y1(a);return c?b.jsx("div",{className:"flex justify-center items-center min-h-[600px]",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#02c986] border-t-transparent"})}):b.jsxs("div",{className:"container mx-auto px-4 py-8",children:[b.jsxs("div",{className:"bg-gradient-to-r from-[#02c986] to-[#3bb8ff] text-white rounded-2xl shadow-lg py-6 px-4 text-center mb-10",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:s}),d.length>0&&b.jsxs("div",{className:" flex gap-3 mt-4",children:[b.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-700",children:"Schedule →"}),b.jsx("div",{className:"flex flex-wrap gap-3",children:d.map((p,h)=>b.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium hover:bg-green-200 transition-colors",children:[p.day," (",p.time,")"]},h))})]})]}),b.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6",children:[b.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-700 mb-4",children:"Attendance"}),b.jsx(V0,{day:i,timeSlots:m})]})]})};function Rh(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b1=G0,Y0=new rl("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Fd("@firebase/auth");function E1(s,...e){lu.logLevel<=Ve.WARN&&lu.warn(`Auth (${Nr}): ${s}`,...e)}function zo(s,...e){lu.logLevel<=Ve.ERROR&&lu.error(`Auth (${Nr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s,...e){throw Nh(s,...e)}function On(s,...e){return Nh(s,...e)}function S1(s,e,i){const a=Object.assign(Object.assign({},b1()),{[e]:i});return new rl("auth","Firebase",a).create(e,{appName:s.name})}function Nh(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Y0.create(s,...e)}function me(s,e,...i){if(!s)throw Nh(e,...i)}function Xn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zo(e),new Error(e)}function ni(s,e){s||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function T1(){return ky()==="http:"||ky()==="https:"}function ky(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T1()||wC()||"connection"in navigator)?navigator.onLine:!0}function w1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ni(i>e,"Short delay should be less than long delay!"),this.isMobile=Gd()||bv()}get(){return C1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(s,e){ni(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new fl(3e4,6e4);function dl(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ir(s,e,i,a,o={}){return K0(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const m=Rr(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode),F0.fetch()(Q0(s,s.config.apiHost,i,m),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},c))})}async function K0(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},x1),e);try{const o=new N1(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Io(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,h]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Io(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Io(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Io(s,"user-disabled",d);const y=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw S1(s,y,h);En(s,y)}}catch(o){if(o instanceof Pi)throw o;En(s,"network-request-failed",{message:String(o)})}}async function xu(s,e,i,a,o={}){const c=await Ir(s,e,i,a,o);return"mfaPendingCredential"in c&&En(s,"multi-factor-auth-required",{_serverResponse:c}),c}function Q0(s,e,i,a){const o=`${e}${i}?${a}`;return s.config.emulator?Ah(s.config,o):`${s.config.apiScheme}://${o}`}class N1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(On(this.auth,"network-request-failed")),R1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Io(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=On(s,e,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(s,e){return Ir(s,"POST","/v1/accounts:delete",e)}async function O1(s,e){return Ir(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D1(s,e=!1){const i=fn(s),a=await i.getIdToken(e),o=Oh(a);me(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ga(od(o.auth_time)),issuedAtTime:Ga(od(o.iat)),expirationTime:Ga(od(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function od(s){return Number(s)*1e3}function Oh(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Go(i);return o?JSON.parse(o):(zo("Failed to decode base64 JWT payload"),null)}catch(o){return zo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function I1(s){const e=Oh(s);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Pi&&M1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function M1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(s){var e;const i=s.auth,a=await s.getIdToken(),o=await el(s,O1(i,{idToken:a}));me(o?.users.length,i,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?j1(c.providerUserInfo):[],m=U1(s.providerData,d),p=s.isAnonymous,h=!(s.email&&c.passwordHash)&&!m?.length,y=p?h:!1,v={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new X0(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(s,v)}async function L1(s){const e=fn(s);await ou(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U1(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function j1(s){return s.map(e=>{var{providerId:i}=e,a=Rh(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(s,e){const i=await K0(s,{},async()=>{const a=Rr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=Q0(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",F0.fetch()(d,{method:"POST",headers:m,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}async getToken(e,i=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await z1(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new tl;return a&&(me(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(me(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(me(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(s,e){me(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,c=Rh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new X0(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await el(this,this.stsTokenManager.getToken(this.auth,e));return me(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return D1(this,e)}reload(){return L1(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ou(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await el(this,A1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,c,d,m,p,h,y;const v=(a=i.displayName)!==null&&a!==void 0?a:void 0,C=(o=i.email)!==null&&o!==void 0?o:void 0,k=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,Q=(m=i.tenantId)!==null&&m!==void 0?m:void 0,G=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,J=(h=i.createdAt)!==null&&h!==void 0?h:void 0,$=(y=i.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:se,emailVerified:ye,isAnonymous:te,providerData:le,stsTokenManager:ee}=i;me(se&&ee,e,"internal-error");const w=tl.fromJSON(this.name,ee);me(typeof se=="string",e,"internal-error"),Oi(v,e.name),Oi(C,e.name),me(typeof ye=="boolean",e,"internal-error"),me(typeof te=="boolean",e,"internal-error"),Oi(k,e.name),Oi(z,e.name),Oi(Q,e.name),Oi(G,e.name),Oi(J,e.name),Oi($,e.name);const T=new hs({uid:se,auth:e,email:C,emailVerified:ye,displayName:v,isAnonymous:te,photoURL:z,phoneNumber:k,tenantId:Q,stsTokenManager:w,createdAt:J,lastLoginAt:$});return le&&Array.isArray(le)&&(T.providerData=le.map(U=>Object.assign({},U))),G&&(T._redirectEventId=G),T}static async _fromIdTokenResponse(e,i,a=!1){const o=new tl;o.updateFromServerResponse(i);const c=new hs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ou(c),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;function Wn(s){ni(s instanceof Function,"Expected a class definition");let e=Ly.get(s);return e?(ni(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Ly.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}W0.type="NONE";const Uy=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(s,e,i){return`firebase:${s}:${e}:${i}`}class pr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Ho(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ho("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new pr(Wn(Uy),e,a);const o=(await Promise.all(i.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let c=o[0]||Wn(Uy);const d=Ho(a,e.config.apiKey,e.name);let m=null;for(const h of i)try{const y=await h._get(d);if(y){const v=hs._fromJSON(e,y);h!==c&&(m=v),c=h;break}}catch{}const p=o.filter(h=>h._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new pr(c,e,a):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(i.map(async h=>{if(h!==c)try{await h._remove(d)}catch{}})),new pr(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tb(e))return"Blackberry";if(nb(e))return"Webos";if(Dh(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(eb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Z0(s=Mt()){return/firefox\//i.test(s)}function Dh(s=Mt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(s=Mt()){return/crios\//i.test(s)}function J0(s=Mt()){return/iemobile/i.test(s)}function eb(s=Mt()){return/android/i.test(s)}function tb(s=Mt()){return/blackberry/i.test(s)}function nb(s=Mt()){return/webos/i.test(s)}function Ru(s=Mt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function H1(s=Mt()){var e;return Ru(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B1(){return xC()&&document.documentMode===10}function ib(s=Mt()){return Ru(s)||eb(s)||nb(s)||tb(s)||/windows phone/i.test(s)||J0(s)}function P1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s,e=[]){let i;switch(s){case"Browser":i=jy(Mt());break;case"Worker":i=`${jy(Mt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Nr}/${a}`}async function rb(s,e){return Ir(s,"GET","/v2/recaptchaConfig",dl(s,e))}function zy(s){return s!==void 0&&s.enterprise!==void 0}class ab{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(i=>i.provider==="EMAIL_PASSWORD_PROVIDER"&&i.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}function lb(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=On("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",q1().appendChild(a)})}function V1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const G1="https://www.google.com/recaptcha/enterprise.js?render=",Y1="recaptcha-enterprise",F1="NO_RECAPTCHA";class ob{constructor(e){this.type=Y1,this.auth=hl(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{rb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const h=new ab(p);return c.tenantId==null?c._agentRecaptchaConfig=h:c._tenantRecaptchaConfigs[c.tenantId]=h,d(h.siteKey)}}).catch(p=>{m(p)})})}function o(c,d,m){const p=window.grecaptcha;zy(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(h=>{d(h)}).catch(()=>{d(F1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,d)=>{a(this.auth).then(m=>{if(!i&&zy(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}lb(G1+m).then(()=>{o(m,c,d)}).catch(p=>{d(p)})}}).catch(m=>{d(m)})})}}async function Hy(s,e,i,a=!1){const o=new ob(s);let c;try{c=await o.verify(i)}catch{c=await o.verify(i,!0)}const d=Object.assign({},e);return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new K1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Wn(i)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await pr.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var i;const a=await this.assertedPersistence.getCurrentUser();let o=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&p?.user&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ou(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const i=e?fn(e):null;return i&&me(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}async initializeRecaptchaConfig(){const e=await rb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new ab(e);this.tenantId==null?this._agentRecaptchaConfig=i:this._tenantRecaptchaConfigs[this.tenantId]=i,i.emailPasswordEnabled&&new ob(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Wn(e)||this._popupRedirectResolver;me(i,this,"argument-error"),this.redirectPersistenceManager=await pr.create(this,[Wn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i),d=this._isInitialized?Promise.resolve():this._initializationPromise;return me(d,this,"internal-error"),d.then(()=>c(this.currentUser)),typeof i=="function"?e.addObserver(i,a,o):e.addObserver(i)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i?.error&&E1(`Error while retrieving App Check token: ${i.error}`),i?.token}}function hl(s){return fn(s)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=UC(i=>this.observer=i)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(s,e){const i=Qd(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fo(c,e??{}))return o;En(o,"already-initialized")}return i.initialize({options:e})}function W1(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Wn);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function Z1(s,e,i){const a=hl(s);me(a._canInitEmulator,a,"emulator-config-failed"),me(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=ub(e),{host:d,port:m}=$1(e),p=m===null?"":`:${m}`;a.config.emulator={url:`${c}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),J1()}function ub(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function $1(s){const e=ub(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Py(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Py(d)}}}function Py(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function J1(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,i){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function eA(s,e){return Ir(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(s,e){return xu(s,"POST","/v1/accounts:signInWithPassword",dl(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(s,e){return xu(s,"POST","/v1/accounts:signInWithEmailLink",dl(s,e))}async function nA(s,e){return xu(s,"POST","/v1/accounts:signInWithEmailLink",dl(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends Ih{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new nl(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new nl(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){var i;switch(this.signInMethod){case"password":const a={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const o=await Hy(e,a,"signInWithPassword");return ud(e,o)}else return ud(e,a).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const c=await Hy(e,a,"signInWithPassword");return ud(e,c)}else return Promise.reject(o)});case"emailLink":return tA(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":return eA(e,{idToken:i,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return nA(e,{idToken:i,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gr(s,e){return xu(s,"POST","/v1/accounts:signInWithIdp",dl(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="http://localhost";class bs extends Ih{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):En("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,c=Rh(i,["providerId","signInMethod"]);if(!a||!o)return null;const d=new bs(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return gr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,gr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,gr(e,i)}buildRequest(){const e={requestUri:iA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Rr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rA(s){const e=ja(za(s)).link,i=e?ja(za(e)).deep_link_id:null,a=ja(za(s)).deep_link_id;return(a?ja(za(a)).link:null)||a||i||e||s}class Mh{constructor(e){var i,a,o,c,d,m;const p=ja(za(e)),h=(i=p.apiKey)!==null&&i!==void 0?i:null,y=(a=p.oobCode)!==null&&a!==void 0?a:null,v=sA((o=p.mode)!==null&&o!==void 0?o:null);me(h&&y&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=y,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const i=rA(e);try{return new Mh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.providerId=Mr.PROVIDER_ID}static credential(e,i){return nl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Mh.parseLink(i);return me(a,"argument-error"),nl._fromEmailAndCode(e,a.code,a.tenantId)}}Mr.PROVIDER_ID="password";Mr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ml{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return bs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ii.credential(i,a)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ml{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends ml{constructor(){super("twitter.com")}static credential(e,i){return bs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ki.credential(i,a)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await hs._fromIdTokenResponse(e,a,o),d=qy(a);return new Sr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=qy(a);return new Sr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function qy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Pi{constructor(e,i,a,o){var c;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new uu(e,i,a,o)}}function fb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uu._fromErrorAndOperation(s,c,e,a):c})}async function aA(s,e,i=!1){const a=await el(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Sr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(s,e,i=!1){const{auth:a}=s,o="reauthenticate";try{const c=await el(s,fb(a,o,e,s),i);me(c.idToken,a,"internal-error");const d=Oh(c.idToken);me(d,a,"internal-error");const{sub:m}=d;return me(s.uid===m,a,"user-mismatch"),Sr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&En(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(s,e,i=!1){const a="signIn",o=await fb(s,a,e),c=await Sr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function oA(s,e){return db(hl(s),e)}function uA(s,e,i){return oA(fn(s),Mr.credential(e,i))}function cA(s,e,i,a){return fn(s).onIdTokenChanged(e,i,a)}function fA(s,e,i){return fn(s).beforeAuthStateChanged(e,i)}const cu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(cu,"1"),this.storage.removeItem(cu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){const s=Mt();return Dh(s)||Ru(s)}const hA=1e3,mA=10;class mb extends hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dA()&&P1(),this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(a);if(e.newValue!==d)e.newValue!==null?this.storage.setItem(a,e.newValue):this.storage.removeItem(a);else if(this.localCache[a]===e.newValue&&!i)return}const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);B1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mA):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const pA=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}pb.type="SESSION";const gb=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Nu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async h=>h(i.origin,c)),p=await gA(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const h=kh("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(v){const C=v;if(C.data.eventId===h)switch(C.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(C.data.response);break;default:clearTimeout(y),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:h,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function yA(s){Dn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function vA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bA(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function EA(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebaseLocalStorageDb",SA=1,fu="firebaseLocalStorage",vb="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Au(s,e){return s.transaction([fu],e?"readwrite":"readonly").objectStore(fu)}function TA(){const s=indexedDB.deleteDatabase(yb);return new pl(s).toPromise()}function Md(){const s=indexedDB.open(yb,SA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(fu,{keyPath:vb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(fu)?e(a):(a.close(),await TA(),e(await Md()))})})}async function Vy(s,e,i){const a=Au(s,!0).put({[vb]:e,value:i});return new pl(a).toPromise()}async function CA(s,e){const i=Au(s,!1).get(e),a=await new pl(i).toPromise();return a===void 0?null:a.value}function Gy(s,e){const i=Au(s,!0).delete(e);return new pl(i).toPromise()}const wA=800,xA=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Md(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>xA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nu._getInstance(EA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await vA(),!this.activeServiceWorker)return;this.sender=new _A(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Md();return await Vy(e,cu,"1"),await Gy(e,cu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Vy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>CA(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Au(o,!1).getAll();return new pl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const RA=bb;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(s,e){return e?Wn(e):(me(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Ih{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return gr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return gr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function AA(s){return db(s.auth,new Lh(s),s.bypassAuthState)}function OA(s){const{auth:e,user:i}=s;return me(i,e,"internal-error"),lA(i,new Lh(s),s.bypassAuthState)}async function DA(s){const{auth:e,user:i}=s;return me(i,e,"internal-error"),aA(i,new Lh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AA;case"linkViaPopup":case"linkViaRedirect":return DA;case"reauthViaPopup":case"reauthViaRedirect":return OA;default:En(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new fl(2e3,1e4);class ur extends Eb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=kh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IA.get())};e()}}ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="pendingRedirect",Bo=new Map;class kA extends Eb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bo.get(this.auth._key());if(!e){try{const a=await LA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bo.set(this.auth._key(),e)}return this.bypassAuthState||Bo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LA(s,e){const i=zA(e),a=jA(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function UA(s,e){Bo.set(s._key(),e)}function jA(s){return Wn(s._redirectPersistence)}function zA(s){return Ho(MA,s.config.apiKey,s.name)}async function HA(s,e,i=!1){const a=hl(s),o=NA(a,e),d=await new kA(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=600*1e3;class PA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!Sb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(On(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yy(e))}saveEventToCache(e){this.cachedEventUids.add(Yy(e)),this.lastProcessedEventTime=Date.now()}}function Yy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Sb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function qA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(s,e={}){return Ir(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YA=/^https?/;async function FA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await VA(s);for(const i of e)try{if(KA(i))return}catch{}En(s,"unauthorized-domain")}function KA(s){const e=Id(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!YA.test(i))return!1;if(GA.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new fl(3e4,6e4);function Fy(){const s=Dn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function XA(s){return new Promise((e,i)=>{var a,o,c;function d(){Fy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fy(),i(On(s,"network-request-failed"))},timeout:QA.get()})}if(!((o=(a=Dn().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Dn().gapi)===null||c===void 0)&&c.load)d();else{const m=V1("iframefcb");return Dn()[m]=()=>{gapi.load?d():i(On(s,"network-request-failed"))},lb(`https://apis.google.com/js/api.js?onload=${m}`).catch(p=>i(p))}}).catch(e=>{throw Po=null,e})}let Po=null;function WA(s){return Po=Po||XA(s),Po}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new fl(5e3,15e3),$A="__/auth/iframe",JA="emulator/auth/iframe",eO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nO(s){const e=s.config;me(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Ah(e,JA):`https://${s.config.authDomain}/${$A}`,a={apiKey:e.apiKey,appName:s.name,v:Nr},o=tO.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Rr(a).slice(1)}`}async function iO(s){const e=await WA(s),i=Dn().gapi;return me(i,s,"internal-error"),e.open({where:document.body,url:nO(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eO,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=On(s,"network-request-failed"),m=Dn().setTimeout(()=>{c(d)},ZA.get());function p(){Dn().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rO=500,aO=600,lO="_blank",oO="http://localhost";class Ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uO(s,e,i,a=rO,o=aO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},sO),{width:a.toString(),height:o.toString(),top:c,left:d}),h=Mt().toLowerCase();i&&(m=$0(h)?lO:i),Z0(h)&&(e=e||oO,p.scrollbars="yes");const y=Object.entries(p).reduce((C,[k,z])=>`${C}${k}=${z},`,"");if(H1(h)&&m!=="_self")return cO(e||"",m),new Ky(null);const v=window.open(e||"",m,y);me(v,s,"popup-blocked");try{v.focus()}catch{}return new Ky(v)}function cO(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="__/auth/handler",dO="emulator/auth/handler",hO=encodeURIComponent("fac");async function Qy(s,e,i,a,o,c){me(s.config.authDomain,s,"auth-domain-config-required"),me(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Nr,eventId:o};if(e instanceof cb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",hd(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))d[y]=v}if(e instanceof ml){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(d.scopes=y.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const p=await s._getAppCheckToken(),h=p?`#${hO}=${encodeURIComponent(p)}`:"";return`${mO(s)}?${Rr(m).slice(1)}${h}`}function mO({config:s}){return s.emulator?Ah(s,dO):`https://${s.authDomain}/${fO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="webStorageSupport";class pO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=HA,this._overrideRedirectResult=UA}async _openPopup(e,i,a,o){var c;ni((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Qy(e,i,a,Id(),o);return uO(e,d,kh())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await Qy(e,i,a,Id(),o);return yA(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ni(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await iO(e),a=new PA(e);return i.register("authEvent",o=>(me(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(cd,{type:cd},o=>{var c;const d=(c=o?.[0])===null||c===void 0?void 0:c[cd];d!==void 0&&i(!!d),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=FA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return ib()||Dh()||Ru()}}const gO=pO;var Xy="@firebase/auth",Wy="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function vO(s){yr(new ms("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;me(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(s)},h=new Q1(a,o,c,p);return W1(h,i),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yr(new ms("auth-internal",e=>{const i=hl(e.getProvider("auth").getImmediate());return(a=>new _O(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(Xy,Wy,yO(s)),ji(Xy,Wy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=300,EO=vv("authIdTokenMaxAge")||bO;let Zy=null;const SO=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>EO)return;const o=i?.token;Zy!==o&&(Zy=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TO(s=wv()){const e=Qd(s,"auth");if(e.isInitialized())return e.getImmediate();const i=X1(s,{popupRedirectResolver:gO,persistence:[RA,pA,gb]}),a=vv("authTokenSyncURL");if(a){const c=SO(a);fA(i,c,()=>c(i.currentUser)),cA(i,d=>c(d))}const o=_v("auth");return o&&Z1(i,`http://${o}`),i}vO("Browser");const CO=({setToken:s,setAdminEmail:e})=>{const[i,a]=D.useState(""),[o,c]=D.useState(""),[d,m]=D.useState(!1),[p,h]=D.useState(""),y=async v=>{v.preventDefault(),m(!0),h("");const C=TO();try{const z=(await uA(C,i,o)).user;if(z.email!=="smarfingeriot32@gmail.com"){h("You are not authorized as admin."),await C.signOut(),m(!1);return}s(z.uid),e(z.email)}catch(k){console.error(k),h(k.message)}m(!1)};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 to-white px-4",children:b.jsxs("div",{className:"w-full max-w-md bg-white shadow-xl rounded-2xl p-8 space-y-6",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("img",{className:"mx-auto h-16 w-16 rounded-full border-2 border-green-500",src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"Admin Icon"}),b.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800",children:"Admin Login"}),b.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to access your dashboard"}),p&&b.jsx("p",{className:"text-red-500 text-sm mt-2",children:p})]}),b.jsxs("form",{onSubmit:y,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Email address"}),b.jsx("input",{id:"email-address",type:"email",autoComplete:"email",required:!0,value:i,onChange:v=>a(v.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-indigo-500 sm:text-sm",placeholder:"admin@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{id:"password",type:"password",autoComplete:"current-password",required:!0,value:o,onChange:v=>c(v.target.value),className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••"})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white transition-all duration-200 ${d?"bg-indigo-300 cursor-not-allowed":"bg-[#02c986] hover:bg-[#029c72] focus:ring-2 focus:ring-green-300 focus:ring-offset-2"}`,children:d?"Signing in...":"Sign in"})})]})]})})},wO="/IOT_Biometric_Fingerprint_Attendance_System/assets/hero2-CRlCLtc8.png",xO=()=>{const s=[{name:"Main Theme",bg:"#02c986",text:"#ffffff"},{name:"Dark Variant",bg:"#01996f",text:"#ffffff"},{name:"Light Variant",bg:"#8ef4cc",text:"#000000"},{name:"Online LED",bg:"#00ff88",text:"#000000"},{name:"Offline LED",bg:"#ff5c5c",text:"#000000"},{name:"Offline Text",bg:"#e0f9f0",text:"#000000"}];return b.jsx("div",{className:"p-4 space-y-4",children:s.map(e=>b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"px-20 py-10 rounded shadow-lg",style:{backgroundColor:e.bg}}),b.jsxs("h1",{style:{color:e.text,fontWeight:"bold"},children:[e.name," (",e.bg,")"]})]},e.name))})},RO=({token:s})=>(hu(),b.jsxs("div",{className:"min-h-screen flex flex-col p-3 md:p-15",children:[b.jsxs("header",{className:"flex flex-col lg:flex-row rounded-3xl items-center justify-between bg-[#8ef4cc]",children:[b.jsxs("div",{className:"lg:w-1/2 text-center md:text-left px-4 md:px-20",children:[b.jsx("h1",{className:"text-3xl md:text-5xl text-[#01996f] font-bold",children:"Smart Attendance System"}),b.jsx("p",{className:"text md:text-xl my-5",children:"IoT-enabled fingerprint biometric attendance tracking for classrooms, ensuring accuracy, security, and real-time monitoring."}),b.jsxs("div",{className:"my-5 lg:mt-8 space-y-2 text-left md:text-xl font-medium text-gray-700",children:[b.jsxs("p",{className:"ml-5",children:["→ 👆🖐️  ",b.jsx("span",{className:"ml-2",children:"Scan Fingerprint"})]}),b.jsxs("p",{className:"ml-10",children:["→ 📡🌐 ",b.jsx("span",{className:"ml-2",children:"ESP32 Sends Data"})]}),b.jsxs("p",{className:"ml-15",children:["→ 🔐🆔 ",b.jsx("span",{className:"ml-2",children:"Authentication"})]}),b.jsxs("p",{className:"ml-20",children:["→ 📊🖥️ ",b.jsx("span",{className:"ml-2",children:"Dashboard Logging"})]}),b.jsxs("p",{className:"ml-25",children:["→ 👩‍🎓👨‍🎓 ",b.jsx("span",{className:"ml-2",children:"Attendance Recorded"})]})]})]}),b.jsx("div",{className:"lg:w-1/2",children:b.jsx("img",{src:wO,alt:"Hero",className:"w-full md:rounded-r-3xl"})})]}),b.jsxs("section",{className:"py-20 px-4 md:px-20 bg-white",children:[b.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Features"}),b.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"p-6 border rounded-xl shadow hover:shadow-lg transition",children:[b.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Fingerprint Authentication"}),b.jsx("p",{children:"Secure and accurate attendance using the AS608 fingerprint sensor."})]}),b.jsxs("div",{className:"p-6 border rounded-xl shadow hover:shadow-lg transition",children:[b.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Real-Time Attendance"}),b.jsx("p",{children:"Automatic, cloud-based attendance logging accessible from anywhere."})]}),b.jsxs("div",{className:"p-6 border rounded-xl shadow hover:shadow-lg transition",children:[b.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Web Dashboard"}),b.jsx("p",{children:"Visualize attendance trends, export reports, and monitor classrooms in real-time."})]})]})]}),b.jsx(xO,{}),b.jsxs("section",{className:"py-20 px-4 md:px-20 bg-green-100",children:[b.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"System Overview"}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[b.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"IoT Device",className:"mx-auto w-80"}),b.jsxs("div",{children:[b.jsx("p",{className:"mb-4",children:"The system uses an ESP32 microcontroller integrated with the AS608 fingerprint sensor to authenticate students. Attendance data is sent securely over Wi-Fi to Firebase Realtime Database and displayed on a web dashboard for lecturers."}),b.jsx("p",{children:"This approach replaces manual roll calls, minimizes errors, prevents proxy attendance, and improves classroom efficiency."})]})]})]})]})),NO=()=>{const[s,e]=D.useState(localStorage.getItem("token")||""),[i,a]=D.useState(localStorage.getItem("adminEmail")||"");return D.useEffect(()=>{s&&i?(localStorage.setItem("token",s),localStorage.setItem("adminEmail",i)):(localStorage.removeItem("token"),localStorage.removeItem("adminEmail"))},[s,i]),b.jsxs("div",{className:"min-h-screen flex flex-col",children:[b.jsx(u1,{token:s,setToken:e,adminEmail:i}),b.jsx("div",{className:"flex-1",children:b.jsxs(jT,{children:[b.jsx(Kn,{path:"/login",element:s?b.jsx(H_,{to:"/home"}):b.jsx(CO,{setToken:e,setAdminEmail:a})}),b.jsx(Kn,{path:"/home",element:b.jsx(RO,{})}),b.jsx(Kn,{path:"/students",element:b.jsx(h1,{token:s,adminEmail:i})}),b.jsx(Kn,{path:"/attendance",element:b.jsx(V0,{})}),b.jsx(Kn,{path:"/time-table",element:b.jsx(g1,{})}),b.jsx(Kn,{path:"/modules",element:b.jsx(_1,{})}),b.jsx(Kn,{path:"/modules/:moduleName",element:b.jsx(v1,{})}),b.jsx(Kn,{path:"*",element:b.jsx(H_,{to:"/home"})})]})}),b.jsx(c1,{})]})};FS.createRoot(document.getElementById("root")).render(b.jsx(aC,{children:b.jsx(o1,{children:b.jsx(NO,{})})}));
